<?xml version="1.0" encoding="utf-8" standalone="yes"?>
<rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom">
    <channel>
        <title>course_notes on Under The Ginkgo</title>
        <link>https://ginkgo.org.cn/categories/course_notes/</link>
        <description>Recent content in course_notes on Under The Ginkgo</description>
        <generator>Hugo -- gohugo.io</generator>
        <language>en-uk</language>
        <lastBuildDate>Mon, 30 May 2022 00:00:00 +0000</lastBuildDate><atom:link href="https://ginkgo.org.cn/categories/course_notes/index.xml" rel="self" type="application/rss+xml" /><item>
        <title>NSE Week 10: Privacy and anonymity</title>
        <link>https://ginkgo.org.cn/posts/nse_week_10_privacy_and_anonymity/</link>
        <pubDate>Mon, 30 May 2022 00:00:00 +0000</pubDate>
        
        <guid>https://ginkgo.org.cn/posts/nse_week_10_privacy_and_anonymity/</guid>
        <description>&lt;h2 id=&#34;nse-week-10-privacy-and-anonymity&#34;&gt;NSE Week 10: Privacy and anonymity&lt;/h2&gt;
&lt;h3 id=&#34;privacy-and-anonymity&#34;&gt;Privacy and Anonymity&lt;/h3&gt;
&lt;p&gt;Privacy is about you choosing what you let other people know which means keep confidentiality of information that you don&amp;rsquo;t want to share with others &lt;!-- raw HTML omitted --&gt;&lt;/p&gt;
&lt;p&gt;However, Anonymity is about conceal your identity, the confidentiality of your identity, no one know what you are doing. &lt;!-- raw HTML omitted --&gt;&lt;/p&gt;
&lt;h4 id=&#34;privacy-and-anonymity-on-public-networks&#34;&gt;Privacy and anonymity on public networks&lt;/h4&gt;
&lt;p&gt;However, the confidentiality of both the data you want to transmit or your identity is exposed to Internet. &lt;!-- raw HTML omitted --&gt;&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;
&lt;p&gt;Internet is designed as a public network &lt;!-- raw HTML omitted --&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Devices in LAN can see your traffic &lt;!-- raw HTML omitted --&gt;&lt;/li&gt;
&lt;li&gt;Intermediate routers can see all traffic that passes through them &lt;!-- raw HTML omitted --&gt;&lt;/li&gt;
&lt;li&gt;Remember what we leanred in CIS? Email is actually a post card but not a letter, which means everyone could see the content on it with envelop protects &lt;!-- raw HTML omitted --&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Routing information is public &lt;!-- raw HTML omitted --&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;IP packet will contain source and destination for routing &lt;!-- raw HTML omitted --&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;It is easy to figure out who is talking to whom &lt;!-- raw HTML omitted --&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Encryption &lt;code&gt;dose NOT&lt;/code&gt; hide identities &lt;!-- raw HTML omitted --&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;encryption only happen on payload but not the routing information in header &lt;!-- raw HTML omitted --&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Even IPsec have to reveal the IP address of IPsec gateways &lt;!-- raw HTML omitted --&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;Why is anonymity so important? &lt;!-- raw HTML omitted --&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;packet headers exposes two ends of communication &lt;!-- raw HTML omitted --&gt;&lt;/li&gt;
&lt;li&gt;packet routes can be tracked (traffic analysis) &lt;!-- raw HTML omitted --&gt;&lt;/li&gt;
&lt;li&gt;encrypted payload is still visible (cryptanalysis) &lt;!-- raw HTML omitted --&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;Some applications: &lt;!-- raw HTML omitted --&gt;&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;Privacy &lt;!-- raw HTML omitted --&gt;
&lt;ul&gt;
&lt;li&gt;hide online transactions, web browsing &lt;!-- raw HTML omitted --&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;Untraceable email &lt;!-- raw HTML omitted --&gt;
&lt;ul&gt;
&lt;li&gt;corporate whistle-blowers &lt;!-- raw HTML omitted --&gt;&lt;/li&gt;
&lt;li&gt;political dissidents &lt;!-- raw HTML omitted --&gt;&lt;/li&gt;
&lt;li&gt;confidential business negotiations &lt;!-- raw HTML omitted --&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;Digital cash &lt;!-- raw HTML omitted --&gt;
&lt;ul&gt;
&lt;li&gt;unlinkable to buyer&amp;rsquo;s identity &lt;!-- raw HTML omitted --&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;Anonymous electronic voting (e-voting) &lt;!-- raw HTML omitted --&gt;&lt;/li&gt;
&lt;li&gt;Censorship-resistant publishing &lt;!-- raw HTML omitted --&gt;&lt;/li&gt;
&lt;/ol&gt;
&lt;h4 id=&#34;anonymity&#34;&gt;Anonymity&lt;/h4&gt;
&lt;p&gt;Anonymity中最重要的一点：你只能在一群人中才能使自己匿名，即所有人都在一起发送，接收，做出同样的行动，才能隐藏个人的行为 &lt;!-- raw HTML omitted --&gt;&lt;/p&gt;
&lt;p&gt;You are only anonymous within a group is your actions &lt;!-- raw HTML omitted --&gt;&lt;/p&gt;
&lt;p&gt;You cannot be anonymous by yourself!!! &lt;!-- raw HTML omitted --&gt;&lt;/p&gt;
&lt;p&gt;Anonymity由三个特性 &lt;!-- raw HTML omitted --&gt;&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;Anonymity &lt;!-- raw HTML omitted --&gt;
&lt;ul&gt;
&lt;li&gt;从茫茫多的活动中隐藏自己的活动，而不要显眼的被挑出来 &lt;!-- raw HTML omitted --&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;Unlinkability &lt;!-- raw HTML omitted --&gt;
&lt;ul&gt;
&lt;li&gt;无法将行动与个人联系起来 &lt;!-- raw HTML omitted --&gt;&lt;/li&gt;
&lt;li&gt;比如发完邮件之后，发件人和邮件就没有关联了 &lt;!-- raw HTML omitted --&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;Unobservability &lt;!-- raw HTML omitted --&gt;
&lt;ul&gt;
&lt;li&gt;很难实现 &lt;!-- raw HTML omitted --&gt;&lt;/li&gt;
&lt;li&gt;既别人无法意识到这件事情到底发生没有 &lt;!-- raw HTML omitted --&gt;&lt;/li&gt;
&lt;li&gt;笔名就是一个简单的方法，用来隐藏自己的身份（用户名） &lt;!-- raw HTML omitted --&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;!-- raw HTML omitted --&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;Attacks on anonymity?&lt;/p&gt;
&lt;p&gt;Passive traffic analysis
: -   从网络活动中发现谁与谁在通信 &lt;!-- raw HTML omitted --&gt;
-   为了隐藏自己的活动，每个人必须要还要处理别人的traffic，即每个人都在做一样的事情，分不清真正想要做这件事情的人是谁 &lt;!-- raw HTML omitted --&gt;&lt;/p&gt;
&lt;p&gt;Active traffic analysis
: -   注入数据包或者将signature注入数据流中进行进一步观察 &lt;!-- raw HTML omitted --&gt;&lt;/p&gt;
&lt;p&gt;Compromise of network nodes
: -   黑入网络中的节点，然后被动的收集数据 &lt;!-- raw HTML omitted --&gt;
-   因此不能相信任意一个网络节点，被黑以后都是不明显的 &lt;!-- raw HTML omitted --&gt;&lt;/p&gt;
&lt;p&gt;Proxy也可以用来进行匿名 &lt;!-- raw HTML omitted --&gt;&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;sender通过proxy改变了自己的信息，使原始的sender不会被找到 &lt;!-- raw HTML omitted --&gt;&lt;/li&gt;
&lt;li&gt;receiver则通过广播或者多播发送给整一个匿名组用户，其中只有一个真正的接收者 &lt;!-- raw HTML omitted --&gt;&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;弱点在哪儿呢？ &lt;!-- raw HTML omitted --&gt;
那就是Proxy知道一切的事情，如果proxy被黑客控制，那么一切都没有意义了 &lt;!-- raw HTML omitted --&gt;&lt;/p&gt;
&lt;p&gt;我们也可以用cascaded proxy chains，mix networks来counter这个攻击 &lt;!-- raw HTML omitted --&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;!-- raw HTML omitted --&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;Cascaded proxies with encryption&lt;/p&gt;
&lt;p&gt;何谓cascaded proxies级联代理呢？就是我们通过多层的代理，每一层都proxy都拥有一个private key来进行解密，再传递给下一个proxy继续解密，只有最后一个proxy服务器知道最初始的数据，然后广播到匿名组里去 &lt;!-- raw HTML omitted --&gt;&lt;/p&gt;
&lt;p&gt;&lt;!-- raw HTML omitted --&gt; &lt;!-- raw HTML omitted --&gt;
但是流量分析还是可以实现，因此我们需要mix networks &lt;!-- raw HTML omitted --&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id=&#34;mix-networks&#34;&gt;Mix networks&lt;/h3&gt;
&lt;p&gt;主要目的是为了建立一个匿名的channel &lt;!-- raw HTML omitted --&gt;&lt;/p&gt;
&lt;p&gt;在垃圾邮件出现之前，大家都觉得匿名邮件是个好东西，从而衍生出了很多的remailers &lt;!-- raw HTML omitted --&gt;&lt;/p&gt;
&lt;p&gt;Mix = Public-key cryptography + trusted re-mailer &lt;!-- raw HTML omitted --&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Publick key就作为持久的假名，就类似于Bitcoin中的address &lt;!-- raw HTML omitted --&gt;&lt;/li&gt;
&lt;li&gt;Untrusted communication medium: 被设计在一个攻击者可以 &lt;!-- raw HTML omitted --&gt;
&lt;ul&gt;
&lt;li&gt;获取所有的source/destination信息，以及所传递的信息 &lt;!-- raw HTML omitted --&gt;&lt;/li&gt;
&lt;li&gt;可以修改注入删除所有的 messages &lt;!-- raw HTML omitted --&gt;&lt;/li&gt;
&lt;li&gt;但是唯一做不到的事情就是不能找到这些信息之间的关系，cannot coorelate plaintext and ciphertext,也无法进行伪造（不知道如何加密） &lt;!-- raw HTML omitted --&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;h4 id=&#34;using-a-single-mix&#34;&gt;Using a single Mix&lt;/h4&gt;
&lt;p&gt;我们用 &lt;code&gt;Mix&lt;/code&gt; 代表一个邮件处理系统 &lt;!-- raw HTML omitted --&gt;&lt;/p&gt;
&lt;p&gt;&lt;figure&gt;&lt;img src=&#34;https://ginkgo.org.cn/ox-hugo/2022-05-30_17-17-03_screenshot.png&#34; width=&#34;700px&#34;/&gt;
&lt;/figure&gt;
 &lt;!-- raw HTML omitted --&gt;&lt;/p&gt;
&lt;p&gt;A发出一条信息给Mix,使用mixer的public key进行加密，Mix会解密之后重新组装，然后发送给一个匿名组所有的用户，每一个用户所接受到的信息都是不同的 &lt;!-- raw HTML omitted --&gt;&lt;/p&gt;
&lt;p&gt;攻击者可以看到所有的senders and receivers但是却不能将发送的消息和经由Mix重新组装后的消息所联系起来 &lt;!-- raw HTML omitted --&gt;&lt;/p&gt;
&lt;p&gt;&lt;figure&gt;&lt;img src=&#34;https://ginkgo.org.cn/ox-hugo/2022-05-30_17-17-11_screenshot.png&#34; width=&#34;300px&#34;/&gt;
&lt;/figure&gt;
 &lt;!-- raw HTML omitted --&gt;&lt;/p&gt;
&lt;p&gt;其中r1, r0 这些内容是为了满足加密算法所需要的byte数而进行的padding &lt;!-- raw HTML omitted --&gt;&lt;/p&gt;
&lt;!-- raw HTML omitted --&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;Foiling traffic analysis: four requirements&lt;/p&gt;
&lt;p&gt;为了防止进行流量分析，mix还提供了四个要求 &lt;!-- raw HTML omitted --&gt;&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;Agents/mixes work with uniformly sized items 要求所有的信息都是同样格式的（比如所有的信息都被padded到相同的长度的block后加密） &lt;!-- raw HTML omitted --&gt;&lt;/li&gt;
&lt;li&gt;Order of arrival hidden by outputting items in batches 通过批量输出信息到匿名组来隐藏顺序 &lt;!-- raw HTML omitted --&gt;&lt;/li&gt;
&lt;li&gt;Repeated information must be blocked 不允许重复的信息，需要通过过滤器来筛查重复信息 &lt;!-- raw HTML omitted --&gt;&lt;/li&gt;
&lt;li&gt;Sufficient traffic from a large anonymity set if required 需要大量的匿名组用户进行数据的发送 &lt;!-- raw HTML omitted --&gt;
&lt;ul&gt;
&lt;li&gt;太少的话就会削弱anonymity &lt;!-- raw HTML omitted --&gt;&lt;/li&gt;
&lt;li&gt;可以让clients定期发送或者接受dummy messages假信息 &lt;!-- raw HTML omitted --&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;&lt;figure&gt;&lt;img src=&#34;https://ginkgo.org.cn/ox-hugo/2022-05-30_17-23-22_screenshot.png&#34; width=&#34;700px&#34;/&gt;
    &lt;/figure&gt;
 &lt;!-- raw HTML omitted --&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;!-- raw HTML omitted --&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;Generating receipts&lt;/p&gt;
&lt;p&gt;Mix同样可以用来生成receipt代表message被收到了 &lt;!-- raw HTML omitted --&gt;&lt;/p&gt;
&lt;p&gt;&lt;figure&gt;&lt;img src=&#34;https://ginkgo.org.cn/ox-hugo/2022-05-30_17-30-11_screenshot.png&#34; width=&#34;300px&#34;/&gt;
    &lt;/figure&gt;
 &lt;!-- raw HTML omitted --&gt;&lt;/p&gt;
&lt;p&gt;这里的 &lt;code&gt;c&lt;/code&gt; 是很大的，我觉得应该就是为了保持相等的格式，可以用很多0来填充 &lt;!-- raw HTML omitted --&gt;&lt;/p&gt;
&lt;p&gt;&lt;figure&gt;&lt;img src=&#34;https://ginkgo.org.cn/ox-hugo/2022-05-30_17-32-29_screenshot.png&#34; width=&#34;700px&#34;/&gt;
    &lt;/figure&gt;
 &lt;!-- raw HTML omitted --&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;h4 id=&#34;mix-networks&#34;&gt;Mix networks&lt;/h4&gt;
&lt;p&gt;我们已经看过了一个单独的Mix是如何工作的，其实和之前的proxy很类似，都存在一个缺点，就是一旦被攻击，那么所有信息都会暴露 &lt;!-- raw HTML omitted --&gt;&lt;/p&gt;
&lt;p&gt;因此我们在这里采取同样的策略，即使用级联的Mix服务器相连来处理 &lt;!-- raw HTML omitted --&gt;&lt;/p&gt;
&lt;p&gt;每一个Mix都属于不同的administrative domain，这里应该想说的是不属于同一个地方管辖，也就不会因为一个被黑入了，就会影响其他的servers &lt;!-- raw HTML omitted --&gt;&lt;/p&gt;
&lt;p&gt;通过多个Mix server联合使用，只要还有一个server没有被黑入，那么通信就还是匿名的 &lt;!-- raw HTML omitted --&gt;&lt;/p&gt;
&lt;p&gt;我们假设network中存在着多个Mix server，那么Alice就需要选择Mix-path来决定路经那几个server，然后使用对应的密钥进行加密再发送给Bob &lt;!-- raw HTML omitted --&gt;&lt;/p&gt;
&lt;p&gt;&lt;figure&gt;&lt;img src=&#34;https://ginkgo.org.cn/ox-hugo/2022-05-30_17-36-58_screenshot.png&#34; width=&#34;700px&#34;/&gt;
&lt;/figure&gt;
 &lt;!-- raw HTML omitted --&gt;&lt;/p&gt;
&lt;p&gt;&lt;figure&gt;&lt;img src=&#34;https://ginkgo.org.cn/ox-hugo/2022-05-30_17-37-07_screenshot.png&#34; width=&#34;700px&#34;/&gt;
&lt;/figure&gt;
 &lt;!-- raw HTML omitted --&gt;&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;Alice 根据Mix-path选择Mix server的public key对数据进行padding与加密 &lt;!-- raw HTML omitted --&gt;&lt;/li&gt;
&lt;li&gt;每一个途径的Mix-server用自己的private key解密后再传达给下一个 &lt;!-- raw HTML omitted --&gt;&lt;/li&gt;
&lt;li&gt;最终最后一个Mix server就和我们之前提到过的那样发送给匿名组 &lt;!-- raw HTML omitted --&gt;&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;那么既然最后一个Mix server又变成了single Mix-server中最简单的模式，难道被攻破之后不是毫无意义了吗？ &lt;!-- raw HTML omitted --&gt;&lt;/p&gt;
&lt;p&gt;这里要注意的是，每一个Mix server也就是仅仅只能知道前一个Mix server的信息，发送方的信息根本已经无从知晓了 &lt;!-- raw HTML omitted --&gt;&lt;/p&gt;
&lt;h4 id=&#34;untraceable-return-addresses&#34;&gt;Untraceable return addresses&lt;/h4&gt;
&lt;p&gt;如何匿名发送回复消息表示信息收到了呢？ &lt;!-- raw HTML omitted --&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;Single Mix case (with key pk_mix1): &lt;!-- raw HTML omitted --&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;发送方在自己的数据里包含 return address: {r1, A_x}_pk_mix1, pk_x &lt;!-- raw HTML omitted --&gt;
&lt;ul&gt;
&lt;li&gt;r1, random string, can be used as a shared key &lt;!-- raw HTML omitted --&gt;&lt;/li&gt;
&lt;li&gt;pk_x, a fresh public key &lt;!-- raw HTML omitted --&gt;&lt;/li&gt;
&lt;li&gt;Ax 真实的地址 &lt;!-- raw HTML omitted --&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;接受者回复： {r1, A_x}_pk_mix1, {r0, M&amp;rsquo;}pk_x &lt;!-- raw HTML omitted --&gt;
&lt;ul&gt;
&lt;li&gt;通过 fresh public key对数据进行加密 &lt;!-- raw HTML omitted --&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;Mix解密之后得知真实的地址是Ax，然后回复给A &lt;!-- raw HTML omitted --&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;级联的Mix servers的处理方式 &lt;!-- raw HTML omitted --&gt;&lt;/p&gt;
&lt;p&gt;&lt;figure&gt;&lt;img src=&#34;https://ginkgo.org.cn/ox-hugo/2022-05-30_17-50-57_screenshot.png&#34; width=&#34;700px&#34;/&gt;
    &lt;/figure&gt;
 &lt;!-- raw HTML omitted --&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;同样的办法，A会附带自己的地址以及一个pk_x,然后B在回复的时候会一层层根据选择的Mix-path上的Mix server的public key进行层层加密后返回 &lt;!-- raw HTML omitted --&gt;&lt;/p&gt;
&lt;h4 id=&#34;mix-networks-attacks&#34;&gt;Mix networks: attacks&lt;/h4&gt;
&lt;ol&gt;
&lt;li&gt;Tracing a message &lt;!-- raw HTML omitted --&gt;&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;&lt;!-- raw HTML omitted --&gt; &lt;!-- raw HTML omitted --&gt;
因为存在大量的dummy messages假消息而不可被追踪 &lt;!-- raw HTML omitted --&gt;&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;
&lt;p&gt;Replay attack, 用重复的messsage进行攻击 &lt;!-- raw HTML omitted --&gt;&lt;/p&gt;
&lt;p&gt;&lt;figure&gt;&lt;img src=&#34;https://ginkgo.org.cn/ox-hugo/2022-05-30_17-52-47_screenshot.png&#34; width=&#34;700px&#34;/&gt;
    &lt;/figure&gt;
 &lt;!-- raw HTML omitted --&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;但是每一个 Mix server 中都有一个重复信息的过滤器，也不可能发生 &lt;!-- raw HTML omitted --&gt;&lt;/p&gt;
&lt;h4 id=&#34;mix-networks-n-1-attack&#34;&gt;Mix networks: n-1 attack&lt;/h4&gt;
&lt;p&gt;n-1 attack 是一种active attack, attacker 通过flooding一个node，使一个node上大部分的数据都是其做知晓的，那么剩下来的内容就很容易进行分析了 &lt;!-- raw HTML omitted --&gt;&lt;/p&gt;
&lt;p&gt;如何进行防御呢？ &lt;!-- raw HTML omitted --&gt;
使用Hearbeat message: &lt;!-- raw HTML omitted --&gt;&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;每一个Mix server都会检测自己的网络环境，然后观察发出的消息收到的回复情况，我们称为heartbeat messages心跳 &lt;!-- raw HTML omitted --&gt;&lt;/li&gt;
&lt;li&gt;当Mix server收到了flooding attack其无法判断哪些流量是好的还是攻击者的流量，但是通过对于 heatbeat message在这些流量的比例的判断，来主动增加网络流量中的dummy message从而与flooding数据包进行抗衡，增加匿名性 &lt;!-- raw HTML omitted --&gt;&lt;/li&gt;
&lt;/ol&gt;
&lt;h4 id=&#34;mix-networks-advantages&#34;&gt;Mix networks: advantages&lt;/h4&gt;
&lt;ol&gt;
&lt;li&gt;匿名化的程度非常高 &lt;!-- raw HTML omitted --&gt;
&lt;ul&gt;
&lt;li&gt;Mix input and output 之间无法被联系起来 &lt;!-- raw HTML omitted --&gt;&lt;/li&gt;
&lt;li&gt;只要有一个Mix server没有被入侵就还能保证匿名性 &lt;!-- raw HTML omitted --&gt;&lt;/li&gt;
&lt;li&gt;只要有足够多的dummy traffic, anonymity set就是整一个网络 &lt;!-- raw HTML omitted --&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;新的密码学的实践 &lt;!-- raw HTML omitted --&gt;
&lt;ul&gt;
&lt;li&gt;连receiver都可以不知道sender是谁 &lt;!-- raw HTML omitted --&gt;&lt;/li&gt;
&lt;li&gt;同时这封匿名的邮件是可以被certified的，可以由receiver以及路上的每一个Mix进行签名 &lt;!-- raw HTML omitted --&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;h4 id=&#34;mix-networks-disadvantages&#34;&gt;Mix networks: disadvantages&lt;/h4&gt;
&lt;ol&gt;
&lt;li&gt;级联的 Mix server意味着每一个server上都要进行大量的加密解密结算，非常消耗资源 &lt;!-- raw HTML omitted --&gt;&lt;/li&gt;
&lt;li&gt;延迟非常高，email还可以接受，但是网页浏览就没办法了 &lt;!-- raw HTML omitted --&gt;&lt;/li&gt;
&lt;li&gt;Dummy message的开销很大 &lt;!-- raw HTML omitted --&gt;&lt;/li&gt;
&lt;li&gt;如何搭建一个低延迟的匿名环境是一个挑战 &lt;!-- raw HTML omitted --&gt;
&lt;ul&gt;
&lt;li&gt;Use public-key cryptography to establish a “circuit” with pairwise symmetric keys between hops on the circuit. &lt;!-- raw HTML omitted --&gt;&lt;/li&gt;
&lt;li&gt;Then use symmetric decryption and re-encryption to move data messages along the established circuits. &lt;!-- raw HTML omitted --&gt;&lt;/li&gt;
&lt;li&gt;Each node behaves like a mix; anonymity is preserved even if some nodes are compromised &lt;!-- raw HTML omitted --&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;h3 id=&#34;dining-cryptographers&#34;&gt;Dining cryptographers&lt;/h3&gt;
&lt;p&gt;三个的密码学家在一起吃晚饭，吃完饭之后需要结账，他们有两个选择，一是报销让NSA付钱，要么他们中的一个付钱，但是付钱的那个人不希望其他两个人知道（别问万一两个人都想付钱怎么办233），他们相出了一个办法可以让这一切成立 &lt;!-- raw HTML omitted --&gt;&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;每个密码学家都抛一枚硬币，并向其左边的邻居展示 &lt;!-- raw HTML omitted --&gt;
&lt;ul&gt;
&lt;li&gt;因此每个密码学都能看到两枚硬币，他自己的和他右边的邻居的 &lt;!-- raw HTML omitted --&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;每个密码学家需要宣称两枚硬币是否相同 &lt;!-- raw HTML omitted --&gt;
&lt;ul&gt;
&lt;li&gt;付钱的那位密码学家会撒谎（说反话） &lt;!-- raw HTML omitted --&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;那么如果说“相同的”是单数 =&amp;gt; NSA报销 &lt;!-- raw HTML omitted --&gt;
&lt;ul&gt;
&lt;li&gt;如果是偶数，他们其中一个人付钱了 &lt;!-- raw HTML omitted --&gt;&lt;/li&gt;
&lt;li&gt;但是其他人不知道谁付钱了 &lt;!-- raw HTML omitted --&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;h4 id=&#34;three-person-dc-protocol&#34;&gt;Three-person DC protocol&lt;/h4&gt;
&lt;ol&gt;
&lt;li&gt;假设三位密码学家：C1, C2, C3投掷了硬币，其结果为bi &lt;!-- raw HTML omitted --&gt;&lt;/li&gt;
&lt;li&gt;每位密码学家都与左边的邻居共享了自己的信息 &lt;!-- raw HTML omitted --&gt;&lt;/li&gt;
&lt;li&gt;每位密码学家都将自己所看到的两枚硬币的情况进行计算di = bi XOR bi-1 &lt;!-- raw HTML omitted --&gt;
&lt;ul&gt;
&lt;li&gt;bi表示密码学家自己的硬币 &lt;!-- raw HTML omitted --&gt;&lt;/li&gt;
&lt;li&gt;bi-1表示右边邻居的情况 &lt;!-- raw HTML omitted --&gt;&lt;/li&gt;
&lt;li&gt;要注意的是d0 = d3 and b0 = b3因为绕了一圈了 &lt;!-- raw HTML omitted --&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;如果没有付钱，那就直接宣称计算的结果di,如果付钱了，那就宣称di XOR 1 &lt;!-- raw HTML omitted --&gt;&lt;/li&gt;
&lt;/ol&gt;
&lt;h4 id=&#34;proof&#34;&gt;Proof&lt;/h4&gt;
&lt;p&gt;我们假设有三位密码学家所宣称的值为：A1, A2, A3 &lt;!-- raw HTML omitted --&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;如果没付钱了，那么Ai = di &lt;!-- raw HTML omitted --&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;如果付钱， Ai = di XOR 1 &lt;!-- raw HTML omitted --&gt;&lt;/p&gt;
&lt;p&gt;&lt;figure&gt;&lt;img src=&#34;https://ginkgo.org.cn/ox-hugo/2022-05-30_20-45-57_screenshot.png&#34; width=&#34;300px&#34;/&gt;
    &lt;/figure&gt;
 &lt;!-- raw HTML omitted --&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;如果没有一个人付钱，那么所有宣称的数值计算后应该得出0，否则则为1 &lt;!-- raw HTML omitted --&gt;&lt;/p&gt;
&lt;p&gt;&lt;figure&gt;&lt;img src=&#34;https://ginkgo.org.cn/ox-hugo/2022-05-30_20-46-59_screenshot.png&#34; width=&#34;700px&#34;/&gt;
&lt;/figure&gt;
 &lt;!-- raw HTML omitted --&gt;&lt;/p&gt;
&lt;p&gt;同时，如果有人付钱了，一个没有付钱的密码学家是无法得知是其他两人中的谁付的 &lt;!-- raw HTML omitted --&gt;&lt;/p&gt;
&lt;p&gt;同样的情况可以运用到多个用户身上，每个用户都生成一个随机的bit发送给左边的邻居，每个人都有两个bits来进行计算 &lt;!-- raw HTML omitted --&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;每个人都宣称自己进行XOR计算的结果 &lt;!-- raw HTML omitted --&gt;&lt;/li&gt;
&lt;li&gt;只有发送者会多XOR一个想要发送的数据中的bit &lt;!-- raw HTML omitted --&gt;&lt;/li&gt;
&lt;li&gt;这样就可以综合所有的结果并得到0/1也就是message bit &lt;!-- raw HTML omitted --&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;但是现实中很难实现，因为首先需要很大的匿名组，然后还有每个用户都做随机数然后再计算，很复杂 &lt;!-- raw HTML omitted --&gt;&lt;/p&gt;
&lt;p&gt;安全性确实很强，就算有很强大的算力也无法得知发送者是谁。 &lt;!-- raw HTML omitted --&gt;&lt;/p&gt;
&lt;p&gt;同时也会因为通信channel被干扰而出现错误，同时匿名组中的成员如果撒谎了也会导致通信失败 &lt;!-- raw HTML omitted --&gt;&lt;/p&gt;
&lt;h3 id=&#34;onion-routing&#34;&gt;Onion routing&lt;/h3&gt;
&lt;p&gt;发送者随机地选择途径路由器的次序 &lt;!-- raw HTML omitted --&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;我们假设有一些路由器是诚实的，但是有一些被黑客所控制了 &lt;!-- raw HTML omitted --&gt;&lt;/li&gt;
&lt;li&gt;发送者主动的控制路径的长度 &lt;!-- raw HTML omitted --&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;figure&gt;&lt;img src=&#34;https://ginkgo.org.cn/ox-hugo/2022-05-30_21-06-06_screenshot.png&#34; width=&#34;700px&#34;/&gt;
&lt;/figure&gt;
 &lt;!-- raw HTML omitted --&gt;&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;发送者将数据根据选择的路径用每个路由器的public key加密好，并内置一个symmetric key来对后续的内容进行加密 &lt;!-- raw HTML omitted --&gt;&lt;/li&gt;
&lt;li&gt;同时每个路由器只能获取到前一个router的identity,使其无法溯源 &lt;!-- raw HTML omitted --&gt;&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;Tor (the onion router)就是这么进行匿名通信的 &lt;!-- raw HTML omitted --&gt;&lt;/p&gt;
&lt;p&gt;Set up Onion service sot that it&amp;rsquo;s reachable by clients &lt;!-- raw HTML omitted --&gt;&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;发送者首先先与一台路由器交换symmetric session key &lt;!-- raw HTML omitted --&gt;&lt;/li&gt;
&lt;li&gt;然后用这台路由器作为代理与新的路由器交换symmetric session key，不断反复，直到到达目标地址 &lt;!-- raw HTML omitted --&gt;&lt;/li&gt;
&lt;li&gt;然后就利用建立的Tor circuit进行通信，每个途径的onion router都会单独加密解密 &lt;!-- raw HTML omitted --&gt;&lt;/li&gt;
&lt;/ol&gt;
&lt;h3 id=&#34;location-hidden-servers&#34;&gt;Location hidden servers&lt;/h3&gt;
&lt;p&gt;Goal: &lt;!-- raw HTML omitted --&gt;&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;将服务器部署在Internet上并且告知其他用户可以访问，但是不能让别人知道这台服务器在哪儿和是谁在运行 &lt;!-- raw HTML omitted --&gt;&lt;/li&gt;
&lt;li&gt;随处可以访问 &lt;!-- raw HTML omitted --&gt;&lt;/li&gt;
&lt;li&gt;不会被审查 &lt;!-- raw HTML omitted --&gt;&lt;/li&gt;
&lt;li&gt;能够在DoS attack中存活 &lt;!-- raw HTML omitted --&gt;&lt;/li&gt;
&lt;li&gt;找不到物理服务器 &lt;!-- raw HTML omitted --&gt;&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;&lt;a class=&#34;link&#34; href=&#34;https://community.torproject.org/onion-services/overview/&#34;  target=&#34;_blank&#34; rel=&#34;noopener&#34;
    &gt;https://community.torproject.org/onion-services/overview/&lt;/a&gt; &lt;!-- raw HTML omitted --&gt;&lt;/p&gt;
&lt;h3 id=&#34;privacy&#34;&gt;Privacy&lt;/h3&gt;
&lt;p&gt;&lt;code&gt;A privacy policy&lt;/code&gt; specifies how data may be used, under which condition, and what obligations this entails. &lt;!-- raw HTML omitted --&gt;&lt;/p&gt;
</description>
        </item>
        <item>
        <title>NSE Week 9: IKE and SSL/TLS</title>
        <link>https://ginkgo.org.cn/posts/nse_week_9_ike_and_ssl_tls/</link>
        <pubDate>Mon, 30 May 2022 00:00:00 +0000</pubDate>
        
        <guid>https://ginkgo.org.cn/posts/nse_week_9_ike_and_ssl_tls/</guid>
        <description>&lt;h2 id=&#34;nse-week-9-ike-and-ssl-tls&#34;&gt;NSE Week 9: IKE and SSL/TLS&lt;/h2&gt;
&lt;h3 id=&#34;ike--the-internet-key-exchange-protocol&#34;&gt;IKE (The Internet Key Exchange protocol)&lt;/h3&gt;
&lt;p&gt;IKE不仅仅只是关于密钥，更多的关于SA (security associations): &lt;!-- raw HTML omitted --&gt;&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;协议的格式 &lt;!-- raw HTML omitted --&gt;&lt;/li&gt;
&lt;li&gt;加密或者哈希的算法 &lt;!-- raw HTML omitted --&gt;&lt;/li&gt;
&lt;li&gt;密钥 &lt;!-- raw HTML omitted --&gt;&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;IKE十分的灵活，比如提供身份认证，并通过多种pre-shared secrets来实现 &lt;!-- raw HTML omitted --&gt;&lt;/p&gt;
&lt;p&gt;IKE又十分复杂，有很多的选项可以配置以及很多的子协议 &lt;!-- raw HTML omitted --&gt;&lt;/p&gt;
&lt;p&gt;IKE结合了 &lt;code&gt;ISAKMP&lt;/code&gt; 的数据包格式，以及 &lt;code&gt;OAKLEY&lt;/code&gt; 的协议，这两个东西都基于  &lt;code&gt;Diffie-hellman protocol&lt;/code&gt; &lt;!-- raw HTML omitted --&gt;&lt;/p&gt;
&lt;p&gt;&lt;figure&gt;&lt;img src=&#34;https://ginkgo.org.cn/ox-hugo/2022-05-30_10-00-09_screenshot.png&#34; width=&#34;700px&#34;/&gt;
&lt;/figure&gt;
 &lt;!-- raw HTML omitted --&gt;&lt;/p&gt;
&lt;h4 id=&#34;pfs&#34;&gt;PFS&lt;/h4&gt;
&lt;p&gt;如果我们已经能安全的交换YA,YB了，为什么还要套在这个Diffie-Hellman里面用呢？ &lt;!-- raw HTML omitted --&gt;
主要是为了实现PFS，perfect forward secrecy &lt;!-- raw HTML omitted --&gt;&lt;/p&gt;
&lt;dl&gt;
&lt;dt&gt;PFS,perfect forward secrecy&lt;/dt&gt;
&lt;dd&gt;&lt;ul&gt;
&lt;li&gt;为了确保协议做生成的临时key，session key不会因为用来产生这个session key所用到的key被破解了而导致session key也没破戒 &lt;!-- raw HTML omitted --&gt;&lt;/li&gt;
&lt;li&gt;用来加密传输数据的key不能用作产生其他的key，这样就会产生连带效应，一个key被破解了，其所产生的key也会被破解 &lt;!-- raw HTML omitted --&gt;&lt;/li&gt;
&lt;li&gt;同样的道理，如果产生当前的key需要通过其他keys来产生，那么那些key也不能用做其他key的产生 &lt;!-- raw HTML omitted --&gt;&lt;/li&gt;
&lt;li&gt;也就是说一个key被破解了，只会影响用其所加密的数据，其他都不会收到影响 &lt;!-- raw HTML omitted --&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/dd&gt;
&lt;/dl&gt;
&lt;p&gt;因此在具体实现的时候的一个小技巧就是，每个session key都是随机产生的，并且在session结束之后就销毁，这样就都不会影响了，同时也会给密码分析带来负担。 &lt;!-- raw HTML omitted --&gt;&lt;/p&gt;
&lt;h4 id=&#34;ike-protocol&#34;&gt;IKE protocol&lt;/h4&gt;
&lt;p&gt;IKE可以为通信的双方来建立和维护SA &lt;!-- raw HTML omitted --&gt;&lt;/p&gt;
&lt;p&gt;Typical key establishment protocol: 只有一个阶段，就是双方使用 &lt;code&gt;master keys&lt;/code&gt; 来进行通信交换信息 &lt;!-- raw HTML omitted --&gt;&lt;/p&gt;
&lt;dl&gt;
&lt;dt&gt;Master keys&lt;/dt&gt;
&lt;dd&gt;&lt;ol&gt;
&lt;li&gt;pre-shared secret (symmetric) keys &lt;!-- raw HTML omitted --&gt;&lt;/li&gt;
&lt;li&gt;public encryption key (used only for encryption/decryption), 比如互相知道对方的public key，然后加密之后可以由对方的private key来进行解密 &lt;!-- raw HTML omitted --&gt;&lt;/li&gt;
&lt;li&gt;public signature key （用来进行验证） &lt;!-- raw HTML omitted --&gt;&lt;/li&gt;
&lt;/ol&gt;
&lt;/dd&gt;
&lt;/dl&gt;
&lt;p&gt;IKE则有两个步骤： &lt;!-- raw HTML omitted --&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Phase 1: 通信的双方线协商一个SA，关于使用什么加密或者哈希算法 &lt;!-- raw HTML omitted --&gt;&lt;/li&gt;
&lt;li&gt;Phase 2: Phase 1中产生的SA会继续产生 &amp;ldquo;child SAs&amp;quot;来进行加密和验证未来的通信 &lt;!-- raw HTML omitted --&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;h4 id=&#34;ike-phase-1&#34;&gt;IKE phase 1&lt;/h4&gt;
&lt;p&gt;IKE的第一个阶段主要的目的是要建立一个安全的channel来给Phase 2进行通信交流 &lt;!-- raw HTML omitted --&gt;&lt;/p&gt;
&lt;p&gt;需要用到的概念有： &lt;!-- raw HTML omitted --&gt;&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;Cookies：用作初期的身份认证，推荐的实现方法是： &lt;!-- raw HTML omitted --&gt;
&lt;ul&gt;
&lt;li&gt;通过一些较快的hash，例如MD5，将UDP的IP source/destination address/ports 以及保存在本地的一个 &lt;code&gt;secret value&lt;/code&gt; 进行hash &lt;!-- raw HTML omitted --&gt;&lt;/li&gt;
&lt;li&gt;因为存在一个 &lt;code&gt;secret value&lt;/code&gt; ，那么通过将自己生成的cookie发送给对方，再由对方发送回来，就可以进行验证，是否是自己曾经发出的内容 &lt;!-- raw HTML omitted --&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;Identifiers, ID: 用来标识通信的双方的身份，可以是： &lt;!-- raw HTML omitted --&gt;
&lt;ol&gt;
&lt;li&gt;IP address &lt;!-- raw HTML omitted --&gt;&lt;/li&gt;
&lt;li&gt;Fully-qualified domain name &lt;!-- raw HTML omitted --&gt;&lt;/li&gt;
&lt;li&gt;Certification &lt;!-- raw HTML omitted --&gt;&lt;/li&gt;
&lt;li&gt;E-mail address &lt;!-- raw HTML omitted --&gt;&lt;/li&gt;
&lt;li&gt;MAC address &lt;!-- raw HTML omitted --&gt;&lt;/li&gt;
&lt;/ol&gt;
&lt;/li&gt;
&lt;li&gt;Authenticators: 用于验证消息的数据 &lt;!-- raw HTML omitted --&gt;&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;IKE Phase 1 提供两种模式 &lt;!-- raw HTML omitted --&gt;&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;Main mode &lt;!-- raw HTML omitted --&gt;
&lt;ul&gt;
&lt;li&gt;通过6条交换的信息来建立 &lt;code&gt;Initiator(I)&lt;/code&gt; and &lt;code&gt;Responder(R)&lt;/code&gt; 之间的安全channel &lt;!-- raw HTML omitted --&gt;&lt;/li&gt;
&lt;li&gt;通过互相的配置协商来实现 &lt;!-- raw HTML omitted --&gt;
&lt;ol&gt;
&lt;li&gt;&lt;code&gt;Identify protection&lt;/code&gt; &lt;!-- raw HTML omitted --&gt;&lt;/li&gt;
&lt;li&gt;&lt;code&gt;Considerable flexibility&lt;/code&gt; &lt;!-- raw HTML omitted --&gt;&lt;/li&gt;
&lt;/ol&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;Aggressive mode &lt;!-- raw HTML omitted --&gt;
&lt;ul&gt;
&lt;li&gt;由于不提供保护因此能够更快的建立 &lt;!-- raw HTML omitted --&gt;&lt;/li&gt;
&lt;li&gt;只需要3条信息的交换 &lt;!-- raw HTML omitted --&gt;&lt;/li&gt;
&lt;li&gt;&lt;code&gt;没有&lt;/code&gt; 提供 &lt;code&gt;Identify protection&lt;/code&gt; 只有public-key加密所带来的authentication &lt;!-- raw HTML omitted --&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;根据选用的 authentication 方法的不同，每种模式都拥有4种变化 &lt;!-- raw HTML omitted --&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Pre-shared key &lt;!-- raw HTML omitted --&gt;&lt;/li&gt;
&lt;li&gt;Digital signatures &lt;!-- raw HTML omitted --&gt;&lt;/li&gt;
&lt;li&gt;2 public-key variants &lt;!-- raw HTML omitted --&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;我们的重点会放在Main mode上 &lt;!-- raw HTML omitted --&gt;&lt;/p&gt;
&lt;p&gt;&lt;figure&gt;&lt;img src=&#34;https://ginkgo.org.cn/ox-hugo/2022-05-30_12-29-01_screenshot.png&#34; width=&#34;700px&#34;/&gt;
&lt;/figure&gt;
 &lt;!-- raw HTML omitted --&gt;&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;I会生成Cookie_I 以及ISA_I (ISAKMP SA)其中包含了提出的提议（加密和哈希算法） &lt;!-- raw HTML omitted --&gt;&lt;/li&gt;
&lt;li&gt;R在收到之后，会考虑I提出的proposal然后选择使用什么算法：ISA_R,接着返回自己生成的Cookie &lt;!-- raw HTML omitted --&gt;&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;以下就是一个例子，I会提出建议，然后由R来选择，因此ISA_I &amp;amp; ISA_R可能相同也可能不同，这将有R来决定 &lt;!-- raw HTML omitted --&gt;&lt;/p&gt;
&lt;p&gt;&lt;figure&gt;&lt;img src=&#34;https://ginkgo.org.cn/ox-hugo/2022-05-30_12-24-35_screenshot.png&#34; width=&#34;700px&#34;/&gt;
&lt;/figure&gt;
 &lt;!-- raw HTML omitted --&gt;&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;I收到R同意的条约之后，随机选择构建DH所需要的参数 g, p (g is the primitive root of p), &lt;!-- raw HTML omitted --&gt;
&lt;ul&gt;
&lt;li&gt;X = g^x mod p &lt;!-- raw HTML omitted --&gt;&lt;/li&gt;
&lt;li&gt;接着附上一个nonce，用来防止relay attack，keep freshness &lt;!-- raw HTML omitted --&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;R收到I发来的cookie之后，先对自己的C_R进行重新计算并验证 &lt;!-- raw HTML omitted --&gt;
&lt;ul&gt;
&lt;li&gt;接着计算Y = g^y mod p &lt;!-- raw HTML omitted --&gt;&lt;/li&gt;
&lt;li&gt;最后生成自己nonce N_R 返回给I &lt;!-- raw HTML omitted --&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;I收到R的Y之后，就可以用来计算 DH session key了，在此之前还会重新计算并验证自己的cookie C_I &lt;!-- raw HTML omitted --&gt;
&lt;ul&gt;
&lt;li&gt;接着会将自己的ID以及 previous data通过约定好的 authenticator 计算好并和ID一起用DH session key进行加密并返回给R &lt;!-- raw HTML omitted --&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;R验证了自己的Cookie C_R 之后也会将自己的ID_R以及authentication data用DH session key进行加密后返回给I，I验证了R的ID之后也就完成了phase1 &lt;!-- raw HTML omitted --&gt;&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;根据不同的authenticator也会有一些变种，但是步骤是不变的 &lt;!-- raw HTML omitted --&gt;&lt;/p&gt;
&lt;p&gt;&lt;figure&gt;&lt;img src=&#34;https://ginkgo.org.cn/ox-hugo/2022-05-30_12-35-03_screenshot.png&#34; width=&#34;700px&#34;/&gt;
&lt;/figure&gt;
 &lt;!-- raw HTML omitted --&gt;&lt;/p&gt;
&lt;h4 id=&#34;ike-phase-2&#34;&gt;IKE phase 2&lt;/h4&gt;
&lt;p&gt;IKE phase 2的通信会由之前在phase 1中达成的SA进行保护 &lt;!-- raw HTML omitted --&gt;&lt;/p&gt;
&lt;p&gt;IKE phase 2的目的就是利用之前建立的安全的通信，开始交换协商真正需要用在通信中的SAs &lt;!-- raw HTML omitted --&gt;&lt;/p&gt;
&lt;p&gt;phase 2也有两种mode &lt;!-- raw HTML omitted --&gt;&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;Quick mode &lt;!-- raw HTML omitted --&gt;
&lt;ul&gt;
&lt;li&gt;直接创造新的SAs (e.g., for ESP or AH) &lt;!-- raw HTML omitted --&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;New group mode &lt;!-- raw HTML omitted --&gt;
&lt;ul&gt;
&lt;li&gt;用来修改存在的SAs的参数 &lt;!-- raw HTML omitted --&gt;&lt;/li&gt;
&lt;li&gt;不产生新的SAs &lt;!-- raw HTML omitted --&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;我们主要关注Quick mode &lt;!-- raw HTML omitted --&gt;&lt;/p&gt;
&lt;p&gt;如果被要求实现PFS，那么quick mode也会再次实现DH exchange &lt;!-- raw HTML omitted --&gt;&lt;/p&gt;
&lt;p&gt;多个quick mode可以用不进行，并且会使用在phase1中用到过的ID &lt;!-- raw HTML omitted --&gt;&lt;/p&gt;
&lt;p&gt;数据的加密会用到phase 1中的数据，用在phase 2中的新key &lt;!-- raw HTML omitted --&gt;&lt;/p&gt;
&lt;p&gt;&lt;figure&gt;&lt;img src=&#34;https://ginkgo.org.cn/ox-hugo/2022-05-30_12-40-32_screenshot.png&#34; width=&#34;400px&#34;/&gt;
&lt;/figure&gt;
 &lt;!-- raw HTML omitted --&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;SPI就是用来标识新的SA的 SPI fields &lt;!-- raw HTML omitted --&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;k就是DH exchange所生成的session key &lt;!-- raw HTML omitted --&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;协商建立一个SA &lt;!-- raw HTML omitted --&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;生成IPsec key 用作将来ESP or AH 中 &lt;!-- raw HTML omitted --&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;figure&gt;&lt;img src=&#34;https://ginkgo.org.cn/ox-hugo/2022-05-30_12-41-43_screenshot.png&#34; width=&#34;700px&#34;/&gt;
&lt;/figure&gt;
 &lt;!-- raw HTML omitted --&gt;&lt;/p&gt;
&lt;p&gt;我们可以看到，这其实也是一个协商的过程，就是I发起倡议，然后还是由R来决定最终的SA是怎么样的 &lt;!-- raw HTML omitted --&gt;&lt;/p&gt;
&lt;p&gt;另一个例子 &lt;!-- raw HTML omitted --&gt;&lt;/p&gt;
&lt;p&gt;&lt;figure&gt;&lt;img src=&#34;https://ginkgo.org.cn/ox-hugo/2022-05-30_12-45-51_screenshot.png&#34; width=&#34;400px&#34;/&gt;
&lt;/figure&gt;
 &lt;!-- raw HTML omitted --&gt;&lt;/p&gt;
&lt;p&gt;The second phase of the IKE protocol is done by three message exchanges. For the ﬁrst and second messages I1 and R1, the initiator I and the responder R exchange IPSec SAs (IP SecSAIand IP SecSAR),nonces NI and NR(for replay attack protection), optional D -H values gI and gR, and hashes of these values and message IDs (to prove liveliness), HashI1 and HashR1. &lt;!-- raw HTML omitted --&gt;&lt;/p&gt;
&lt;p&gt;After the initiator sends one more hash (HashI2) using both NI and NR and the message ID as the third message, both parties will agree on the IPSec symmetric key for use during ESP or AH encapsulation. &lt;!-- raw HTML omitted --&gt;&lt;/p&gt;
&lt;p&gt;为了更好的保护长久的VPN session, IPsec 提供了定期刷新IKE key以及IPSec keys的机制 &lt;!-- raw HTML omitted --&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;IKE key的刷新需要重新跑两个phase &lt;!-- raw HTML omitted --&gt;&lt;/li&gt;
&lt;li&gt;但是刷新IPsec只需要跑phase 2即可 &lt;!-- raw HTML omitted --&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id=&#34;ssl-tls&#34;&gt;SSL/TLS&lt;/h3&gt;
&lt;p&gt;SSL/TLS是用来保护Transport layer传输层的安全的，通过提供confidentiality and integrity来防止通信被窃听和篡改 &lt;!-- raw HTML omitted --&gt;&lt;/p&gt;
&lt;p&gt;目标是实现Confidentiality, integrity，有条件的话也可以实现authentication，通过单（双）向的认证channel来进行安全的通信，由public-key certificate所支持，因为是Transport layer上的安全，因此也可以被应用层的协议所利用，例如HTTP(S), SMTP, IMAP &lt;!-- raw HTML omitted --&gt;&lt;/p&gt;
&lt;p&gt;SSL/TLS实现了两种协议 &lt;!-- raw HTML omitted --&gt;&lt;/p&gt;
&lt;h4 id=&#34;tls-handshake-protocol&#34;&gt;TLS Handshake protocol&lt;/h4&gt;
&lt;p&gt;TLS Handshake protocol 通过初始化或者恢复之前的connection然后搭建一个安全的channel来进行通信 &lt;!-- raw HTML omitted --&gt;&lt;/p&gt;
&lt;p&gt;&lt;figure&gt;&lt;img src=&#34;https://ginkgo.org.cn/ox-hugo/2022-05-30_15-31-18_screenshot.png&#34; width=&#34;700px&#34;/&gt;
&lt;/figure&gt;
 &lt;!-- raw HTML omitted --&gt;&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;Server certificate: B -&amp;gt; A: certificate(B, K_B) &lt;!-- raw HTML omitted --&gt;&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;Certificate是由 &lt;code&gt;trusted third party&lt;/code&gt; 来进行认证的，包含了B的identity以及B的public key &lt;!-- raw HTML omitted --&gt;&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;client exchange &lt;!-- raw HTML omitted --&gt;
&lt;ul&gt;
&lt;li&gt;client certificate (option) A -&amp;gt; B: certificate (A, K_A) {PMS}_K_B &lt;!-- raw HTML omitted --&gt;&lt;/li&gt;
&lt;li&gt;client key exchange A - &amp;gt; B: {PMS}_K_B &lt;!-- raw HTML omitted --&gt;&lt;/li&gt;
&lt;li&gt;certificate verify (option)   A-&amp;gt; B:{hash(message)}{K_A}^-1 &lt;!-- raw HTML omitted --&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;PMS: pre-master secret是用来生成新的master key M的，M= PRF(PMS, Na, Nb), where PRF is &lt;code&gt;pseudo-random function&lt;/code&gt; &lt;!-- raw HTML omitted --&gt;&lt;/p&gt;
&lt;p&gt;Nonce信息可以是在hello信息中被确定的 &lt;!-- raw HTML omitted --&gt;
最重要的就是两条消息就是 &lt;!-- raw HTML omitted --&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Server certificate: B -&amp;gt; A: certificate(B, K_B) &lt;!-- raw HTML omitted --&gt;&lt;/li&gt;
&lt;li&gt;client key exchange A - &amp;gt; B: {PMS}_K_B &lt;!-- raw HTML omitted --&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;simplest SSL do not provide authentication of sender’s identity (it has options to prove) &lt;!-- raw HTML omitted --&gt;&lt;/p&gt;
&lt;h4 id=&#34;tls-record-protocol&#34;&gt;TLS Record Protocol&lt;/h4&gt;
&lt;p&gt;TLS Record protocol是用来通信交换数据的，主要描述了应用层发出的数据应该如何被压缩，用MAC进行认证以及payload要如何加密 &lt;!-- raw HTML omitted --&gt;&lt;/p&gt;
&lt;p&gt;TLS Record Protocol 为每一个TLS connections提供了两种服务 &lt;!-- raw HTML omitted --&gt;&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;Confidentiality &lt;!-- raw HTML omitted --&gt;
&lt;ul&gt;
&lt;li&gt;由TLS Handshake protocol 所定义的密钥可以用来对TLS payload 进行加密 &lt;!-- raw HTML omitted --&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;Message Integrity &lt;!-- raw HTML omitted --&gt;
&lt;ul&gt;
&lt;li&gt;由TLS Handshake protocol 所定义的共享密钥（public key）可以用来组成MAC (message authentication code)来验证integrity &lt;!-- raw HTML omitted --&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;&lt;figure&gt;&lt;img src=&#34;https://ginkgo.org.cn/ox-hugo/2022-05-30_15-30-43_screenshot.png&#34; width=&#34;700px&#34;/&gt;
&lt;/figure&gt;
 &lt;!-- raw HTML omitted --&gt;&lt;/p&gt;
&lt;h4 id=&#34;tls-connection-and-tls-session&#34;&gt;TLS connection and TLS session&lt;/h4&gt;
&lt;dl&gt;
&lt;dt&gt;TLS connection&lt;/dt&gt;
&lt;dd&gt;&lt;ol&gt;
&lt;li&gt;是一个短时间的概念transient &lt;!-- raw HTML omitted --&gt;&lt;/li&gt;
&lt;li&gt;每一个connection会关联一个TLS session TLS会话 &lt;!-- raw HTML omitted --&gt;&lt;/li&gt;
&lt;li&gt;connection是P2P的关系 &lt;!-- raw HTML omitted --&gt;&lt;/li&gt;
&lt;li&gt;TLS connection 本质上是一个session内的安全流 a secure stream within a session &lt;!-- raw HTML omitted --&gt;&lt;/li&gt;
&lt;/ol&gt;
&lt;/dd&gt;
&lt;dt&gt;TLS session&lt;/dt&gt;
&lt;dd&gt;&lt;ol&gt;
&lt;li&gt;TLS session是一个长时间的概念，就算connection中断了，但是session依然存在 &lt;!-- raw HTML omitted --&gt;&lt;/li&gt;
&lt;li&gt;其表示client and server之间进行安全通信的关系，协议，是一种类似Security association的东西 &lt;!-- raw HTML omitted --&gt;&lt;/li&gt;
&lt;li&gt;TLS session 由TLS Handshake Protocol所创造，由client and security双发协商达成共识 &lt;!-- raw HTML omitted --&gt;&lt;/li&gt;
&lt;li&gt;每一个TLS session中都有很多关于安全的参数，可以同时被很多connection共享 &lt;!-- raw HTML omitted --&gt;&lt;/li&gt;
&lt;/ol&gt;
&lt;/dd&gt;
&lt;/dl&gt;
</description>
        </item>
        <item>
        <title>NSE Week 8: IP security</title>
        <link>https://ginkgo.org.cn/posts/nse_week_8_ip_security/</link>
        <pubDate>Sun, 29 May 2022 00:00:00 +0000</pubDate>
        
        <guid>https://ginkgo.org.cn/posts/nse_week_8_ip_security/</guid>
        <description>&lt;h2 id=&#34;nse-week-8-ip-security&#34;&gt;NSE Week 8: IP security&lt;/h2&gt;
&lt;h3 id=&#34;internet-security&#34;&gt;Internet security&lt;/h3&gt;
&lt;p&gt;Why we need IP security, what the problems in existing TCP/IP protocols? &lt;!-- raw HTML omitted --&gt;&lt;/p&gt;
&lt;p&gt;他们没有提供authentication或者confidentiality的功能，因此黑客可以sniffing也可以spoofing &lt;!-- raw HTML omitted --&gt;&lt;/p&gt;
&lt;h3 id=&#34;ipsec&#34;&gt;IPsec&lt;/h3&gt;
&lt;p&gt;IP security (IPsec)通过提供额外的IP header来增强安全，适用于IPv4 or IPv6 &lt;!-- raw HTML omitted --&gt;&lt;/p&gt;
&lt;p&gt;通过在IP层实现这个安全措施，可以既保护那些已经在应用层做了安全措施的应用（例如看全邮件系统，SSL，Kerberos），也可以帮助那些没有安全措施的应用进行防护。 &lt;!-- raw HTML omitted --&gt;&lt;/p&gt;
&lt;p&gt;IPsec提供了三种安全功能： &lt;!-- raw HTML omitted --&gt;&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;Authentication: 通过保证通信的双方的身份都经过了认证 &lt;!-- raw HTML omitted --&gt;&lt;/li&gt;
&lt;li&gt;Confidentiality: 通过对payload数据的加密来防范未经授权的查看 &lt;!-- raw HTML omitted --&gt;&lt;/li&gt;
&lt;li&gt;Key management: 安全的keys交换 &lt;!-- raw HTML omitted --&gt;&lt;/li&gt;
&lt;/ol&gt;
&lt;h4 id=&#34;implementation&#34;&gt;Implementation&lt;/h4&gt;
&lt;ul&gt;
&lt;li&gt;Operating systems: 对主机终端用户提供保护 &lt;!-- raw HTML omitted --&gt;&lt;/li&gt;
&lt;li&gt;Security gateways: firewalls or routers, 比如实现VPN &lt;!-- raw HTML omitted --&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;h4 id=&#34;application-应用&#34;&gt;Application 应用&lt;/h4&gt;
&lt;ol&gt;
&lt;li&gt;保护分公司内部之间的通信：公司可以在LAN或者WAN搭建VPN来减少对于private networks的依赖 &lt;!-- raw HTML omitted --&gt;&lt;/li&gt;
&lt;li&gt;保护经过Internet的远程访问：终端用户可以利用IP sec协议来通过ISP来向公司网络发起关城访问请求 &lt;!-- raw HTML omitted --&gt;&lt;/li&gt;
&lt;li&gt;保护组织之间的通信 &lt;!-- raw HTML omitted --&gt;&lt;/li&gt;
&lt;li&gt;加强电子商务的安全性：通过对网络流量的加密来增强安全性 &lt;!-- raw HTML omitted --&gt;&lt;/li&gt;
&lt;/ol&gt;
&lt;h4 id=&#34;使用场景&#34;&gt;使用场景&lt;/h4&gt;
&lt;p&gt;IPSec既可以安装在组织的网络设备上，例如router or firewall作为内外网的gate来对进出的数据进行加密和解密，也可以安装在主机终端上来保护其对外网的通信。 &lt;!-- raw HTML omitted --&gt;&lt;/p&gt;
&lt;p&gt;&lt;figure&gt;&lt;img src=&#34;https://ginkgo.org.cn/ox-hugo/2022-05-29_15-19-24_screenshot.png&#34; width=&#34;700px&#34;/&gt;
&lt;/figure&gt;
 &lt;!-- raw HTML omitted --&gt;&lt;/p&gt;
&lt;h4 id=&#34;benefits&#34;&gt;Benefits&lt;/h4&gt;
&lt;ol&gt;
&lt;li&gt;将IPSec部署在firewall &amp;amp; router上的时候，可以减轻公司企业对于安全措施的繁重负担，只需要全部交给这些网络设备统一处理就好了 &lt;!-- raw HTML omitted --&gt;&lt;/li&gt;
&lt;li&gt;并且firewall上的IPsec可以有效的防御绕过，因为外界来的流量都需要使用IPSec并且无处可逃 &lt;!-- raw HTML omitted --&gt;&lt;/li&gt;
&lt;li&gt;IPSec位于传输层下面，因此对于应用来说是透明的 &lt;!-- raw HTML omitted --&gt;
&lt;ul&gt;
&lt;li&gt;不需要修改软件 &lt;!-- raw HTML omitted --&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;对用户也是透明的，不过一般来说用户也不会察觉到IPSec的存在，一切都是默默进行的 &lt;!-- raw HTML omitted --&gt;&lt;/li&gt;
&lt;li&gt;有需要的话也可以私用保护单独的用户 &lt;!-- raw HTML omitted --&gt;&lt;/li&gt;
&lt;/ol&gt;
&lt;h4 id=&#34;ipsec-standard&#34;&gt;IPsec standard&lt;/h4&gt;
&lt;p&gt;IPsec 提供三种protocols来完成不同的任务 &lt;!-- raw HTML omitted --&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Authentication Header (AH)：保护IP数据包的integrity and authenticity（但是不包括 confidentiality） &lt;!-- raw HTML omitted --&gt;&lt;/li&gt;
&lt;li&gt;Encapsulating Security Payload (ESP)：保护confidentiality，也可以选择性的保护integrity &lt;!-- raw HTML omitted --&gt;&lt;/li&gt;
&lt;li&gt;Internet Key Exchange Protocol (IKE): 提供密钥管理 &lt;!-- raw HTML omitted --&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;h4 id=&#34;ipsec-services&#34;&gt;IPsec services&lt;/h4&gt;
&lt;p&gt;&lt;figure&gt;&lt;img src=&#34;https://ginkgo.org.cn/ox-hugo/2022-05-29_15-27-10_screenshot.png&#34; width=&#34;700px&#34;/&gt;
&lt;/figure&gt;
 &lt;!-- raw HTML omitted --&gt;&lt;/p&gt;
&lt;p&gt;IPsec可以通过选择实现不同的protocol来实现不同的services &lt;!-- raw HTML omitted --&gt;&lt;/p&gt;
&lt;h3 id=&#34;ipsec-policy&#34;&gt;IPsec policy&lt;/h3&gt;
&lt;p&gt;IPsec policy主要是通过直接与IP packet进行互动，而具体的policy内容则需要访问两个数据库： &lt;!-- raw HTML omitted --&gt;&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;Security association database (SAD) &lt;!-- raw HTML omitted --&gt;&lt;/li&gt;
&lt;li&gt;Security policy database (SPD) &lt;!-- raw HTML omitted --&gt;&lt;/li&gt;
&lt;/ol&gt;
&lt;h3 id=&#34;security-association-database--sad&#34;&gt;Security association database (SAD)&lt;/h3&gt;
&lt;dl&gt;
&lt;dt&gt;Security association (SA)&lt;/dt&gt;
&lt;dd&gt;&lt;ul&gt;
&lt;li&gt;SA是一个SAD中的关键 &lt;!-- raw HTML omitted --&gt;&lt;/li&gt;
&lt;li&gt;其是一个 &lt;code&gt;单向&lt;/code&gt; 的概念，以为着一对通信的双方的单向行为需要单独的SA进行定义 &lt;!-- raw HTML omitted --&gt;&lt;/li&gt;
&lt;li&gt;其中每一个SA由三个参数进行标识： &lt;!-- raw HTML omitted --&gt;
&lt;ol&gt;
&lt;li&gt;Security Parameters Index (SPI): 方便使用的系统来标识SA &lt;!-- raw HTML omitted --&gt;&lt;/li&gt;
&lt;li&gt;IP Destination Address: 之前我们提到的“单向”就体现在此，通过destination address来进行标识 &lt;!-- raw HTML omitted --&gt;&lt;/li&gt;
&lt;li&gt;Security Protocol Identifier: 标识选择AH还是ESP &lt;!-- raw HTML omitted --&gt;&lt;/li&gt;
&lt;/ol&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;/dd&gt;
&lt;/dl&gt;
&lt;p&gt;所有SA的定义都会放在一个指定的Security Association Database中 &lt;!-- raw HTML omitted --&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;AH &lt;!-- raw HTML omitted --&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;ESP &lt;!-- raw HTML omitted --&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Keys &lt;!-- raw HTML omitted --&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Key lifetimes &lt;!-- raw HTML omitted --&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Lifetime of security association &lt;!-- raw HTML omitted --&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Protocol mode (tunnel or transport) &lt;!-- raw HTML omitted --&gt;&lt;/p&gt;
&lt;p&gt;&lt;figure&gt;&lt;img src=&#34;https://ginkgo.org.cn/ox-hugo/2022-05-29_16-27-03_screenshot.png&#34; width=&#34;700px&#34;/&gt;
    &lt;/figure&gt;
 &lt;!-- raw HTML omitted --&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id=&#34;security-policy-database--spd&#34;&gt;Security policy database (SPD)&lt;/h3&gt;
&lt;p&gt;SPD主要定义了那些IP traffic将与那些SA进行配合使用（或者不使用），通常来说使用entry来进行记录： &lt;!-- raw HTML omitted --&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;a subset of IP traffic : an SA for that traffic &lt;!-- raw HTML omitted --&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;在复杂的环境中，也可以是多个的entries对应一个SA或者是多个SA需要应用在一个SPD entry上 &lt;!-- raw HTML omitted --&gt;&lt;/p&gt;
&lt;p&gt;&lt;figure&gt;&lt;img src=&#34;https://ginkgo.org.cn/ox-hugo/2022-05-29_16-29-21_screenshot.png&#34; width=&#34;700px&#34;/&gt;
&lt;/figure&gt;
 &lt;!-- raw HTML omitted --&gt;&lt;/p&gt;
&lt;h3 id=&#34;ip-traffic-processing&#34;&gt;IP traffic processing&lt;/h3&gt;
&lt;p&gt;IPsec是一个包一个包的执行过来的 &lt;!-- raw HTML omitted --&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;每个出站的IP packet在发出去之前都需要用IPsec进行处理 &lt;!-- raw HTML omitted --&gt;&lt;/li&gt;
&lt;li&gt;每一个入站的包在收到之后都需要被IPsec进行处理，然后才能传达的更高层进行下一步处理(TCP/UDP) &lt;!-- raw HTML omitted --&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;h4 id=&#34;outbound-packets&#34;&gt;Outbound packets&lt;/h4&gt;
&lt;p&gt;&lt;figure&gt;&lt;img src=&#34;https://ginkgo.org.cn/ox-hugo/2022-05-29_16-35-42_screenshot.png&#34; width=&#34;700px&#34;/&gt;
&lt;/figure&gt;
 &lt;!-- raw HTML omitted --&gt;&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;收到一个outbound packet之后，IPsec会从SPD中匹配entries &lt;!-- raw HTML omitted --&gt;&lt;/li&gt;
&lt;li&gt;如果没有匹配上，那么就会直接被丢弃并产生错误信息 &lt;!-- raw HTML omitted --&gt;&lt;/li&gt;
&lt;li&gt;如果匹配上了，那么就会决定packet的去处，可能是“丢弃”，也可能直接绕过IPsec（就是我们之前说的没有SA） &lt;!-- raw HTML omitted --&gt;&lt;/li&gt;
&lt;li&gt;如果policy是PROTECT的话，就去SAD中寻找匹配的entry，如果没有找到的话， &lt;code&gt;IKE&lt;/code&gt; 就会被调用来创造一个新的SA以及合适的密钥 &lt;!-- raw HTML omitted --&gt;&lt;/li&gt;
&lt;li&gt;如果SAD中又匹配的entry，那么就会按照SA进行处理，最终发送出去 &lt;!-- raw HTML omitted --&gt;&lt;/li&gt;
&lt;/ol&gt;
&lt;h4 id=&#34;inbound-packets&#34;&gt;Inbound Packets&lt;/h4&gt;
&lt;p&gt;&lt;figure&gt;&lt;img src=&#34;https://ginkgo.org.cn/ox-hugo/2022-05-29_16-40-39_screenshot.png&#34; width=&#34;700px&#34;/&gt;
&lt;/figure&gt;
 &lt;!-- raw HTML omitted --&gt;&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;IPsec首先查看IP packet的header来决定着是一个不安全的IP packet还是已经有IPsec保护的（ESP or AH headers） &lt;!-- raw HTML omitted --&gt;&lt;/li&gt;
&lt;li&gt;如果IP packet是不安全的，那么IPsec就会从SPD中寻找匹配的entry，如果第一个匹配到的policy是BYPASS，那么就直接发到TCP/UDP去处理了，如果是其他的，例如PROTECT or DISCARD或者没有匹配到，通通都丢弃，因为是不安全的 &lt;!-- raw HTML omitted --&gt;&lt;/li&gt;
&lt;li&gt;如果是安全的IPSec包，那么就直接去SAD中找对应的entries以及SA，接着如果匹配到了，那就执行对应的操作(AH/ESP)，没有匹配到的话就直接丢弃 &lt;!-- raw HTML omitted --&gt;&lt;/li&gt;
&lt;/ol&gt;
&lt;h3 id=&#34;authentication-header--ah&#34;&gt;Authentication Header (AH)&lt;/h3&gt;
&lt;p&gt;这一章中，我们具体来看一下AH的组成结构 &lt;!-- raw HTML omitted --&gt;&lt;/p&gt;
&lt;p&gt;&lt;!-- raw HTML omitted --&gt; &lt;!-- raw HTML omitted --&gt;
AH作为一个额外的header，其夹在IP &amp;amp; TCP header之间，提供足够的信息来识别SA，其只提供 Integrity 的保障 &lt;!-- raw HTML omitted --&gt;&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;Security Parameters Index (SPI): 方便使用的系统来标识SA &lt;!-- raw HTML omitted --&gt;&lt;/li&gt;
&lt;li&gt;IP Destination Address: 之前我们提到的“单向”就体现在此，通过destination address来进行标识 &lt;!-- raw HTML omitted --&gt;&lt;/li&gt;
&lt;li&gt;Security Protocol Identifier: 标识选择AH还是ESP &lt;!-- raw HTML omitted --&gt;&lt;/li&gt;
&lt;li&gt;Sequence number field会从1开始不断增加， &lt;!-- raw HTML omitted --&gt;&lt;/li&gt;
&lt;/ol&gt;
&lt;h4 id=&#34;anti-relay-service&#34;&gt;Anti-relay service&lt;/h4&gt;
&lt;p&gt;relay attack就是攻击者通过重复使用可以通过认证的数据包来进行绕过 &lt;!-- raw HTML omitted --&gt;&lt;/p&gt;
&lt;p&gt;假设我们使用这样一个SA &lt;!-- raw HTML omitted --&gt;&lt;/p&gt;
&lt;p&gt;&lt;figure&gt;&lt;img src=&#34;https://ginkgo.org.cn/ox-hugo/2022-05-29_16-27-03_screenshot.png&#34; width=&#34;700px&#34;/&gt;
&lt;/figure&gt;
 &lt;!-- raw HTML omitted --&gt;&lt;/p&gt;
&lt;p&gt;发送者： &lt;!-- raw HTML omitted --&gt;&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;将sequence number计数器设置为0 &lt;!-- raw HTML omitted --&gt;&lt;/li&gt;
&lt;li&gt;每一个packet的sequence number进行递增 &lt;!-- raw HTML omitted --&gt;&lt;/li&gt;
&lt;li&gt;如果达到上限（2^32 - 1）,就结束当前这个SA，并重新开启一个SA和新的密钥进行加密 &lt;!-- raw HTML omitted --&gt;&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;接收者，设置一个 window size W (default = 64) &lt;!-- raw HTML omitted --&gt;&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;如果接收到一个数据包的sequence number落到window size中，并且 Integrity 检查也没有问题，就标记为valid &lt;!-- raw HTML omitted --&gt;&lt;/li&gt;
&lt;li&gt;如果接收到一个数据包落在窗口右边（未来窗口的数据包），同时Integrity 检查也没有问题，标记为valid，同时窗口向右滑动 &lt;!-- raw HTML omitted --&gt;&lt;/li&gt;
&lt;li&gt;如果接收到的数据包落在窗口左边（以前的数据包）或者认证失败，那么packet会被丢弃，同时记录该事件 &lt;!-- raw HTML omitted --&gt;&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;通过sequence number就可以有效判断数据包是否是以前的被攻击者用在现在的数据流上 &lt;!-- raw HTML omitted --&gt;&lt;/p&gt;
&lt;h4 id=&#34;ah-modes&#34;&gt;AH modes&lt;/h4&gt;
&lt;p&gt;原始的TCP segment &lt;!-- raw HTML omitted --&gt;&lt;/p&gt;
&lt;p&gt;&lt;figure&gt;&lt;img src=&#34;https://ginkgo.org.cn/ox-hugo/2022-05-29_17-47-21_screenshot.png&#34; width=&#34;300px&#34;/&gt;
&lt;/figure&gt;
 &lt;!-- raw HTML omitted --&gt;&lt;/p&gt;
&lt;!-- raw HTML omitted --&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;Transport mode&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;
&lt;p&gt;AH插入在IP header与TCP header之间 &lt;!-- raw HTML omitted --&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;MAC (Message Authentication Code)会对整一个包进行认证 &lt;!-- raw HTML omitted --&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;提供端对端的IPsec系统保护 &lt;!-- raw HTML omitted --&gt;&lt;/p&gt;
&lt;p&gt;&lt;figure&gt;&lt;img src=&#34;https://ginkgo.org.cn/ox-hugo/2022-05-29_17-46-59_screenshot.png&#34; width=&#34;300px&#34;/&gt;
        &lt;/figure&gt;
 &lt;!-- raw HTML omitted --&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;!-- raw HTML omitted --&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;Tunnel mode&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;整个原始数据包都会被进行验证，会有一个新的 &lt;code&gt;outer IP header&lt;/code&gt; &lt;!-- raw HTML omitted --&gt;&lt;/li&gt;
&lt;li&gt;inner(original) IP header中携带最终的 source/destination address &lt;!-- raw HTML omitted --&gt;&lt;/li&gt;
&lt;li&gt;new outer header 同样也会收到保护，但是包含的是例如firewall/security gateway的地址 &lt;!-- raw HTML omitted --&gt;&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;&lt;figure&gt;&lt;img src=&#34;https://ginkgo.org.cn/ox-hugo/2022-05-29_17-47-12_screenshot.png&#34; width=&#34;300px&#34;/&gt;
    &lt;/figure&gt;
 &lt;!-- raw HTML omitted --&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id=&#34;encapsulating-security-payload--esp&#34;&gt;Encapsulating Security Payload (ESP)&lt;/h3&gt;
&lt;p&gt;ESP可以提供confidentiality, data origin authentication, connectionless integrity, an anti-replay service, and traffic flow confidentiality. &lt;!-- raw HTML omitted --&gt;&lt;/p&gt;
&lt;p&gt;&lt;figure&gt;&lt;img src=&#34;https://ginkgo.org.cn/ox-hugo/2022-05-29_21-04-43_screenshot.png&#34; width=&#34;700px&#34;/&gt;
&lt;/figure&gt;
 &lt;!-- raw HTML omitted --&gt;&lt;/p&gt;
&lt;p&gt;ESP header 指定了加密的算法以及authentication策略 &lt;!-- raw HTML omitted --&gt;&lt;/p&gt;
&lt;h4 id=&#34;esp-mode&#34;&gt;ESP mode&lt;/h4&gt;
&lt;!-- raw HTML omitted --&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;Transport Mode ESP&lt;/p&gt;
&lt;p&gt;Transport Mode ESP 一般端对端的安全通信上，可以对IP数据包进行加密和认证。 &lt;!-- raw HTML omitted --&gt;&lt;/p&gt;
&lt;p&gt;&lt;figure&gt;&lt;img src=&#34;https://ginkgo.org.cn/ox-hugo/2022-05-29_21-09-38_screenshot.png&#34; width=&#34;700px&#34;/&gt;
    &lt;/figure&gt;
 &lt;!-- raw HTML omitted --&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;对于IPv4数据包，IPsec一旦介入： &lt;!-- raw HTML omitted --&gt;
&lt;ol&gt;
&lt;li&gt;ESP header会插入IP header和TCP header之间 &lt;!-- raw HTML omitted --&gt;&lt;/li&gt;
&lt;li&gt;同时ESP trailer (including Padding, Pad length, and Next Header fields) 将会被添加在IP packet的最后 &lt;!-- raw HTML omitted --&gt;&lt;/li&gt;
&lt;li&gt;如果添加了认证的选项，那么在最后还会加上 &lt;code&gt;ESP Authentication Data&lt;/code&gt;, 这时对前面所有内容的加密 &lt;!-- raw HTML omitted --&gt;&lt;/li&gt;
&lt;/ol&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;这里补充一下Padding的作用，主要是当加密算法需要规定数量的bytes的时候，由于原来的内容不够bytes数，就需要添加一些内容来凑齐，这些就会放在ESP trailer里面 &lt;!-- raw HTML omitted --&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;对于IPv6的数据包： &lt;!-- raw HTML omitted --&gt;
&lt;ol&gt;
&lt;li&gt;在IPv6中，ESP会被当作是端对端的payload，因此无法被主动的路由，因此就需要附带上具体的路由在header上面 &lt;!-- raw HTML omitted --&gt;&lt;/li&gt;
&lt;li&gt;hop-by-hop路由会被添加在Original IP header与ESP header之间 &lt;!-- raw HTML omitted --&gt;&lt;/li&gt;
&lt;/ol&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;figure&gt;&lt;img src=&#34;https://ginkgo.org.cn/ox-hugo/2022-05-29_21-08-59_screenshot.png&#34; width=&#34;700px&#34;/&gt;
    &lt;/figure&gt;
 &lt;!-- raw HTML omitted --&gt;&lt;/p&gt;
&lt;p&gt;&lt;figure&gt;&lt;img src=&#34;https://ginkgo.org.cn/ox-hugo/2022-05-29_21-35-41_screenshot.png&#34; width=&#34;700px&#34;/&gt;
    &lt;/figure&gt;
 &lt;!-- raw HTML omitted --&gt;&lt;/p&gt;
&lt;p&gt;总的来说Transport mode的操作主要是： &lt;!-- raw HTML omitted --&gt;&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;传输的数据再加上ESP trailer中padding的数据和整一个Transport-layers segment (e.g., TCP segment)一起被加密并将原本的明文data换成是经过加密的数据。是否开启认证可以自由选择 &lt;!-- raw HTML omitted --&gt;&lt;/li&gt;
&lt;li&gt;数据包被路由到destination，所有经过的路由器都会处理IP header中的内容，但是不需要也不能处理加密的密文 &lt;!-- raw HTML omitted --&gt;&lt;/li&gt;
&lt;li&gt;destination node根据ESP header中的SPI选择SA来解密，并恢复原本的Transport-layers segment (e.g., TCP segment). &lt;!-- raw HTML omitted --&gt;&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;Transport mode的好处在于提供了统一的confidentiality，而不需要每一个application还需要实现自己的加密. &lt;!-- raw HTML omitted --&gt;&lt;/p&gt;
&lt;p&gt;但是有一个缺点就是，路上的路由器还是可以对流量进行分析，这点无法阻止。 &lt;!-- raw HTML omitted --&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;!-- raw HTML omitted --&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;Tunnel mode ESP&lt;/p&gt;
&lt;p&gt;如下图就是Tunnel mode的一个使用场景，每个公司的内网通过tunnel mode 建立的VPN进行互相的通信，而完成不和Internet的路由上的任何其他主机或者设备进行交互。 &lt;!-- raw HTML omitted --&gt;&lt;/p&gt;
&lt;p&gt;&lt;figure&gt;&lt;img src=&#34;https://ginkgo.org.cn/ox-hugo/2022-05-29_21-09-51_screenshot.png&#34; width=&#34;700px&#34;/&gt;
    &lt;/figure&gt;
 &lt;!-- raw HTML omitted --&gt;&lt;/p&gt;
&lt;p&gt;那么为了避免沿路的路由器对通信进行流量分析，Tunnel mode ESP将会加密整一个IP packet，然后将 &lt;code&gt;ESP header&lt;/code&gt; 加在 &lt;code&gt;Original IP header&lt;/code&gt; 前面 &lt;!-- raw HTML omitted --&gt;&lt;/p&gt;
&lt;p&gt;由于Original IP header中包含目标地址以及routing的信息，因此一旦全部被加密之后，途径的路由器就无法处理这些数据包。因此就需要一个新的IP header，其中包含必要的信息，但是不能被进行流量分析 &lt;!-- raw HTML omitted --&gt;&lt;/p&gt;
&lt;p&gt;同时，为了保护内网的主机，ESP会提供内网的边界设备，例如firewall or security gateway &lt;!-- raw HTML omitted --&gt;&lt;/p&gt;
&lt;p&gt;&lt;figure&gt;&lt;img src=&#34;https://ginkgo.org.cn/ox-hugo/2022-05-29_21-09-20_screenshot.png&#34; width=&#34;700px&#34;/&gt;
    &lt;/figure&gt;
 &lt;!-- raw HTML omitted --&gt;&lt;/p&gt;
&lt;p&gt;我们来看一个具体的例子，看看一个外网的主机是如何通过Tunnel mode ESP来与内网主机进行通信的 &lt;!-- raw HTML omitted --&gt;&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;
&lt;p&gt;构建一个安全的 &lt;code&gt;outer IP packet&lt;/code&gt;: &lt;!-- raw HTML omitted --&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;首先构造一个original IP packet其中包含了内网用户的信息 &lt;!-- raw HTML omitted --&gt;&lt;/li&gt;
&lt;li&gt;然后添加一个 &lt;code&gt;ESP header&lt;/code&gt; &lt;!-- raw HTML omitted --&gt;&lt;/li&gt;
&lt;li&gt;接着加上 &lt;code&gt;ESP trailer&lt;/code&gt; 来padding上合适的信息用于加密算法，接着将原本的data以及 &lt;code&gt;ESP trailer&lt;/code&gt; 加密，并在末尾添加上认证的信息  ESP authentication &lt;!-- raw HTML omitted --&gt;&lt;/li&gt;
&lt;li&gt;最后再最前面加上一个新的 &lt;code&gt;new IP header&lt;/code&gt; （如果是IPv6的话还要加上 &lt;code&gt;hop-by-hop options&lt;/code&gt; ） &lt;!-- raw HTML omitted --&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;接着这个 &lt;code&gt;outer packet&lt;/code&gt; 将会被路由到目标的防火墙，途径的路由器只能处理最外面的新的IP header以及扩展的headers，但是无法处理中间加密的信息 &lt;!-- raw HTML omitted --&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Destination firewall也会先处理外部的几个headers，之后便会根据 ESP header中的 &lt;code&gt;SPI&lt;/code&gt; 信息查找对应的SA来进行解密，最终在内网中进行路由，传递到指定的主机上 &lt;!-- raw HTML omitted --&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;&lt;figure&gt;&lt;img src=&#34;https://ginkgo.org.cn/ox-hugo/2022-05-29_21-36-13_screenshot.png&#34; width=&#34;700px&#34;/&gt;
    &lt;/figure&gt;
 &lt;!-- raw HTML omitted --&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id=&#34;combining-security-associations&#34;&gt;Combining security associations&lt;/h3&gt;
&lt;p&gt;一般来说，一个SA只会实现AH or ESP其中一个protocol,无法都实现，但是我们之前提到过有一种用法是一个数据流对应很对个SAs来组成IPsec services, 这种很多SAs一起使用的就叫做 &lt;code&gt;security association bundle refers&lt;/code&gt; &lt;!-- raw HTML omitted --&gt;&lt;/p&gt;
&lt;p&gt;一般来说，综合的使用方法有两种： &lt;!-- raw HTML omitted --&gt;&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;Transport adjacency &lt;!-- raw HTML omitted --&gt;
&lt;ul&gt;
&lt;li&gt;将多种安全协议运用在用一种IP packet上而不挑用隧道 &lt;!-- raw HTML omitted --&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;Iterated tunneling: &lt;!-- raw HTML omitted --&gt;
&lt;ul&gt;
&lt;li&gt;将多层的安全协议运用在IP tunneling上 &lt;!-- raw HTML omitted --&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;h4 id=&#34;case-study&#34;&gt;Case study&lt;/h4&gt;
&lt;!-- raw HTML omitted --&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;Case 1&lt;/p&gt;
&lt;p&gt;&lt;figure&gt;&lt;img src=&#34;https://ginkgo.org.cn/ox-hugo/2022-05-29_21-39-02_screenshot.png&#34; width=&#34;400px&#34;/&gt;
    &lt;/figure&gt;
 &lt;!-- raw HTML omitted --&gt;&lt;/p&gt;
&lt;p&gt;端对端的安全（通过交换密钥） &lt;!-- raw HTML omitted --&gt;&lt;/p&gt;
&lt;p&gt;一般为内网的主机访问外网的服务器提供保护 &lt;!-- raw HTML omitted --&gt;&lt;/p&gt;
&lt;p&gt;可能的组合 &lt;!-- raw HTML omitted --&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;AH in transport mode &lt;!-- raw HTML omitted --&gt;&lt;/li&gt;
&lt;li&gt;ESP in transport mode &lt;!-- raw HTML omitted --&gt;&lt;/li&gt;
&lt;li&gt;ESP followed by AH in transport model (an ESP SA inside an AH SA) &lt;!-- raw HTML omitted --&gt;&lt;/li&gt;
&lt;li&gt;Any of the above inside an AH or ESP in tunnel mode &lt;!-- raw HTML omitted --&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;!-- raw HTML omitted --&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;Case 2&lt;/p&gt;
&lt;p&gt;只提供gateway (routers, firewall, etc.)之间的安全通信，主机不需要实现IPSec，因此在security gateway之后的网络中不提供任何保护 &lt;!-- raw HTML omitted --&gt;&lt;/p&gt;
&lt;p&gt;VPN就是其中一种应用 &lt;!-- raw HTML omitted --&gt;&lt;/p&gt;
&lt;p&gt;同时采用IP tunneling，可以用以下方式实现： &lt;!-- raw HTML omitted --&gt;&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;AH &lt;!-- raw HTML omitted --&gt;&lt;/li&gt;
&lt;li&gt;ESP &lt;!-- raw HTML omitted --&gt;&lt;/li&gt;
&lt;li&gt;ESP加上authentication选项（AH是没有的） &lt;!-- raw HTML omitted --&gt;&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;&lt;figure&gt;&lt;img src=&#34;https://ginkgo.org.cn/ox-hugo/2022-05-29_22-54-09_screenshot.png&#34; width=&#34;400px&#34;/&gt;
    &lt;/figure&gt;
 &lt;!-- raw HTML omitted --&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;!-- raw HTML omitted --&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;Case 3&lt;/p&gt;
&lt;p&gt;Case3可以被看作是Case 1 加上Case2，即在Case2的IP tunneling所提供的 security gateways之间的保护的基础上，又加上了case1中的点对点的保护措施，通过提供端对端的SAs组合来实现内网中的保护 &lt;!-- raw HTML omitted --&gt;&lt;/p&gt;
&lt;p&gt;&lt;figure&gt;&lt;img src=&#34;https://ginkgo.org.cn/ox-hugo/2022-05-29_22-53-34_screenshot.png&#34; width=&#34;400px&#34;/&gt;
    &lt;/figure&gt;
 &lt;!-- raw HTML omitted --&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;!-- raw HTML omitted --&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;Case 4&lt;/p&gt;
&lt;p&gt;使用场景一般是外网的主机需要访问在security gateway中所保护的内网中的主机 &lt;!-- raw HTML omitted --&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;远程主机会与security gateway之间建立 IP tunneling &lt;!-- raw HTML omitted --&gt;&lt;/li&gt;
&lt;li&gt;同时security gateway也会与内网的主机建立SAs的保护 &lt;!-- raw HTML omitted --&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;figure&gt;&lt;img src=&#34;https://ginkgo.org.cn/ox-hugo/2022-05-29_22-54-21_screenshot.png&#34; width=&#34;400px&#34;/&gt;
    &lt;/figure&gt;
 &lt;!-- raw HTML omitted --&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
</description>
        </item>
        <item>
        <title>NSE Week 7: Intrusion detection and prevention</title>
        <link>https://ginkgo.org.cn/posts/nse_week_7_intrusion_detection_and_prevention/</link>
        <pubDate>Sat, 28 May 2022 00:00:00 +0000</pubDate>
        
        <guid>https://ginkgo.org.cn/posts/nse_week_7_intrusion_detection_and_prevention/</guid>
        <description>&lt;h2 id=&#34;nse-week-7-intrusion-detection-and-prevention&#34;&gt;NSE Week 7: Intrusion detection and prevention&lt;/h2&gt;
&lt;h3 id=&#34;idps&#34;&gt;IDPS&lt;/h3&gt;
&lt;h4 id=&#34;idps-vs-firewall&#34;&gt;IDPS vs firewall&lt;/h4&gt;
&lt;p&gt;Why we need Intrusion detection since we already have firewalls? &lt;!-- raw HTML omitted --&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;IDS的主要目的是检测并报告任何网络中的入侵尝试 &lt;!-- raw HTML omitted --&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;IDS是建立在firewall之后的，还记得我们之前在firewall中提到的三层内网保护机制吗，IDS就作为街道巡逻来识别可疑的入侵者 &lt;!-- raw HTML omitted --&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Firewall主要是将外敌抵御在城墙之外，而IDS就负责抓住潜伏进来的内鬼 &lt;!-- raw HTML omitted --&gt;&lt;/p&gt;
&lt;p&gt;&lt;figure&gt;&lt;img src=&#34;https://ginkgo.org.cn/ox-hugo/2022-05-28_20-58-30_screenshot.png&#34; width=&#34;700px&#34;/&gt;
    &lt;/figure&gt;
 &lt;!-- raw HTML omitted --&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;h4 id=&#34;three-classes-of-intruders&#34;&gt;Three classes of intruders&lt;/h4&gt;
&lt;dl&gt;
&lt;dt&gt;Masquerader 伪装者&lt;/dt&gt;
&lt;dd&gt;Masquerader是一个外部人员，没有任何权限来使用计算机，但是却通过外部手段进行渗透，操控了合法用户的账户，可以被看作是一个outsider &lt;!-- raw HTML omitted --&gt;&lt;/dd&gt;
&lt;dt&gt;Misfeasor 渎职者&lt;/dt&gt;
&lt;dd&gt;Misfeasor是一个合法的用户，但是却做了超出其权限活着规定的事情，可以被看作是一个insider &lt;!-- raw HTML omitted --&gt;&lt;/dd&gt;
&lt;dt&gt;Clanderstine user 秘密用户&lt;/dt&gt;
&lt;dd&gt;Clanderstine user通过获取获取系统的高级权限，进而破坏系统的防御措施，可以是insider活着outsider &lt;!-- raw HTML omitted --&gt;&lt;/dd&gt;
&lt;/dl&gt;
&lt;h4 id=&#34;idps-definitions&#34;&gt;IDPS Definitions&lt;/h4&gt;
&lt;dl&gt;
&lt;dt&gt;Intrusion&lt;/dt&gt;
&lt;dd&gt;&lt;ul&gt;
&lt;li&gt;未经授权的对于计算机资源的访问 &lt;!-- raw HTML omitted --&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/dd&gt;
&lt;dt&gt;Intrusion detection&lt;/dt&gt;
&lt;dd&gt;&lt;ul&gt;
&lt;li&gt;检测对于系统活着网络未经授权的访问 &lt;!-- raw HTML omitted --&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/dd&gt;
&lt;dt&gt;Intrusion detection system (IDS)&lt;/dt&gt;
&lt;dd&gt;&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;就像是网络中的杀毒软件 &lt;!-- raw HTML omitted --&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;组成：sensors, alerts; 检测如前以及报告检测到的如前 &lt;!-- raw HTML omitted --&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;/dd&gt;
&lt;dt&gt;Intrusion prevention system (IPS)&lt;/dt&gt;
&lt;dd&gt;&lt;ul&gt;
&lt;li&gt;IPS 就是一个IDS并且自动对检测到的入侵做出反馈的系统： &lt;!-- raw HTML omitted --&gt;
&lt;ul&gt;
&lt;li&gt;关闭入侵者的网络连接 &lt;!-- raw HTML omitted --&gt;&lt;/li&gt;
&lt;li&gt;尝试反溯源入侵者 &lt;!-- raw HTML omitted --&gt;&lt;/li&gt;
&lt;li&gt;对抗攻击 &lt;!-- raw HTML omitted --&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;/dd&gt;
&lt;/dl&gt;
&lt;p&gt;IDS与IPS配合使用，一般来说IDS在IPS的后面辅助其更好的加强安全 &lt;!-- raw HTML omitted --&gt;&lt;/p&gt;
&lt;h4 id=&#34;approaches-to-intrusion-detection&#34;&gt;Approaches to intrusion detection&lt;/h4&gt;
&lt;p&gt;那我们具体应该如何识别一次入侵呢？ &lt;!-- raw HTML omitted --&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;最基础的方法就是密切监控所有合法用户的行为，一旦出现异常的行为，就很有可能是一次入侵 &lt;!-- raw HTML omitted --&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;但是入侵行为却和普通的行为有很大的重叠 &lt;!-- raw HTML omitted --&gt;&lt;/p&gt;
&lt;p&gt;&lt;figure&gt;&lt;img src=&#34;https://ginkgo.org.cn/ox-hugo/2022-05-28_21-12-17_screenshot.png&#34; width=&#34;700px&#34;/&gt;
&lt;/figure&gt;
 &lt;!-- raw HTML omitted --&gt;&lt;/p&gt;
&lt;p&gt;因此检测很有可能会出现问题，我们用machine learning中曾经用过的概念来解释入侵检测 &lt;!-- raw HTML omitted --&gt;&lt;/p&gt;
&lt;p&gt;前提：在这里，一次positive就表示，IDS识别了一次intrusion &lt;!-- raw HTML omitted --&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;False positive 就是表示一个授权的用户的正常行为被错误的认为是了入侵，检测条件较为宽松的IDS更容易检测到更多的入侵，但同时也会遭致很多的false alarms, completeness &lt;!-- raw HTML omitted --&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;False negative 就表示一次入侵没有被识别为入侵，检测条件如果较为单一，那么相对而言检测到的入侵会更加准确，但是却会遗漏很多的入侵，soundness &lt;!-- raw HTML omitted --&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;&lt;strong&gt;Reputation detection:&lt;/strong&gt; -   观察主机是否与曾经行为不良的用户进行通信 &lt;!-- raw HTML omitted --&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;strong&gt;Anomaly-based detection:&lt;/strong&gt; -   首先定义系统内正常的行为，然后检测那些不正常的行为，一般使用机器学习来进行训练和识别 &lt;!-- raw HTML omitted --&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;strong&gt;Misuse-based detection:&lt;/strong&gt; -   预先定义不良的行为作为模版，然后用这些模版进行匹配检测 &lt;!-- raw HTML omitted --&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;h4 id=&#34;reputation-based&#34;&gt;Reputation based&lt;/h4&gt;
&lt;p&gt;主要目的是为了观察主机是否与曾经行为不良的用户进行通信 &lt;!-- raw HTML omitted --&gt;&lt;/p&gt;
&lt;p&gt;那么如何来判断这些不良的用户呢？ &lt;!-- raw HTML omitted --&gt;&lt;/p&gt;
&lt;p&gt;一半了是基于OSINT，开源的情报以及一些私有的黑名单来进行筛选识别 &lt;!-- raw HTML omitted --&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Malware Domain List (MDL) &lt;!-- raw HTML omitted --&gt;
&lt;ul&gt;
&lt;li&gt;Google Safe Browsing &lt;!-- raw HTML omitted --&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;Spamhaus Block Lists &lt;!-- raw HTML omitted --&gt;&lt;/li&gt;
&lt;li&gt;PhishTank &lt;!-- raw HTML omitted --&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;h4 id=&#34;misuse-based&#34;&gt;Misuse based&lt;/h4&gt;
&lt;p&gt;预先定义不良的行为作为模版，然后用这些模版进行匹配检测 &lt;!-- raw HTML omitted --&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;也被称为 signature detection,通过识别几个特定的signature来进行匹配检测 &lt;!-- raw HTML omitted --&gt;&lt;/li&gt;
&lt;li&gt;依赖于恶意行为模型models of malicious behaviour &lt;!-- raw HTML omitted --&gt;&lt;/li&gt;
&lt;li&gt;同样使用开源情报：Indicators of Compromise (IoC) &amp;amp; Indicators of Attacks (IoA) &lt;!-- raw HTML omitted --&gt;&lt;/li&gt;
&lt;li&gt;IoC/IoA/signature 就如同firewall中的blacklist一样，用来匹配那些恶意行为 &lt;!-- raw HTML omitted --&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;!-- raw HTML omitted --&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;Indicators of Compromise (IoCs)&lt;/p&gt;
&lt;p&gt;IoC一般是作为取证数据，从日志或者文件中提取出来的恶意行为特诊 &lt;!-- raw HTML omitted --&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;可以被分为host-based或者是network-based &lt;!-- raw HTML omitted --&gt;&lt;/li&gt;
&lt;li&gt;甚至可以是很复杂的shellcode &lt;!-- raw HTML omitted --&gt;&lt;/li&gt;
&lt;li&gt;IoC主要关注点在已经发生过的入侵，从日志，文件等信息中来识别 &lt;!-- raw HTML omitted --&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;figure&gt;&lt;img src=&#34;https://ginkgo.org.cn/ox-hugo/2022-05-28_21-31-06_screenshot.png&#34; width=&#34;400px&#34;/&gt;
    &lt;/figure&gt;
 &lt;!-- raw HTML omitted --&gt;&lt;/p&gt;
&lt;p&gt;Indicators of Attacks (IoAs)
: -   IoAs就关注于正在发生的入侵 &lt;!-- raw HTML omitted --&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;!-- raw HTML omitted --&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;Misuse-based detection: pros and cons&lt;/p&gt;
&lt;p&gt;Misuse-based detection的例子： &lt;!-- raw HTML omitted --&gt;&lt;/p&gt;
&lt;p&gt;(traffic source.ip = destination.ip) and (source.port=destination.port) &lt;!-- raw HTML omitted --&gt;&lt;/p&gt;
&lt;p&gt;这就是一个很典型的异常行为的匹配与判断 &lt;!-- raw HTML omitted --&gt;&lt;/p&gt;
&lt;p&gt;Advantages
: 1.  较少的false alarms &lt;!-- raw HTML omitted --&gt;
2.  每次的alerts都会有对应的解释（匹配了什么模型） &lt;!-- raw HTML omitted --&gt;
3.  速度很快 &lt;!-- raw HTML omitted --&gt;
4.  不惧怕evasion，因为是预先设定好的，不会更改 &lt;!-- raw HTML omitted --&gt;&lt;/p&gt;
&lt;p&gt;Disadvantage
: -   只能检测已知的攻击（APT，zero-day就束手无策了） &lt;!-- raw HTML omitted --&gt;&lt;/p&gt;
&lt;pre&gt;&lt;code&gt; -   需要不断更新换代 &amp;lt;br/&amp;gt;

 -   对于over-stimulation attacks来说是错误的 &amp;lt;br/&amp;gt;
&lt;/code&gt;&lt;/pre&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;h4 id=&#34;anomaly-based&#34;&gt;Anomaly based&lt;/h4&gt;
&lt;p&gt;首先定义系统内正常的行为，然后检测那些不正常的行为，一般使用机器学习来进行训练和识别 &lt;!-- raw HTML omitted --&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;需要先收集一段时间的数据来定义正常的行为 &lt;!-- raw HTML omitted --&gt;&lt;/li&gt;
&lt;li&gt;然后将统计测试的结果应用到检测用户的行为来判断是否合法 &lt;!-- raw HTML omitted --&gt;&lt;/li&gt;
&lt;li&gt;阈（yù）值检测 Threshold detection：对各种时间的发生频率进行定义，查看是否出现异常 &lt;!-- raw HTML omitted --&gt;&lt;/li&gt;
&lt;li&gt;基于账户 Profile based：为不同用户的行为进行记录统计，来观察每个用户行为的变化 &lt;!-- raw HTML omitted --&gt;
&lt;ul&gt;
&lt;li&gt;侧重于过去的行为，然后检测重大的变化 &lt;!-- raw HTML omitted --&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;可以被认为是白名单检测，默认不信任所有的行为 &lt;!-- raw HTML omitted --&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;!-- raw HTML omitted --&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;Statistical test&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;Mean and standard deviation 平均值和标准差 &lt;!-- raw HTML omitted --&gt;
&lt;ul&gt;
&lt;li&gt;通过一段时间的数据来进行计算 &lt;!-- raw HTML omitted --&gt;&lt;/li&gt;
&lt;li&gt;可以运用到很多参数上 &lt;!-- raw HTML omitted --&gt;&lt;/li&gt;
&lt;li&gt;不适合单独在IDs上使用 &lt;!-- raw HTML omitted --&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;Multivariate calculation &lt;!-- raw HTML omitted --&gt;
&lt;ul&gt;
&lt;li&gt;用来决定几个变量之前的关系（例如处理时间，数据占用，登录频率等） &lt;!-- raw HTML omitted --&gt;&lt;/li&gt;
&lt;li&gt;通过对于变量关系的分析可以更好的进行分类 &lt;!-- raw HTML omitted --&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;Markov process &lt;!-- raw HTML omitted --&gt;
&lt;ul&gt;
&lt;li&gt;Estimates transition probabilities among various states &lt;!-- raw HTML omitted --&gt;&lt;/li&gt;
&lt;li&gt;Efficient in describing protocol run &lt;!-- raw HTML omitted --&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;Time series model &lt;!-- raw HTML omitted --&gt;
&lt;ul&gt;
&lt;li&gt;根据时间次序进行计算 &lt;!-- raw HTML omitted --&gt;&lt;/li&gt;
&lt;li&gt;可以用来检测一些活动进行的太快或者太慢 &lt;!-- raw HTML omitted --&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;!-- raw HTML omitted --&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;Pros and Cons&lt;/p&gt;
&lt;p&gt;Advantages
: 1.  可以检测那些从来没遇到过的攻击 &lt;!-- raw HTML omitted --&gt;
2.  不需要主动去更新 &lt;!-- raw HTML omitted --&gt;&lt;/p&gt;
&lt;p&gt;Disadvantage
: 1.  很难进行配置以及需脸 &lt;!-- raw HTML omitted --&gt;
2.  定义异常的行为为恶意的有时候也不完全准确 &lt;!-- raw HTML omitted --&gt;
3.  会产生很多的 false alarms &lt;!-- raw HTML omitted --&gt;
4.  消耗大量的资源 &lt;!-- raw HTML omitted --&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;h4 id=&#34;other-ids-classification&#34;&gt;Other IDS classification&lt;/h4&gt;
&lt;ol&gt;
&lt;li&gt;根据时间Timeliness: &lt;!-- raw HTML omitted --&gt;
&lt;ul&gt;
&lt;li&gt;Real-time（实时在线运行） &lt;!-- raw HTML omitted --&gt;&lt;/li&gt;
&lt;li&gt;Non real-time (离线模式，定期进行) &lt;!-- raw HTML omitted --&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;反应措施 Response type: &lt;!-- raw HTML omitted --&gt;
&lt;ul&gt;
&lt;li&gt;Passive (被动的，只有检测到了才会发出警告) &lt;!-- raw HTML omitted --&gt;&lt;/li&gt;
&lt;li&gt;Active (主动封锁恶意的流量) &lt;!-- raw HTML omitted --&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;State-dependency &lt;!-- raw HTML omitted --&gt;
&lt;ul&gt;
&lt;li&gt;Stateful analysis（结合上下文的） &lt;!-- raw HTML omitted --&gt;&lt;/li&gt;
&lt;li&gt;Stateless analysis &lt;!-- raw HTML omitted --&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;System type: &lt;!-- raw HTML omitted --&gt;
&lt;ul&gt;
&lt;li&gt;软件 &lt;!-- raw HTML omitted --&gt;&lt;/li&gt;
&lt;li&gt;硬件 &lt;!-- raw HTML omitted --&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;Topology 拓扑范围类型 &lt;!-- raw HTML omitted --&gt;
&lt;ul&gt;
&lt;li&gt;Host IDS (HIDS) &lt;!-- raw HTML omitted --&gt;&lt;/li&gt;
&lt;li&gt;Network IDS (NIDS) &lt;!-- raw HTML omitted --&gt;&lt;/li&gt;
&lt;li&gt;Distributed IDS (DIDS) &lt;!-- raw HTML omitted --&gt;
&lt;ul&gt;
&lt;li&gt;观察和检测整一个网络利用多种检测模式 &lt;!-- raw HTML omitted --&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;h4 id=&#34;hids-nids-dids&#34;&gt;HIDS/NIDS/DIDS&lt;/h4&gt;
&lt;!-- raw HTML omitted --&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;Host IDS (HIDS)&lt;/p&gt;
&lt;p&gt;专注于本机的数据 &lt;!-- raw HTML omitted --&gt;
NIC网卡需要处于non-promiscuous mode,即不会接受与自己无关的数据包，进而缩小检测范围 &lt;!-- raw HTML omitted --&gt;&lt;/p&gt;
&lt;p&gt;检测的范围: &lt;!-- raw HTML omitted --&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Logs 日志 &lt;!-- raw HTML omitted --&gt;&lt;/li&gt;
&lt;li&gt;System calls 系统指令 &lt;!-- raw HTML omitted --&gt;&lt;/li&gt;
&lt;li&gt;Host activities 用户行为 &lt;!-- raw HTML omitted --&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;只关注本地服务 &lt;!-- raw HTML omitted --&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;!-- raw HTML omitted --&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;Network IDS (NIDS)&lt;/p&gt;
&lt;p&gt;专注于网络内的所有主机 &lt;!-- raw HTML omitted --&gt;
NIC开放promiscuous mode，接受所有的数据包 &lt;!-- raw HTML omitted --&gt;&lt;/p&gt;
&lt;p&gt;通常会部署在： &lt;!-- raw HTML omitted --&gt;&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;choke points（firewall） &lt;!-- raw HTML omitted --&gt;&lt;/li&gt;
&lt;li&gt;DMZ &lt;!-- raw HTML omitted --&gt;&lt;/li&gt;
&lt;li&gt;Internal network &lt;!-- raw HTML omitted --&gt;&lt;/li&gt;
&lt;/ol&gt;
&lt;!-- raw HTML omitted --&gt;
&lt;p&gt;Traditional deployment
: -   IDS设备连接在trunk points (e.g., firewall)上，来检测所有的网络流量，检测攻击，但没有防御手段 &lt;!-- raw HTML omitted --&gt;&lt;/p&gt;
&lt;p&gt;&lt;figure&gt;&lt;img src=&#34;https://ginkgo.org.cn/ox-hugo/2022-05-28_22-09-14_screenshot.png&#34; width=&#34;300px&#34;/&gt;
    &lt;/figure&gt;
 &lt;!-- raw HTML omitted --&gt;&lt;/p&gt;
&lt;p&gt;Inline deployment
:&lt;/p&gt;
&lt;p&gt;IDS设备直接与设备相连接，可以进行检测和防御，例如IPS &lt;!-- raw HTML omitted --&gt;&lt;/p&gt;
&lt;p&gt;&lt;figure&gt;&lt;img src=&#34;https://ginkgo.org.cn/ox-hugo/2022-05-28_22-09-34_screenshot.png&#34; width=&#34;300px&#34;/&gt;
    &lt;/figure&gt;
 &lt;!-- raw HTML omitted --&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;!-- raw HTML omitted --&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;Distributed IDS (DIDS)&lt;/p&gt;
&lt;p&gt;利用多个sensors（HIDS，NIDS）来收集数据，然后再汇总到中心的管理器上 &lt;!-- raw HTML omitted --&gt;&lt;/p&gt;
&lt;p&gt;管理员综合分析所有的事件来进行分析判断 &lt;!-- raw HTML omitted --&gt;&lt;/p&gt;
&lt;p&gt;会部署在专用的外部网络上，例如VPN &lt;!-- raw HTML omitted --&gt;&lt;/p&gt;
&lt;p&gt;我们在CFC中就曾经遇见过类似的内容 &lt;!-- raw HTML omitted --&gt;&lt;/p&gt;
&lt;p&gt;Security Information and Event Management就可以统一收集并管理所有的数据 &lt;!-- raw HTML omitted --&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Host会在后台运行监控系统，然后将收集到的数据发送到中央的管理服务器上（外部网络，VPN） &lt;!-- raw HTML omitted --&gt;&lt;/li&gt;
&lt;li&gt;中央的管理服务器收集所有的事件报告（从内网中），然后综合分析来入侵检测分析 &lt;!-- raw HTML omitted --&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;figure&gt;&lt;img src=&#34;https://ginkgo.org.cn/ox-hugo/2022-05-28_22-15-14_screenshot.png&#34; width=&#34;500px&#34;/&gt;
    &lt;/figure&gt;
 &lt;!-- raw HTML omitted --&gt;&lt;/p&gt;
&lt;!-- raw HTML omitted --&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;IDS是如何工作的&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;
&lt;p&gt;Input information 信息输入 &lt;!-- raw HTML omitted --&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Application-specific information 应用数据 &lt;!-- raw HTML omitted --&gt;&lt;/li&gt;
&lt;li&gt;Host-specific information: 本地日志，系统文件变化，系统命令调用 &lt;!-- raw HTML omitted --&gt;&lt;/li&gt;
&lt;li&gt;Network specific information: 数据流量 &lt;!-- raw HTML omitted --&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Intrusion detection policies &lt;!-- raw HTML omitted --&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Known bad: blacklist 预定义的攻击模型 &lt;!-- raw HTML omitted --&gt;
&lt;ul&gt;
&lt;li&gt;Reputation-based detection &lt;!-- raw HTML omitted --&gt;&lt;/li&gt;
&lt;li&gt;Signature-based/rule-based/misuse-based detection &lt;!-- raw HTML omitted --&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;Known good: 报告任何异常情况 &lt;!-- raw HTML omitted --&gt;
&lt;ul&gt;
&lt;li&gt;Anomaly-based detection &lt;!-- raw HTML omitted --&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;入侵报告 &lt;!-- raw HTML omitted --&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;passive response (检测报告) &lt;!-- raw HTML omitted --&gt;&lt;/li&gt;
&lt;li&gt;active response (主动封锁连接) &lt;!-- raw HTML omitted --&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;ul&gt;
&lt;li&gt;Alert data: IDS alerts &lt;!-- raw HTML omitted --&gt;&lt;/li&gt;
&lt;li&gt;Log data: complete host logs &lt;!-- raw HTML omitted --&gt;&lt;/li&gt;
&lt;li&gt;Statistical data: network stats &lt;!-- raw HTML omitted --&gt;&lt;/li&gt;
&lt;li&gt;Session data: 5-tuple flows &lt;!-- raw HTML omitted --&gt;&lt;/li&gt;
&lt;li&gt;Packet string data: e.g., HTTP headers &lt;!-- raw HTML omitted --&gt;&lt;/li&gt;
&lt;li&gt;Full packet capture: PCAP files &lt;!-- raw HTML omitted --&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;ul&gt;
&lt;li&gt;Packet capture: tcpdump, wireshark &lt;!-- raw HTML omitted --&gt;&lt;/li&gt;
&lt;li&gt;Session data: netflow, IPFIX (Internet Protocol Flow Information Export) &lt;!-- raw HTML omitted --&gt;&lt;/li&gt;
&lt;li&gt;Session string: URLsnarf &lt;!-- raw HTML omitted --&gt;&lt;/li&gt;
&lt;li&gt;Logs: syslog &lt;!-- raw HTML omitted --&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;h4 id=&#34;measuring-performance&#34;&gt;Measuring performance&lt;/h4&gt;
&lt;p&gt;&lt;figure&gt;&lt;img src=&#34;https://ginkgo.org.cn/ox-hugo/2022-05-28_22-22-33_screenshot.png&#34; width=&#34;700px&#34;/&gt;
&lt;/figure&gt;
 &lt;!-- raw HTML omitted --&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;True positive: 检测到的入侵是真的 &lt;!-- raw HTML omitted --&gt;&lt;/li&gt;
&lt;li&gt;False positive: 检测到的入侵是假的 &lt;!-- raw HTML omitted --&gt;&lt;/li&gt;
&lt;li&gt;True negative: 检测到的合法行为是真的 &lt;!-- raw HTML omitted --&gt;&lt;/li&gt;
&lt;li&gt;False negative: 检测到的合法行为是假的，其实是入侵 &lt;!-- raw HTML omitted --&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;Sensitivity (True positive rate, probability of detection): measures the proportion of positives that are correctly identified &lt;!-- raw HTML omitted --&gt;&lt;/p&gt;
&lt;p&gt;Specificity (True negative rate): measures the proportion of negatives that are correctly identified &lt;!-- raw HTML omitted --&gt;&lt;/p&gt;
&lt;p&gt;Sensitivity = True positive rate = Precision = TP / (TP + FP) &lt;!-- raw HTML omitted --&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;it reflects the machine learning algorithm’s performance on “How many times you are right?”, TP + FP indicates the total sample are labeled by ML as malware (positive) &lt;!-- raw HTML omitted --&gt;&lt;/p&gt;
&lt;p&gt;Recall = TP / (TP + FN), it reflects “How many malware found by you”, TP + FN means all the actual malware within the dataset &lt;!-- raw HTML omitted --&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;Specificity = True negative rate = TN / (TN + FP) &lt;!-- raw HTML omitted --&gt;&lt;/p&gt;
&lt;h4 id=&#34;base-rate-fallacy-基率谬误&#34;&gt;Base-rate fallacy 基率谬误&lt;/h4&gt;
&lt;p&gt;指的是人们在考虑事件的概率的时候往往没有考虑全部的信息，而是选择那些个性化的信息而草率的出结论，以偏概全 &lt;!-- raw HTML omitted --&gt;&lt;/p&gt;
&lt;p&gt;A &amp;amp; B 是不同的事件 &lt;!-- raw HTML omitted --&gt;&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;P(A|B) 是一个条件概率，顾名思义，是在一定条件下，某一些时间发生的概率：当B发生的情况下，A发生的概率 &lt;!-- raw HTML omitted --&gt;&lt;/li&gt;
&lt;li&gt;P(B|A) 是一个条件概率：当A发生的情况下，B发生的概率 &lt;!-- raw HTML omitted --&gt;&lt;/li&gt;
&lt;li&gt;P(A) &amp;amp; P(B) 是A &amp;amp; B单独各自发生的概率 &lt;!-- raw HTML omitted --&gt;&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;Bayes&amp;rsquo; theorem &lt;!-- raw HTML omitted --&gt;&lt;/p&gt;
&lt;p&gt;&lt;figure&gt;&lt;img src=&#34;https://ginkgo.org.cn/ox-hugo/2022-05-29_11-45-35_screenshot.png&#34; width=&#34;300px&#34;/&gt;
&lt;/figure&gt;
 &lt;!-- raw HTML omitted --&gt;&lt;/p&gt;
&lt;p&gt;根据贝叶斯定理，P(A|B) * P(B) = P(B|A) * P(A)就是A与B同时发生的概率 &lt;!-- raw HTML omitted --&gt;&lt;/p&gt;
&lt;p&gt;可以有效的综合多个概率，从而得出一个更为可靠的综合概率 &lt;!-- raw HTML omitted --&gt;&lt;/p&gt;
&lt;p&gt;我们假设： &lt;!-- raw HTML omitted --&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;I 为入侵行为 &lt;!-- raw HTML omitted --&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;¬I 为非入侵行为 &lt;!-- raw HTML omitted --&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;A 为出现入侵警告事件 &lt;!-- raw HTML omitted --&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;¬A 没有出现入侵警告事件 &lt;!-- raw HTML omitted --&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;True positive rate or detection rate: P(A|I)，在入侵确实发生的情况下，发出警告的概率 &lt;!-- raw HTML omitted --&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;False positive rate of false alarm rate: P(A|¬I)，在没有发生入侵的情况下，发出警告的概率 &lt;!-- raw HTML omitted --&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;False negative rate: P(¬A|I) = 1 - P(A|I)，在入侵确实发生的情况下，没有发出警告的概率 &lt;!-- raw HTML omitted --&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;True negative rate: P(¬A|¬I) = 1 - P(A|¬I)，在没有发生入侵的情况下，没有发出警告的概率 &lt;!-- raw HTML omitted --&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;P(I|A): 在发出入侵警告事件的情况下，真的有入侵事件的概率 &lt;!-- raw HTML omitted --&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;P(¬I|¬A): 在没有入侵警告事件的情况下，确实没有入侵的概率 &lt;!-- raw HTML omitted --&gt;&lt;/p&gt;
&lt;p&gt;&lt;figure&gt;&lt;img src=&#34;https://ginkgo.org.cn/ox-hugo/2022-05-29_11-59-40_screenshot.png&#34; width=&#34;700px&#34;/&gt;
    &lt;/figure&gt;
 &lt;!-- raw HTML omitted --&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;我们假设一个网络管理员在过去的一年中，在每10,000个活动中能检测到1个真实的入侵，继续利用上面的事件，也就是： &lt;!-- raw HTML omitted --&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;P(I) = 1/10000 &lt;!-- raw HTML omitted --&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;同时这位网络管理对自己的工作十分骄傲，因为他从所有入侵中亲自发现了被检测系统遗漏的5%的入侵，也就是： &lt;!-- raw HTML omitted --&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;P(¬A|I) = 5% &lt;!-- raw HTML omitted --&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;但管理又对检测系统非常的不满，因为其不仅会遗漏入侵，还有3%的入侵警报事件是误报，也就是 &lt;!-- raw HTML omitted --&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;P(A|¬I) = 3% &lt;!-- raw HTML omitted --&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;如果我们要计算一个警告真的是入侵的概率，也就是P(I|A)，就可以套用上面的公式 &lt;!-- raw HTML omitted --&gt;
P(I|A) = P(I) * P(A|I) / P(I) * P(A|I) +  P(¬I) * P(A|¬I)= ((0.0001 * 0.95) / ((0.0001 * 0.95)+(0.9999*0.03)) = 0.00315 &amp;ndash;&amp;gt; 0.32% &lt;!-- raw HTML omitted --&gt;&lt;/p&gt;
&lt;h3 id=&#34;honeypots&#34;&gt;Honeypots&lt;/h3&gt;
&lt;h4 id=&#34;honeypots-as-a-deception-technique&#34;&gt;Honeypots as a deception technique&lt;/h4&gt;
&lt;p&gt;Why we need honeypots, since we already have firewalls and IDPS? &lt;!-- raw HTML omitted --&gt;
Firewall和IDPS更多的是拦截和阻断攻击者的攻击，但是如果我们想更多的了解attacker，从而提前掌握潜在的威胁，那么我们就需要用到Honeypots，蜜罐，用来引诱攻击者暴露更多的信息： &lt;!-- raw HTML omitted --&gt;&lt;/p&gt;
&lt;dl&gt;
&lt;dt&gt;Honeypot 蜜罐&lt;/dt&gt;
&lt;dd&gt;&lt;ul&gt;
&lt;li&gt;是一个陷阱其实放置了检测以及反制手段来获取那些未经许可的访问的信息 &lt;!-- raw HTML omitted --&gt;&lt;/li&gt;
&lt;li&gt;同时也作为诱饵，使攻击者原理重要的系统 &lt;!-- raw HTML omitted --&gt;&lt;/li&gt;
&lt;li&gt;学习未知的攻击 &lt;!-- raw HTML omitted --&gt;&lt;/li&gt;
&lt;li&gt;学习入侵者的行动模式 &lt;!-- raw HTML omitted --&gt;&lt;/li&gt;
&lt;li&gt;从而更好的预测和抵抗未来的攻击 &lt;!-- raw HTML omitted --&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/dd&gt;
&lt;/dl&gt;
&lt;p&gt;蜜罐没有实际的生产价值，其知识为了防范入侵 &lt;!-- raw HTML omitted --&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;里面充斥着一些伪装的信息，来引诱攻击者进行入侵 &lt;!-- raw HTML omitted --&gt;&lt;/li&gt;
&lt;li&gt;因此合法的用户不会与其通信，那么所有的通信只会是扫描，入侵或者给农机 &lt;!-- raw HTML omitted --&gt;&lt;/li&gt;
&lt;li&gt;进而我们可以收集攻击者的活动 &lt;!-- raw HTML omitted --&gt;&lt;/li&gt;
&lt;li&gt;并部署一些看起来有价值的信息来诱导攻击者长时间的驻留的系统内，以便我们更好的手机信息 &lt;!-- raw HTML omitted --&gt;&lt;/li&gt;
&lt;li&gt;尽量要让攻击者成功入侵，这样才能使他们驻留，并留下痕迹 &lt;!-- raw HTML omitted --&gt;&lt;/li&gt;
&lt;li&gt;同时也不能太容易入侵，最好能让攻击者感到有挑战性 &lt;!-- raw HTML omitted --&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;h4 id=&#34;honeypots-deployment-and-classifications&#34;&gt;Honeypots deployment and classifications&lt;/h4&gt;
&lt;!-- raw HTML omitted --&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;Deployment&lt;/p&gt;
&lt;p&gt;蜜罐一般会被部署在DMZ上，当然也可以在边界路由器之外（指外网），或者内网也可以。 &lt;!-- raw HTML omitted --&gt;&lt;/p&gt;
&lt;p&gt;进而部署虚拟的环境，同时营造出尽可能真实的系统环境，通过深度的监控来手机攻击者的信息 &lt;!-- raw HTML omitted --&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;!-- raw HTML omitted --&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;Classification&lt;/p&gt;
&lt;p&gt;根据目的
: -   Production honeypots 蜜罐产品 &lt;!-- raw HTML omitted --&gt;
-   为企业的网络环境提供蜜罐产品 &lt;!-- raw HTML omitted --&gt;
-   更容易部署和使用 &lt;!-- raw HTML omitted --&gt;
-   在易用和信息收集量之间做取舍 &lt;!-- raw HTML omitted --&gt;
-   Research honeypots 研究型蜜罐 &lt;!-- raw HTML omitted --&gt;
-   提供更全面的攻击信息 &lt;!-- raw HTML omitted --&gt;
-   更难部署，因为考虑到没有那么专业的开发力量来优化 &lt;!-- raw HTML omitted --&gt;
-   通过更加全面地研究攻击，进而找到更好的解决方法 &lt;!-- raw HTML omitted --&gt;&lt;/p&gt;
&lt;p&gt;根据互动的程度
: -   提供较少互动的蜜罐 &lt;!-- raw HTML omitted --&gt;
-   只模拟运行一小组服务和应用 &lt;!-- raw HTML omitted --&gt;
-   不能被获取所有权限 &lt;!-- raw HTML omitted --&gt;
-   攻击者的互动被限制 &lt;!-- raw HTML omitted --&gt;
-   通常是用在产品型蜜罐上 &lt;!-- raw HTML omitted --&gt;
-   优点：风险低，容易部署 &lt;!-- raw HTML omitted --&gt;
-   缺点：收集到的信息较少，因为互动少 &lt;!-- raw HTML omitted --&gt;&lt;/p&gt;
&lt;pre&gt;&lt;code&gt; -   提供较多互动的蜜罐 &amp;lt;br/&amp;gt;
     -   使用真实的操作系统和应用 &amp;lt;br/&amp;gt;
     -   攻击者可以获得所有网络和系统的访问 &amp;lt;br/&amp;gt;
     -   通常用在研究型蜜罐上 &amp;lt;br/&amp;gt;
     -   优点：可以获取更多的信息 &amp;lt;br/&amp;gt;
     -   缺点：较高的风险，并且维护的成本更高 &amp;lt;br/&amp;gt;
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;根据实现的方法
: -   Physical honeypot 物理蜜罐 &lt;!-- raw HTML omitted --&gt;
-   网络上连接的真实设备 &lt;!-- raw HTML omitted --&gt;
-   Virtual honeypot 虚拟蜜罐 &lt;!-- raw HTML omitted --&gt;
-   模拟主机进行互动 &lt;!-- raw HTML omitted --&gt;
-   一个主机可以同时维护和运行多个虚拟蜜罐 &lt;!-- raw HTML omitted --&gt;
-   通常可以提供更多的互动，因为虚拟环境更为安全 &lt;!-- raw HTML omitted --&gt;&lt;/p&gt;
&lt;p&gt;根据互动的方向
: -   Server honeypots 服务器蜜罐，开启服务 &lt;!-- raw HTML omitted --&gt;&lt;/p&gt;
&lt;pre&gt;&lt;code&gt; -   Client honeypots 客户端蜜罐，连接服务器的服务 &amp;lt;br/&amp;gt;
&lt;/code&gt;&lt;/pre&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;h4 id=&#34;honeypots-phases&#34;&gt;Honeypots phases&lt;/h4&gt;
&lt;p&gt;最好的方法： &lt;!-- raw HTML omitted --&gt;&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;较高的堡垒化网络 &lt;!-- raw HTML omitted --&gt;&lt;/li&gt;
&lt;li&gt;每一个数据包都进行保存，便于分析学习 &lt;!-- raw HTML omitted --&gt;&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;Phases： &lt;!-- raw HTML omitted --&gt;&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;Data control &lt;!-- raw HTML omitted --&gt;&lt;/li&gt;
&lt;li&gt;Data capture, 捕捉attacker所产生的各种data &lt;!-- raw HTML omitted --&gt;&lt;/li&gt;
&lt;li&gt;Data analysis，分析这些data，学习攻击者的互动 &lt;!-- raw HTML omitted --&gt;&lt;/li&gt;
&lt;/ol&gt;
&lt;!-- raw HTML omitted --&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;Data control&lt;/p&gt;
&lt;p&gt;蜜罐通过与攻击者进行通信（via protocols）来诱导他们做出行动，留下踪迹 &lt;!-- raw HTML omitted --&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Bandwidth throttling 宽带限流 &lt;!-- raw HTML omitted --&gt;
&lt;ul&gt;
&lt;li&gt;由ISP主动给网络服务降速，从而增加访问蜜罐消耗的时间成本，减少了对其他用户造成危害的时间 &lt;!-- raw HTML omitted --&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;!-- raw HTML omitted --&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;Data capture&lt;/p&gt;
&lt;p&gt;蜜罐将会监控被记录所有攻击者在蜜罐上所进行的活动，进而集中存储 &lt;!-- raw HTML omitted --&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Network activity &lt;!-- raw HTML omitted --&gt;&lt;/li&gt;
&lt;li&gt;Application activity &lt;!-- raw HTML omitted --&gt;&lt;/li&gt;
&lt;li&gt;System activity &lt;!-- raw HTML omitted --&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;!-- raw HTML omitted --&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;Data analysis&lt;/p&gt;
&lt;p&gt;蜜罐分析所有收集到的活动数据 &lt;!-- raw HTML omitted --&gt;&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;Human-driven analysis &lt;!-- raw HTML omitted --&gt;
&lt;ul&gt;
&lt;li&gt;tester或者researcher使用自动化工具来处理数据进行分析 &lt;!-- raw HTML omitted --&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;Machine-driven analysis &lt;!-- raw HTML omitted --&gt;
&lt;ul&gt;
&lt;li&gt;假设网络连接都是恶意的和异常的 &lt;!-- raw HTML omitted --&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;h4 id=&#34;case-study-catch-the-ratter&#34;&gt;Case study: catch the ratter&lt;/h4&gt;
&lt;p&gt;RAT: remote administration tools &lt;!-- raw HTML omitted --&gt;&lt;/p&gt;
&lt;p&gt;通过让攻击者利用RAT来获取全部虚拟机的权限来手机信息并研究他们的行为： &lt;!-- raw HTML omitted --&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Capture audio from microphone &lt;!-- raw HTML omitted --&gt;&lt;/li&gt;
&lt;li&gt;Capture video from webcam &lt;!-- raw HTML omitted --&gt;&lt;/li&gt;
&lt;li&gt;Log keyboard input &lt;!-- raw HTML omitted --&gt;&lt;/li&gt;
&lt;li&gt;Browse files on machine &lt;!-- raw HTML omitted --&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;h4 id=&#34;honeytokens&#34;&gt;Honeytokens&lt;/h4&gt;
&lt;p&gt;Honeytokens是一种蜜罐的形式，但是并不是计算机操作系统，但也许是一个： &lt;!-- raw HTML omitted --&gt;&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;不使用的邮箱地址 &lt;!-- raw HTML omitted --&gt;&lt;/li&gt;
&lt;li&gt;虚假的数据库 &lt;!-- raw HTML omitted --&gt;&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;这些虚假的设备不再于使用，而在于被入侵和破坏 &lt;!-- raw HTML omitted --&gt;&lt;/p&gt;
&lt;p&gt;比如在数据库中有一条虚假的信息，没有任何实际的价值，在生产过程中也不会访问这条数据，但是一旦被访问了，就表示有入侵发生了。 &lt;!-- raw HTML omitted --&gt;&lt;/p&gt;
&lt;p&gt;这种方式更为简单易用，不需要部署复杂的蜜罐系统，也可以识别出攻击 &lt;!-- raw HTML omitted --&gt;&lt;/p&gt;
&lt;p&gt;&lt;!-- raw HTML omitted --&gt;&lt;!-- raw HTML omitted --&gt;&amp;lt;2022-05-29 Sun 10:52&amp;gt;&lt;!-- raw HTML omitted --&gt;&lt;!-- raw HTML omitted --&gt; &lt;!-- raw HTML omitted --&gt;&lt;/p&gt;
</description>
        </item>
        <item>
        <title>NSE Week 1: Module introduction, security concepts and security attacks</title>
        <link>https://ginkgo.org.cn/posts/nse_week_1_module_introduction_security_concepts_and_security_attacks/</link>
        <pubDate>Thu, 26 May 2022 00:00:00 +0000</pubDate>
        
        <guid>https://ginkgo.org.cn/posts/nse_week_1_module_introduction_security_concepts_and_security_attacks/</guid>
        <description>&lt;h2 id=&#34;nse-week-1-module-introduction-security-concepts-and-security-attacks&#34;&gt;NSE Week 1: Module introduction, security concepts and security attacks&lt;/h2&gt;
&lt;h3 id=&#34;what-is-network-security&#34;&gt;What is Network Security?&lt;/h3&gt;
&lt;dl&gt;
&lt;dt&gt;Cyber security&lt;/dt&gt;
&lt;dd&gt;是关于个人和组织如何减少 cyber attack 的风险 &lt;!-- raw HTML omitted --&gt;&lt;/dd&gt;
&lt;dt&gt;Network security&lt;/dt&gt;
&lt;dd&gt;是关于个人和组织如何减少网络攻击的风险 &lt;!-- raw HTML omitted --&gt;&lt;/dd&gt;
&lt;/dl&gt;
&lt;p&gt;Risk 风险 : &lt;!-- raw HTML omitted --&gt;
是关于漏洞利用从而对财产造成损失的可能性 &lt;!-- raw HTML omitted --&gt;&lt;/p&gt;
&lt;h3 id=&#34;security-concepts&#34;&gt;Security Concepts&lt;/h3&gt;
&lt;p&gt;首先我们再来回顾一下Cyber security中，最重要的CIA的概念 &lt;!-- raw HTML omitted --&gt;&lt;/p&gt;
&lt;dl&gt;
&lt;dt&gt;Confidentiality&lt;/dt&gt;
&lt;dd&gt;&lt;ul&gt;
&lt;li&gt;确保保密的信息不暴露给未经授权的人员 &lt;!-- raw HTML omitted --&gt;&lt;/li&gt;
&lt;li&gt;Loss of confidentiality = unauthorised disclosure of information &lt;!-- raw HTML omitted --&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/dd&gt;
&lt;dt&gt;Integrity&lt;/dt&gt;
&lt;dd&gt;&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;确保信息和程序只会被授权的人员所修改与处理 &lt;!-- raw HTML omitted --&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Loss of integrity = the unauthorised modification or destruction of information &lt;!-- raw HTML omitted --&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;/dd&gt;
&lt;dt&gt;Availability&lt;/dt&gt;
&lt;dd&gt;&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;确保系统正常运行并且不会拒绝授权的用户的访问 &lt;!-- raw HTML omitted --&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Loss of availability = the destruction of access to information/system and the destruction of use of information/system &lt;!-- raw HTML omitted --&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;/dd&gt;
&lt;/dl&gt;
&lt;p&gt;CIA的重要性需要视情况而定，对于不同的资源/系统，我们需要指定不同的CIA的标准 &lt;!-- raw HTML omitted --&gt;&lt;/p&gt;
&lt;h4 id=&#34;more-properties-in-cyber-security&#34;&gt;More properties in Cyber security&lt;/h4&gt;
&lt;p&gt;&lt;figure&gt;&lt;img src=&#34;https://ginkgo.org.cn/ox-hugo/2022-05-26_16-22-20_screenshot.png&#34; width=&#34;700px&#34;/&gt;
&lt;/figure&gt;
 &lt;!-- raw HTML omitted --&gt;&lt;/p&gt;
&lt;dl&gt;
&lt;dt&gt;Authentication&lt;/dt&gt;
&lt;dd&gt;确保每一个用户的真实身份都是他们所申明的一致 &lt;!-- raw HTML omitted --&gt;&lt;/dd&gt;
&lt;dt&gt;Non-repudiation&lt;/dt&gt;
&lt;dd&gt;确保信息传输的双发不能否认他们接受或者发送过信息 &lt;!-- raw HTML omitted --&gt;&lt;/dd&gt;
&lt;dt&gt;Code validation&lt;/dt&gt;
&lt;dd&gt;确保软硬件是健全的（sound），并且检查漏洞 &lt;!-- raw HTML omitted --&gt;&lt;/dd&gt;
&lt;/dl&gt;
&lt;h3 id=&#34;osi-security-architecture&#34;&gt;OSI Security Architecture&lt;/h3&gt;
&lt;p&gt;接下来我们来介绍一下OSI的安全框架 &lt;!-- raw HTML omitted --&gt;&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;
&lt;p&gt;Security attack
: -   任何对组织的信息安全造成危害的行为都称为 security attack &lt;!-- raw HTML omitted --&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Passive or Active &lt;!-- raw HTML omitted --&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Security mechanism
: -   一个用来从security attack中检测，防止和恢复的机制 &lt;!-- raw HTML omitted --&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;例如流量检测，预防入侵 &lt;!-- raw HTML omitted --&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Security service
: -   一项用来保护组织中的数据处理系统的服务 &lt;!-- raw HTML omitted --&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;包含多中Security mechanisms来对抗security attacks &lt;!-- raw HTML omitted --&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;&lt;figure&gt;&lt;img src=&#34;https://ginkgo.org.cn/ox-hugo/2022-05-26_16-30-51_screenshot.png&#34; width=&#34;700px&#34;/&gt;
&lt;/figure&gt;
 &lt;!-- raw HTML omitted --&gt;&lt;/p&gt;
&lt;h3 id=&#34;philosophy-taken-to-counterattacking&#34;&gt;Philosophy taken to counterattacking&lt;/h3&gt;
&lt;ol&gt;
&lt;li&gt;
&lt;p&gt;Deter
: -   组织入侵的发生（在其发生之前进行组织），即使用 &lt;code&gt;fencing 围栏&lt;/code&gt;, &lt;code&gt;lighting 完全照明&lt;/code&gt;, &lt;code&gt;signs 出入签名&lt;/code&gt; 等方式对犯罪者进行被动威慑，从最开始就扼杀入侵的念头 &lt;!-- raw HTML omitted --&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;使攻击变得困难，让attacker主动放弃 &lt;!-- raw HTML omitted --&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Detect
: -   检测入侵的行为，例如 &lt;code&gt;CCTV 监控&lt;/code&gt;, 用来监控和记录所有的入侵行为 &lt;!-- raw HTML omitted --&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Intrusion detection software &lt;!-- raw HTML omitted --&gt;&lt;/li&gt;
&lt;li&gt;Traffic analysis and machine learning to detect abnormities &lt;!-- raw HTML omitted --&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Deny
: -   拒绝未经授权的访问，通过一些认证系统来主动拒绝入侵的行为，其中防火墙就属于 &lt;code&gt;Deny&lt;/code&gt; &lt;!-- raw HTML omitted --&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Authentication, authorisation, freshness &lt;!-- raw HTML omitted --&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Delay
: -   延缓入侵的速度，通过设置障碍来延长入侵的时间，迫使入侵者放弃或者给予安全团队更多的时间 &lt;!-- raw HTML omitted --&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;增加密钥的长度 &lt;!-- raw HTML omitted --&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Defend
: -   主动地对入侵者进行打击，通过安全团队或者警方的行动来组织入侵 &lt;!-- raw HTML omitted --&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;h3 id=&#34;security-mechanisms&#34;&gt;Security Mechanisms&lt;/h3&gt;
&lt;dl&gt;
&lt;dt&gt;Specific security mechanisms&lt;/dt&gt;
&lt;dd&gt;&lt;ul&gt;
&lt;li&gt;May be incorporated into the appropriate protocol layer &lt;!-- raw HTML omitted --&gt;&lt;/li&gt;
&lt;li&gt;Provide some of the OSI security service: authentication, access control, data confidentiality, data integrity, and non-repudiation &lt;!-- raw HTML omitted --&gt;&lt;/li&gt;
&lt;li&gt;Very much related to popular security properties &lt;!-- raw HTML omitted --&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/dd&gt;
&lt;dt&gt;Non-specific security mechanisms&lt;/dt&gt;
&lt;dd&gt;&lt;ul&gt;
&lt;li&gt;Not specific to any particular OSI security service or protocol layer &lt;!-- raw HTML omitted --&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/dd&gt;
&lt;/dl&gt;
&lt;h3 id=&#34;cryptographic-techniques&#34;&gt;Cryptographic Techniques&lt;/h3&gt;
&lt;p&gt;密码学提供了很多安全服务，例如加密，解密，数据完整性，认证交换，密码存储等服务 &lt;!-- raw HTML omitted --&gt;&lt;/p&gt;
&lt;h4 id=&#34;encipherment&#34;&gt;Encipherment&lt;/h4&gt;
&lt;p&gt;加密通过将明文进行加密，从而来保证confidentiality &lt;!-- raw HTML omitted --&gt;&lt;/p&gt;
&lt;p&gt;Two crytovariables in cryptographic funtions &lt;!-- raw HTML omitted --&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;The key 密钥 (can be both symmetric or asymmetric) &lt;!-- raw HTML omitted --&gt;&lt;/li&gt;
&lt;li&gt;The initial vector (我们在密码学中讲过的随机数，用来参与加密的过程，比如在DES CBC中) &lt;!-- raw HTML omitted --&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;h4 id=&#34;cryptographic-protocols&#34;&gt;Cryptographic Protocols&lt;/h4&gt;
&lt;p&gt;是通信的双方通过加密传递的信息来预防攻击 &lt;!-- raw HTML omitted --&gt;&lt;/p&gt;
&lt;dl&gt;
&lt;dt&gt;Possible attacks?&lt;/dt&gt;
&lt;dd&gt;&lt;ul&gt;
&lt;li&gt;Cyptoanalysis: recover the plaintext from ciphertext without knowing the key &lt;!-- raw HTML omitted --&gt;&lt;/li&gt;
&lt;li&gt;Message/field insertion, deleteion and change (破坏完整性) &lt;!-- raw HTML omitted --&gt;&lt;/li&gt;
&lt;li&gt;Relay: 对先前合法的密文重复利用 &lt;!-- raw HTML omitted --&gt;&lt;/li&gt;
&lt;li&gt;Man-in-the-middle attack &lt;!-- raw HTML omitted --&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/dd&gt;
&lt;dt&gt;Countermeasure&lt;/dt&gt;
&lt;dd&gt;&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;Countermeasures for cryptoanalysis &lt;!-- raw HTML omitted --&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Longer keys (e.g., 2048 bits for RSA, used to be 256 bits) &lt;!-- raw HTML omitted --&gt;&lt;/li&gt;
&lt;li&gt;舍弃弱密钥（比如全是0的或者全是1的） &lt;!-- raw HTML omitted --&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Countermeasures for message/field insertion, deletion and change &lt;!-- raw HTML omitted --&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Integrity check (hash, MAC, digital signature) &lt;!-- raw HTML omitted --&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Countermeasures for replay attack &lt;!-- raw HTML omitted --&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;Provide freshness in protocol run &lt;!-- raw HTML omitted --&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Timestamp, sequence number, nounce &lt;!-- raw HTML omitted --&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Countermeasure for man-in-the-middle attack &lt;!-- raw HTML omitted --&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;&lt;code&gt;Cryptographic protocols&lt;/code&gt; should be designed and verified &lt;!-- raw HTML omitted --&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Use formal methods to &lt;code&gt;evaluate&lt;/code&gt; security properties of cryptographic protocols &lt;!-- raw HTML omitted --&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;/dd&gt;
&lt;/dl&gt;
&lt;h4 id=&#34;digital-signature&#34;&gt;Digital Signature&lt;/h4&gt;
&lt;p&gt;主要通过将额外的bit附加在传输的数据上，从而让接收者可以验证数据的 Integrity &lt;!-- raw HTML omitted --&gt;&lt;/p&gt;
&lt;p&gt;可以用来提供authentication, integrity, and non-repudiation,因为数字签名利用asymmetric非对称加密，使用发送方的private key进行加密，接收者则可以用public key来进行解密 &lt;!-- raw HTML omitted --&gt;&lt;/p&gt;
&lt;h4 id=&#34;authentication-exchange&#34;&gt;Authentication Exchange&lt;/h4&gt;
&lt;p&gt;用于发送方和接收方双方互相确认身份 &lt;!-- raw HTML omitted --&gt;&lt;/p&gt;
&lt;p&gt;常见的Authentication的方法： &lt;!-- raw HTML omitted --&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Something you know, e.g., password &lt;!-- raw HTML omitted --&gt;&lt;/li&gt;
&lt;li&gt;Something you are, e.g., fingerprint &lt;!-- raw HTML omitted --&gt;&lt;/li&gt;
&lt;li&gt;Something you have, e.g., smart card, your phone &lt;!-- raw HTML omitted --&gt;&lt;/li&gt;
&lt;li&gt;2-factor or multifactor authentication 双重/多重认证 &lt;!-- raw HTML omitted --&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;!-- raw HTML omitted --&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;如何选择身份认证的方法？&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;
&lt;p&gt;如果通信的双方彼此可以信任，同时通信是可靠的 &lt;!-- raw HTML omitted --&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;使用密码 &lt;!-- raw HTML omitted --&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;如何通信的双方是可以信任的，但是通信不可靠 &lt;!-- raw HTML omitted --&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;使用密码以及加密协议 &lt;!-- raw HTML omitted --&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;如何什么都不可以信任 &lt;!-- raw HTML omitted --&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;使用密码，加密协议以及non-repudiation service &lt;!-- raw HTML omitted --&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;!-- raw HTML omitted --&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;我们真的需要密码吗？&lt;/p&gt;
&lt;p&gt;剑桥大学发明了一种可携带的设备：&lt;a class=&#34;link&#34; href=&#34;http://mypico.org/&#34;  target=&#34;_blank&#34; rel=&#34;noopener&#34;
    &gt;pico&lt;/a&gt;,其存储了所有的credentials信息，并且通过一系列传感器，以及生物特征信息来防止丢失后的信息泄露。 &lt;!-- raw HTML omitted --&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;h4 id=&#34;other-security-mechanisms--x-dot-800&#34;&gt;Other Security mechanisms (X.800)&lt;/h4&gt;
&lt;ol&gt;
&lt;li&gt;Access control &lt;!-- raw HTML omitted --&gt;
&lt;ul&gt;
&lt;li&gt;只允许有限的可授权人员的访问 &lt;!-- raw HTML omitted --&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;Traffic padding &lt;!-- raw HTML omitted --&gt;
&lt;ul&gt;
&lt;li&gt;在数据流中加入一些bits，使流量分析受阻，从而保证了confidentiality保密性 &lt;!-- raw HTML omitted --&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;Notarisation 公证 &lt;!-- raw HTML omitted --&gt;
&lt;ul&gt;
&lt;li&gt;经过第三方来保证安全的信息传输 &lt;!-- raw HTML omitted --&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;Security audit trail &lt;!-- raw HTML omitted --&gt;
&lt;ul&gt;
&lt;li&gt;收集信息来进行安全审计 &lt;!-- raw HTML omitted --&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;Security recovery 数据恢复 &lt;!-- raw HTML omitted --&gt;&lt;/li&gt;
&lt;li&gt;Economics &lt;!-- raw HTML omitted --&gt;
&lt;ul&gt;
&lt;li&gt;增加attack的成本，比如如果发邮件需要花钱，那垃圾邮件势必会减少 &lt;!-- raw HTML omitted --&gt;&lt;/li&gt;
&lt;li&gt;又或者在Bitcoin当中，发起DDoS攻击就以花费大量的transaction fee &lt;!-- raw HTML omitted --&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;Deception &lt;!-- raw HTML omitted --&gt;
&lt;ul&gt;
&lt;li&gt;通过暴露攻击者自己，例如使用蜜罐来获取攻击者的信息 &lt;!-- raw HTML omitted --&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;h3 id=&#34;jamming-sniffing-and-spoofing&#34;&gt;Jamming, Sniffing and Spoofing&lt;/h3&gt;
&lt;h4 id=&#34;jamming&#34;&gt;Jamming&lt;/h4&gt;
&lt;p&gt;Jamming通过发出大量的noise来影响原本的通信，影响availability &lt;!-- raw HTML omitted --&gt;&lt;/p&gt;
&lt;p&gt;例如屏蔽Wifi信号 &lt;!-- raw HTML omitted --&gt;&lt;/p&gt;
&lt;p&gt;也可以用在合法的渠道上，比如用在考场或者需要阻断网络的地方 &lt;!-- raw HTML omitted --&gt;&lt;/p&gt;
&lt;h4 id=&#34;sniffing&#34;&gt;Sniffing&lt;/h4&gt;
&lt;p&gt;Sniffing是来监听其他用户的信息 &lt;!-- raw HTML omitted --&gt;&lt;/p&gt;
&lt;p&gt;Network interface card (NIC 网卡)必须设置在 &lt;code&gt;promiscuous mode&lt;/code&gt; 来获取所有的包 &lt;!-- raw HTML omitted --&gt;&lt;/p&gt;
&lt;p&gt;可以用来 &lt;!-- raw HTML omitted --&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;偷听数据包中没有加密的信息 &lt;!-- raw HTML omitted --&gt;&lt;/li&gt;
&lt;li&gt;捕捉信息进而使用relay attack &lt;!-- raw HTML omitted --&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;h4 id=&#34;spoofing&#34;&gt;Spoofing&lt;/h4&gt;
&lt;p&gt;通过伪装来进行攻击，可以修改的内容 &lt;!-- raw HTML omitted --&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Application layer: DNS address, e.g., an URL, an email address &lt;!-- raw HTML omitted --&gt;&lt;/li&gt;
&lt;li&gt;Network layer: IP address &lt;!-- raw HTML omitted --&gt;&lt;/li&gt;
&lt;li&gt;Link layer: MAC address &lt;!-- raw HTML omitted --&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;Spoofing的种类 &lt;!-- raw HTML omitted --&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Email spoofing: phising &lt;!-- raw HTML omitted --&gt;&lt;/li&gt;
&lt;li&gt;Text message spoofing: smishing &lt;!-- raw HTML omitted --&gt;&lt;/li&gt;
&lt;li&gt;Call ID spoofing &lt;!-- raw HTML omitted --&gt;&lt;/li&gt;
&lt;li&gt;URL spoofing: phishing website &lt;!-- raw HTML omitted --&gt;&lt;/li&gt;
&lt;li&gt;DNS spoofing: cache poisoning &lt;!-- raw HTML omitted --&gt;&lt;/li&gt;
&lt;li&gt;IP address spoofing: change the source address in an IP packet &lt;!-- raw HTML omitted --&gt;&lt;/li&gt;
&lt;li&gt;MAC spoofing: change the MAC address of NIC &lt;!-- raw HTML omitted --&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id=&#34;model-of-network-security&#34;&gt;Model of Network Security&lt;/h3&gt;
&lt;p&gt;&lt;figure&gt;&lt;img src=&#34;https://ginkgo.org.cn/ox-hugo/2022-05-27_10-39-28_screenshot.png&#34; width=&#34;700px&#34;/&gt;
&lt;/figure&gt;
 &lt;!-- raw HTML omitted --&gt;&lt;/p&gt;
&lt;h3 id=&#34;cryptographic-protocol&#34;&gt;Cryptographic protocol&lt;/h3&gt;
&lt;p&gt;&lt;figure&gt;&lt;img src=&#34;https://ginkgo.org.cn/ox-hugo/2022-05-27_10-52-17_screenshot.png&#34; width=&#34;700px&#34;/&gt;
&lt;/figure&gt;
 &lt;!-- raw HTML omitted --&gt;&lt;/p&gt;
&lt;p&gt;A, B都有自己的symmetric key (K_A, K_B), 同时A想要生成一个共同的key并且分享给B &lt;!-- raw HTML omitted --&gt;&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;A发送给K，用E_A加密的新key K_AB，同时指示这是A与B的共同Key &lt;!-- raw HTML omitted --&gt;&lt;/li&gt;
&lt;li&gt;K返回给A 用E_B加密的共同Key K_AB以及标识这个Key是由ID_B加密的 &lt;!-- raw HTML omitted --&gt;&lt;/li&gt;
&lt;li&gt;A将E_B(K_AB)以及加密的数据发送给B，B就可以用自己的E_B先解密，然后再用得到E_AB来解密数据 &lt;!-- raw HTML omitted --&gt;&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;&lt;figure&gt;&lt;img src=&#34;https://ginkgo.org.cn/ox-hugo/2022-05-27_10-52-42_screenshot.png&#34; width=&#34;700px&#34;/&gt;
&lt;/figure&gt;
 &lt;!-- raw HTML omitted --&gt;&lt;/p&gt;
&lt;p&gt;Attacker通过拦截并修改A发送给K的请求，从而可以获取K_AB的值，进而可以监听所有的请求 &lt;!-- raw HTML omitted --&gt;&lt;/p&gt;
</description>
        </item>
        <item>
        <title>NSE Week 2:  TCP/IP protocol architecture, sniffing and traffic analysis</title>
        <link>https://ginkgo.org.cn/posts/nse_week_2_tcp_ip_protocol_architecture_sniffing_and_traffic_analysis/</link>
        <pubDate>Thu, 26 May 2022 00:00:00 +0000</pubDate>
        
        <guid>https://ginkgo.org.cn/posts/nse_week_2_tcp_ip_protocol_architecture_sniffing_and_traffic_analysis/</guid>
        <description>&lt;h2 id=&#34;nse-week-2-tcp-ip-protocol-architecture-sniffing-and-traffic-analysis&#34;&gt;NSE Week 2:  TCP/IP protocol architecture, sniffing and traffic analysis&lt;/h2&gt;
&lt;h3 id=&#34;tcp-ip-protocol-architecture&#34;&gt;TCP/IP protocol architecture&lt;/h3&gt;
&lt;h4 id=&#34;什么是网络协议&#34;&gt;什么是网络协议？&lt;/h4&gt;
&lt;p&gt;Protocol 就是一组相同通信层上的通信规则 &lt;!-- raw HTML omitted --&gt;&lt;/p&gt;
&lt;p&gt;主要的内容： &lt;!-- raw HTML omitted --&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Syntax：通信信息的格式 &lt;!-- raw HTML omitted --&gt;&lt;/li&gt;
&lt;li&gt;Semantics：如何控制信息以及错误 &lt;!-- raw HTML omitted --&gt;&lt;/li&gt;
&lt;li&gt;Timing：传输以及数据交换的速度，以及次序 &lt;!-- raw HTML omitted --&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;h4 id=&#34;tcp-ip-模型&#34;&gt;TCP/IP 模型&lt;/h4&gt;
&lt;p&gt;&lt;figure&gt;&lt;img src=&#34;https://ginkgo.org.cn/ox-hugo/2022-05-27_21-16-56_screenshot.png&#34; width=&#34;700px&#34;/&gt;
&lt;/figure&gt;
 &lt;!-- raw HTML omitted --&gt;&lt;/p&gt;
&lt;p&gt;每一个协议都作为Alice &amp;amp; Bob在相同层上面的通信规则 &lt;!-- raw HTML omitted --&gt;&lt;/p&gt;
&lt;p&gt;我们用一个例子来简单概述一下每一层的作用 &lt;!-- raw HTML omitted --&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;比如Alice想要发一个快递给Bob，那么快递里的货物就是Application，是Bob需要使用的物品； &lt;!-- raw HTML omitted --&gt;&lt;/li&gt;
&lt;li&gt;那么Transport layer就是是否需要给快递上保险，TCP就是上保险，UDP就是不上保险，如果东西贵重，那么就要TCP，如果丢了也没关系就用UDP &lt;!-- raw HTML omitted --&gt;&lt;/li&gt;
&lt;li&gt;接下来快递发出来了，快递单上面要写地址，地址就是IP地址也就是Internet layer的header的双方的IP地址，xx省xx市xx小区这些就是一个个网络，Internet layer就负责进行routing路由，来找到发往这些区域的路径 &lt;!-- raw HTML omitted --&gt;&lt;/li&gt;
&lt;li&gt;Network access就是邮编，在中国没有很大的体现，但是在英国，每一幢楼都对应了一个邮编，且是全英唯一的，也就是网络层的MAC地址 &lt;!-- raw HTML omitted --&gt;&lt;/li&gt;
&lt;li&gt;最后Physical物理层就是用飞机，高铁，轮船等方式送货，也就对应了，光纤，双绞线这些传输方式 &lt;!-- raw HTML omitted --&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;接着我们用一个具体的HTTP通信的例子来描述一些细节 &lt;!-- raw HTML omitted --&gt;&lt;/p&gt;
&lt;p&gt;HTTP是一个应用层的协议，那么通信的双方都将是应用层，而实际传输到对方应用层的应用上，就需要层层封装信息，然后由路上的路由器，交换机进行拆包之后一步步传递。 &lt;!-- raw HTML omitted --&gt;&lt;/p&gt;
&lt;p&gt;&lt;figure&gt;&lt;img src=&#34;https://ginkgo.org.cn/ox-hugo/2022-05-27_21-24-21_screenshot.png&#34; width=&#34;700px&#34;/&gt;
&lt;/figure&gt;
 &lt;!-- raw HTML omitted --&gt;&lt;/p&gt;
&lt;p&gt;&lt;figure&gt;&lt;img src=&#34;https://ginkgo.org.cn/ox-hugo/2022-05-27_21-27-57_screenshot.png&#34; width=&#34;700px&#34;/&gt;
&lt;/figure&gt;
 &lt;!-- raw HTML omitted --&gt;&lt;/p&gt;
&lt;p&gt;网关和路由器会根据IP header进行路由 &lt;!-- raw HTML omitted --&gt;&lt;/p&gt;
&lt;p&gt;&lt;figure&gt;&lt;img src=&#34;https://ginkgo.org.cn/ox-hugo/2022-05-27_21-28-33_screenshot.png&#34; width=&#34;700px&#34;/&gt;
&lt;/figure&gt;
 &lt;!-- raw HTML omitted --&gt;&lt;/p&gt;
&lt;h3 id=&#34;sniffing&#34;&gt;Sniffing&lt;/h3&gt;
&lt;p&gt;Sniffing 嗅探，attacker通过监听网络中的流量来获取他们想要的信息，甚至做出修改。 &lt;!-- raw HTML omitted --&gt;&lt;/p&gt;
&lt;p&gt;当然也可以用于网络的debug和诊断。 &lt;!-- raw HTML omitted --&gt;&lt;/p&gt;
&lt;p&gt;Network interface card (NIC 网卡)必须设置在 &lt;code&gt;promiscuous mode&lt;/code&gt; 来获取所有的包 &lt;!-- raw HTML omitted --&gt;&lt;/p&gt;
&lt;p&gt;可以用来 &lt;!-- raw HTML omitted --&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;偷听数据包中没有加密的信息 &lt;!-- raw HTML omitted --&gt;&lt;/li&gt;
&lt;li&gt;捕捉信息进而使用relay attack &lt;!-- raw HTML omitted --&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;h4 id=&#34;promiscuous-mode&#34;&gt;Promiscuous mode&lt;/h4&gt;
&lt;p&gt;我们的网卡network interface card (NIC) 有两种模式： &lt;!-- raw HTML omitted --&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Promiscuous 不加选择的模式:获取所有网络中的数据包 &lt;!-- raw HTML omitted --&gt;&lt;/li&gt;
&lt;li&gt;Non-promiscuous：丢弃所有不经过自己的数据包 &lt;!-- raw HTML omitted --&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;如果要实现嗅探，就必须设置为 Promiscuous mode &lt;!-- raw HTML omitted --&gt;&lt;/p&gt;
&lt;p&gt;同时我们必须处于Hubs或者WiFi的网络条件下，因为这样才能收到因为广播而接受到的所有数据包 &lt;!-- raw HTML omitted --&gt;&lt;/p&gt;
&lt;p&gt;如交换机这种拥有单独的广播域的就不行，无法捕捉到信息 &lt;!-- raw HTML omitted --&gt;&lt;/p&gt;
&lt;h4 id=&#34;active-interception-port-mirroring&#34;&gt;Active Interception - port mirroring&lt;/h4&gt;
&lt;p&gt;&lt;code&gt;Port Mirroring&lt;/code&gt; 也被称作  &lt;code&gt;SPAN (Switch Port Analyser)&lt;/code&gt; &lt;!-- raw HTML omitted --&gt;&lt;/p&gt;
&lt;p&gt;通过配置交换机，使其将一对port（或者整个VLAN）所交换的信息，拷贝一份传输到SPAN ports，进而加以分析利用 &lt;!-- raw HTML omitted --&gt;&lt;/p&gt;
&lt;p&gt;好的用途：网络诊断，入侵检测分析 &lt;!-- raw HTML omitted --&gt;
恶意的用途：当攻击者可以通过物理连接这台交换机，他们就可以看到所有的传输流量 &lt;!-- raw HTML omitted --&gt;&lt;/p&gt;
&lt;h4 id=&#34;active-interception-network-tapping&#34;&gt;Active Interception: network tapping&lt;/h4&gt;
&lt;p&gt;Network tapping就是将原本直连的两台设备，连入TAP后，可以访问他们之间的通信，从而加以分析与利用 &lt;!-- raw HTML omitted --&gt;&lt;/p&gt;
&lt;p&gt;TAP = Traffic Access Point or Test Access Point 是物理层的一个设备 &lt;!-- raw HTML omitted --&gt;&lt;/p&gt;
&lt;p&gt;&lt;figure&gt;&lt;img src=&#34;https://ginkgo.org.cn/ox-hugo/2022-05-27_21-44-56_screenshot.png&#34; width=&#34;400px&#34;/&gt;
&lt;/figure&gt;
 &lt;!-- raw HTML omitted --&gt;&lt;/p&gt;
&lt;p&gt;原本的连接方式：直连 &lt;!-- raw HTML omitted --&gt;&lt;/p&gt;
&lt;p&gt;&lt;figure&gt;&lt;img src=&#34;https://ginkgo.org.cn/ox-hugo/2022-05-27_21-47-39_screenshot.png&#34; width=&#34;400px&#34;/&gt;
&lt;/figure&gt;
 &lt;!-- raw HTML omitted --&gt;&lt;/p&gt;
&lt;p&gt;连在Network TAP上之后，就可以用Wireshark来进行监听了 &lt;!-- raw HTML omitted --&gt;&lt;/p&gt;
&lt;p&gt;&lt;figure&gt;&lt;img src=&#34;https://ginkgo.org.cn/ox-hugo/2022-05-27_21-48-10_screenshot.png&#34; width=&#34;600px&#34;/&gt;
&lt;/figure&gt;
 &lt;!-- raw HTML omitted --&gt;&lt;/p&gt;
&lt;p&gt;其具体的原理就是通过RJ45线上的引脚进行连接，Pins1 &amp;amp; Pins2 用于转发数据;Pins3 &amp;amp; Pins6 用于接收数据 &lt;!-- raw HTML omitted --&gt;&lt;/p&gt;
&lt;p&gt;&lt;figure&gt;&lt;img src=&#34;https://ginkgo.org.cn/ox-hugo/2022-05-27_21-50-50_screenshot.png&#34; width=&#34;300px&#34;/&gt;
&lt;/figure&gt;
 &lt;!-- raw HTML omitted --&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;TAP A 接口的Pins3 and Pins6 （接受数据）分别来与Host A &amp;amp; Host B 的Pins1 和 Pins2 (传输数据）相连接，使HostA传输给HostB的数据都由TAP A所接受 &lt;!-- raw HTML omitted --&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;HostA_pins1 -&amp;gt; TapA_pins3 -&amp;gt; HostB_pins1 &lt;!-- raw HTML omitted --&gt;&lt;/li&gt;
&lt;li&gt;HostA_pins2 -&amp;gt; TapA_pins6 -&amp;gt; HostB_pins2 &lt;!-- raw HTML omitted --&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;TAP B 接口的Pins3 and Pins6 （接受数据）分别来与Host A &amp;amp; Host B 的Pins3 和 Pins6（接收数据）相连接，使HostB传输给HostA的数据都由TAP B所接受 &lt;!-- raw HTML omitted --&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;HostA_pins3 -&amp;gt; TapB_pins3 -&amp;gt; HostB_pins3 &lt;!-- raw HTML omitted --&gt;&lt;/li&gt;
&lt;li&gt;HostA_pins6 -&amp;gt; TapB_pins6 -&amp;gt; HostB_pins6 &lt;!-- raw HTML omitted --&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;从而使TAP_A来接收所有发出的数据，TAP_B则会接收所有接收的数据，一切都会被捕捉 &lt;!-- raw HTML omitted --&gt;&lt;/p&gt;
&lt;p&gt;&lt;figure&gt;&lt;img src=&#34;https://ginkgo.org.cn/ox-hugo/2022-05-27_21-57-42_screenshot.png&#34; width=&#34;500px&#34;/&gt;
&lt;/figure&gt;
 &lt;!-- raw HTML omitted --&gt;&lt;/p&gt;
&lt;p&gt;从而使所有AB之间的数据都可以被我们的分析软件所捕捉和利用 &lt;!-- raw HTML omitted --&gt;&lt;/p&gt;
&lt;p&gt;&lt;figure&gt;&lt;img src=&#34;https://ginkgo.org.cn/ox-hugo/2022-05-27_22-00-55_screenshot.png&#34; width=&#34;500px&#34;/&gt;
&lt;/figure&gt;
 &lt;!-- raw HTML omitted --&gt;&lt;/p&gt;
&lt;p&gt;不过也可以使用Bypass mode绕过模式来停止复制转发 &lt;!-- raw HTML omitted --&gt;&lt;/p&gt;
&lt;p&gt;&lt;figure&gt;&lt;img src=&#34;https://ginkgo.org.cn/ox-hugo/2022-05-27_22-02-58_screenshot.png&#34; width=&#34;500px&#34;/&gt;
&lt;/figure&gt;
 &lt;!-- raw HTML omitted --&gt;&lt;/p&gt;
&lt;h4 id=&#34;vampire-taps&#34;&gt;Vampire taps&lt;/h4&gt;
&lt;p&gt;所谓的“顺着”网线，如下图所示，直接用RJ-45的线实现TAP,海底电缆也可以如此TAP &lt;!-- raw HTML omitted --&gt;&lt;/p&gt;
&lt;p&gt;&lt;figure&gt;&lt;img src=&#34;https://ginkgo.org.cn/ox-hugo/2022-05-27_22-04-18_screenshot.png&#34; width=&#34;400px&#34;/&gt;
&lt;/figure&gt;
 &lt;!-- raw HTML omitted --&gt;&lt;/p&gt;
&lt;h4 id=&#34;warxing&#34;&gt;WarXing&lt;/h4&gt;
&lt;p&gt;使用多种设备进行捕捉 &lt;!-- raw HTML omitted --&gt;&lt;/p&gt;
&lt;p&gt;&lt;figure&gt;&lt;img src=&#34;https://ginkgo.org.cn/ox-hugo/2022-05-27_22-06-27_screenshot.png&#34; width=&#34;700px&#34;/&gt;
&lt;/figure&gt;
 &lt;!-- raw HTML omitted --&gt;&lt;/p&gt;
&lt;h4 id=&#34;rouge-access-point&#34;&gt;Rouge Access Point&lt;/h4&gt;
&lt;p&gt;Access point一般是用于创造WLAN供其他设备进行无线连接的设备，一般用于企业，因为其覆盖面积较广，与家用的无线路由器不同的是，其一般没有什么管理功能(e.g., Access control)，只是单纯为了连接 &lt;!-- raw HTML omitted --&gt;&lt;/p&gt;
&lt;p&gt;那么Route Access Point就是一个attacker创造的伪装成合法的WiFi来引诱用户连接，从而可以获取用户之间的通信。一般来说attacker会模仿WFi的SSID以及BSSID来进行伪造 &lt;!-- raw HTML omitted --&gt;&lt;/p&gt;
&lt;p&gt;&lt;figure&gt;&lt;img src=&#34;https://ginkgo.org.cn/ox-hugo/2022-05-27_22-13-07_screenshot.png&#34; width=&#34;700px&#34;/&gt;
&lt;/figure&gt;
 &lt;!-- raw HTML omitted --&gt;&lt;/p&gt;
&lt;h3 id=&#34;traffic-analysis&#34;&gt;Traffic Analysis&lt;/h3&gt;
&lt;h4 id=&#34;data-acquisition&#34;&gt;Data Acquisition&lt;/h4&gt;
&lt;p&gt;经过Sniffing之后，我们收集了大量的数据，接下来我们就需要分析与理解这些数据: &lt;!-- raw HTML omitted --&gt;&lt;/p&gt;
&lt;p&gt;Who is talking to whom about what? &lt;!-- raw HTML omitted --&gt;&lt;/p&gt;
&lt;h4 id=&#34;libpcap-library-of-packet-capture&#34;&gt;Libpcap：Library of packet capture&lt;/h4&gt;
&lt;p&gt;Libpcap 就是用来分析获取数据的API &lt;!-- raw HTML omitted --&gt;&lt;/p&gt;
&lt;p&gt;虽然名字中带有packet，实际上是用来capture frames，包括所有的数据链路层到应用层的数据 &lt;!-- raw HTML omitted --&gt;&lt;/p&gt;
&lt;p&gt;Network sniffers可以分析捕捉的网络流量，并保存在 &lt;code&gt;.pcap&lt;/code&gt; 文件当中 &lt;!-- raw HTML omitted --&gt;&lt;/p&gt;
&lt;p&gt;其核心是BPF： &lt;!-- raw HTML omitted --&gt;&lt;/p&gt;
&lt;h4 id=&#34;bpf-berkeley-packet-filter&#34;&gt;BPF, Berkeley packet filter&lt;/h4&gt;
&lt;p&gt;之前存在的问题：我们之前提到过，sniffer在网卡开启了 promiscuous mode之后，会捕获所有的包，但是其中充斥着大量的我们不想要的数据包，那么接下来进行分析的时候，我们就会花费大量的CPU资源在这些不想要的数据包上 &lt;!-- raw HTML omitted --&gt;&lt;/p&gt;
&lt;p&gt;BPF解决了这个效率问题，通过： &lt;!-- raw HTML omitted --&gt;&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;在Buffer缓存指定的部分之前就进行过滤 &lt;!-- raw HTML omitted --&gt;&lt;/li&gt;
&lt;li&gt;Filter可以由用户自定义 &lt;!-- raw HTML omitted --&gt;&lt;/li&gt;
&lt;li&gt;比之前的packet capture tool快了100倍 &lt;!-- raw HTML omitted --&gt;&lt;/li&gt;
&lt;/ol&gt;
&lt;!-- raw HTML omitted --&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;BPF的实现&lt;/p&gt;
&lt;p&gt;主要由两个部分： &lt;!-- raw HTML omitted --&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Network tap 用来sniffer获取数据 &lt;!-- raw HTML omitted --&gt;&lt;/li&gt;
&lt;li&gt;Packet filter 用来对数据包进行提前过滤，越早越好 &lt;!-- raw HTML omitted --&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;figure&gt;&lt;img src=&#34;https://ginkgo.org.cn/ox-hugo/2022-05-27_22-58-29_screenshot.png&#34; width=&#34;700px&#34;/&gt;
    &lt;/figure&gt;
 &lt;!-- raw HTML omitted --&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;!-- raw HTML omitted --&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;BPF filter model&lt;/p&gt;
&lt;p&gt;BPF的过滤器适用directed acyclic control flow graph &lt;!-- raw HTML omitted --&gt;&lt;/p&gt;
&lt;p&gt;&lt;figure&gt;&lt;img src=&#34;https://ginkgo.org.cn/ox-hugo/2022-05-27_22-59-24_screenshot.png&#34; width=&#34;700px&#34;/&gt;
    &lt;/figure&gt;
 &lt;!-- raw HTML omitted --&gt;&lt;/p&gt;
&lt;p&gt;通过上图我们可以看到filter是如何通过各种用户自定义的条件来进行筛选，从而决定是buffer还是丢弃 &lt;!-- raw HTML omitted --&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;h4 id=&#34;tcpdump&#34;&gt;Tcpdump&lt;/h4&gt;
&lt;p&gt;大家耳熟能详的工具Tcpdump就是基于BPF来进行开发的，其提供了强大的功能来进行数据包分析 &lt;!-- raw HTML omitted --&gt;&lt;/p&gt;
&lt;h4 id=&#34;wireshark&#34;&gt;Wireshark&lt;/h4&gt;
&lt;p&gt;Wireshark则提供了更加利于使用的GUI界面 &lt;!-- raw HTML omitted --&gt;&lt;/p&gt;
&lt;h4 id=&#34;traffic-analysis&#34;&gt;Traffic analysis&lt;/h4&gt;
&lt;p&gt;有三种traffic analysis的方法 &lt;!-- raw HTML omitted --&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Protocol analysis: 分析数据包中的协议信息 &lt;!-- raw HTML omitted --&gt;&lt;/li&gt;
&lt;li&gt;Packet analysis: 综合分析数据包中的多层协议 &lt;!-- raw HTML omitted --&gt;&lt;/li&gt;
&lt;li&gt;Flow analysis: 分析一系列连贯的数据包：Flow &lt;!-- raw HTML omitted --&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;!-- raw HTML omitted --&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;Protocol analysis&lt;/p&gt;
&lt;p&gt;我们为什么要进行协议分析： &lt;!-- raw HTML omitted --&gt;&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;了解数据是如何传输的，以及其中协议需要设置的参数是如何的 &lt;!-- raw HTML omitted --&gt;&lt;/li&gt;
&lt;li&gt;解析其中的信息 &lt;!-- raw HTML omitted --&gt;&lt;/li&gt;
&lt;/ol&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;!-- raw HTML omitted --&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;Packet analysis 数据包分析&lt;/p&gt;
&lt;p&gt;我们为什么需要数据包分析 &lt;!-- raw HTML omitted --&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;通过一系列传输的数据包来观察协议 &lt;!-- raw HTML omitted --&gt;&lt;/li&gt;
&lt;li&gt;使用数据包以及过滤器来识别感兴趣的数据包 &lt;!-- raw HTML omitted --&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;数据包分析需要做些什么？ &lt;!-- raw HTML omitted --&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;对于网络专家来说： &lt;!-- raw HTML omitted --&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;检测网络是否健康 &lt;!-- raw HTML omitted --&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;对于安全专家来说： &lt;!-- raw HTML omitted --&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;被动的进行漏洞测试（被动地等着漏洞或者攻击出现） &lt;!-- raw HTML omitted --&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;对于攻击者来说 &lt;!-- raw HTML omitted --&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;被动的攻击工具 &lt;!-- raw HTML omitted --&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;窃取信息（密码） &lt;!-- raw HTML omitted --&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;实现上和之前说的一样，我们分析的实质上是Frame，其作为链路层的数据封装形式，包含了所有向上的header,能够更好的反应更多的信息 &lt;!-- raw HTML omitted --&gt;&lt;/p&gt;
&lt;p&gt;&lt;figure&gt;&lt;img src=&#34;https://ginkgo.org.cn/ox-hugo/2022-05-27_23-11-14_screenshot.png&#34; width=&#34;700px&#34;/&gt;
    &lt;/figure&gt;
 &lt;!-- raw HTML omitted --&gt;&lt;/p&gt;
&lt;p&gt;用于分析的技术
: -   Pattern matching &lt;!-- raw HTML omitted --&gt;
-   通过匹配特定参数的值来分析检测特定的数据包，例如 if source IP address = foo &lt;!-- raw HTML omitted --&gt;
-   Parsing protocol fields &lt;!-- raw HTML omitted --&gt;
-   从不同layers的header中获取信息，例如Wireshark可以看到整一个IP header的信息 &lt;!-- raw HTML omitted --&gt;
-   Packet filtering &lt;!-- raw HTML omitted --&gt;
-   通过protocol来筛选想要分析的数据，比如只查看ICMP包的信息 &lt;!-- raw HTML omitted --&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;!-- raw HTML omitted --&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;Flow analysis 流量分析&lt;/p&gt;
&lt;p&gt;流量分析顾名思义就是对于一组的数据包进行分析 &lt;!-- raw HTML omitted --&gt;&lt;/p&gt;
&lt;p&gt;为什么我们要进行流量分析 &lt;!-- raw HTML omitted --&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;寻找特征流量（重复的通信） &lt;!-- raw HTML omitted --&gt;&lt;/li&gt;
&lt;li&gt;单独隔离可疑的活动并且丢弃不相关的信息 &lt;!-- raw HTML omitted --&gt;&lt;/li&gt;
&lt;li&gt;分析更高层的协议，比如HTTP，SSL &lt;!-- raw HTML omitted --&gt;&lt;/li&gt;
&lt;li&gt;从流量提取整体数据（比如提取出整一个传输的二进制文件） &lt;!-- raw HTML omitted --&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;在Wireshark中我们可以选择HTTP/UDP/TCP Stream进行分析 &lt;!-- raw HTML omitted --&gt;&lt;/p&gt;
&lt;p&gt;&lt;figure&gt;&lt;img src=&#34;https://ginkgo.org.cn/ox-hugo/2022-05-27_23-17-04_screenshot.png&#34; width=&#34;700px&#34;/&gt;
    &lt;/figure&gt;
 &lt;!-- raw HTML omitted --&gt;&lt;/p&gt;
&lt;p&gt;其他流量分析技术 &lt;!-- raw HTML omitted --&gt;&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;
&lt;p&gt;罗列通信以及流量 &lt;!-- raw HTML omitted --&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;可以根据特征信息对数据流进行分类提取 &lt;!-- raw HTML omitted --&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;数据流导出 &lt;!-- raw HTML omitted --&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;导出之后在未来用作他用 &lt;!-- raw HTML omitted --&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;文件以及数据挖掘 &lt;!-- raw HTML omitted --&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;从数据流分析中拼接挖掘出有用的文件以及信息 &lt;!-- raw HTML omitted --&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;List conversations and flows &lt;!-- raw HTML omitted --&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;List all conversations and/or flows within a packet capture or only specific flows based on their characteristics &lt;!-- raw HTML omitted --&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Export a flow &lt;!-- raw HTML omitted --&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Isolate a flow or multiple flows, and store the flow(s) of interest to disk for further analysis &lt;!-- raw HTML omitted --&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;File and data carving &lt;!-- raw HTML omitted --&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Extract files or other data of interest from the reassembled flow &lt;!-- raw HTML omitted --&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;/li&gt;
&lt;/ul&gt;
</description>
        </item>
        <item>
        <title>SCT Topic 10: Advanced Strategies</title>
        <link>https://ginkgo.org.cn/posts/sct_topic_10_advanced_strategies/</link>
        <pubDate>Tue, 24 May 2022 00:00:00 +0000</pubDate>
        
        <guid>https://ginkgo.org.cn/posts/sct_topic_10_advanced_strategies/</guid>
        <description>&lt;h2 id=&#34;sct-topic-10-advanced-strategies&#34;&gt;SCT Topic 10: Advanced Strategies&lt;/h2&gt;
&lt;h3 id=&#34;stealthiness-strategies&#34;&gt;Stealthiness Strategies&lt;/h3&gt;
&lt;p&gt;Before launch the attack, the attacker should check AV(anti-virus)/Filters detection, otherwise, their actions will leave some warnings or tracks in the target system &lt;!-- raw HTML omitted --&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Encoding (e.g., &lt;code&gt;msfencode&lt;/code&gt;, also use multiple at once), change the encoding of the file, the checking signature of malware analysis may not be triggered. &lt;!-- raw HTML omitted --&gt;&lt;/li&gt;
&lt;li&gt;Transient malware, e.g., run only in memory &lt;!-- raw HTML omitted --&gt;&lt;/li&gt;
&lt;li&gt;Mimicry, simulate legitimate app process to escape from the anti-virus &lt;!-- raw HTML omitted --&gt;&lt;/li&gt;
&lt;li&gt;Packers, obfuscate malicious code, and unpack routine at runtime &lt;!-- raw HTML omitted --&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;Note: Offline version of AVs offer less functionality &lt;!-- raw HTML omitted --&gt;&lt;/p&gt;
&lt;h3 id=&#34;persistence-strategies&#34;&gt;Persistence Strategies&lt;/h3&gt;
&lt;p&gt;Attackers also want to keep their malware running on target system &lt;!-- raw HTML omitted --&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;Payloads in Metasploit (e.g, reverse shell, meterpreter) for further interactions &lt;!-- raw HTML omitted --&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Scheduled Tasks, launch everytime after users rebooting systems &lt;!-- raw HTML omitted --&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Backdoors, leave backdoor for further interaction and exploitation &lt;!-- raw HTML omitted --&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;In BeEf &lt;!-- raw HTML omitted --&gt;
Stored XSS will remain valid whenever the victims visits the page &lt;!-- raw HTML omitted --&gt;&lt;/p&gt;
&lt;p&gt;Possible to do some &amp;ldquo;privilege escalation&amp;rdquo; and &amp;ldquo;sandbox evasion&amp;rdquo; &lt;!-- raw HTML omitted --&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id=&#34;keep-up-to-date&#34;&gt;Keep up to date&lt;/h3&gt;
&lt;p&gt;Keep track of what bad guys are doing &lt;!-- raw HTML omitted --&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Technical Reports &lt;!-- raw HTML omitted --&gt;&lt;/li&gt;
&lt;li&gt;MITRE CVEs - &lt;a class=&#34;link&#34; href=&#34;https://cve.mitre.org/about/documents.html&#34;  target=&#34;_blank&#34; rel=&#34;noopener&#34;
    &gt;https://cve.mitre.org/about/documents.html&lt;/a&gt; &lt;!-- raw HTML omitted --&gt;&lt;/li&gt;
&lt;li&gt;Google Project Zero &lt;!-- raw HTML omitted --&gt;&lt;/li&gt;
&lt;li&gt;Exploit DB &lt;!-- raw HTML omitted --&gt;&lt;/li&gt;
&lt;li&gt;&lt;a class=&#34;link&#34; href=&#34;https://www.reddit.com/r/netsec/&#34;  target=&#34;_blank&#34; rel=&#34;noopener&#34;
    &gt;https://www.reddit.com/r/netsec/&lt;/a&gt; &lt;!-- raw HTML omitted --&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id=&#34;adversarial-machine-learning&#34;&gt;Adversarial Machine Learning&lt;/h3&gt;
&lt;dl&gt;
&lt;dt&gt;Definition of machine Learning&lt;/dt&gt;
&lt;dd&gt;A computer program is said to learn from &lt;code&gt;experience E&lt;/code&gt; with respect to some &lt;code&gt;class of tasks T&lt;/code&gt; and &lt;code&gt;performance measure P&lt;/code&gt;, if its performance at tasks in T, as measured by P, improves with experience E &lt;!-- raw HTML omitted --&gt;
&lt;ul&gt;
&lt;li&gt;Tom Mitchell, Machine Learning &lt;!-- raw HTML omitted --&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/dd&gt;
&lt;/dl&gt;
&lt;h4 id=&#34;machine-learning-for-security&#34;&gt;Machine Learning for Security&lt;/h4&gt;
&lt;dl&gt;
&lt;dt&gt;5 Phases of ML for Security&lt;/dt&gt;
&lt;dd&gt;&lt;ol&gt;
&lt;li&gt;Data Collection &lt;!-- raw HTML omitted --&gt;&lt;/li&gt;
&lt;li&gt;Pre-processing and Feature Engineering &lt;!-- raw HTML omitted --&gt;&lt;/li&gt;
&lt;li&gt;Model Selection and Training &lt;!-- raw HTML omitted --&gt;&lt;/li&gt;
&lt;li&gt;Testing and Evaluation &lt;!-- raw HTML omitted --&gt;&lt;/li&gt;
&lt;li&gt;Evaluation against Time Evolution and Adversaries &lt;!-- raw HTML omitted --&gt;&lt;/li&gt;
&lt;/ol&gt;
&lt;/dd&gt;
&lt;/dl&gt;
&lt;h4 id=&#34;machine-learning-algorithms-categories&#34;&gt;Machine Learning Algorithms Categories&lt;/h4&gt;
&lt;ul&gt;
&lt;li&gt;Classification: given a labeled dataset, find a model that separates instances into classes &lt;!-- raw HTML omitted --&gt;&lt;/li&gt;
&lt;li&gt;Regression: given some points, try to generalise and predict real-valued numbers &lt;!-- raw HTML omitted --&gt;&lt;/li&gt;
&lt;li&gt;Clustering: given an unlabeled dataset, try to group similar elements &lt;!-- raw HTML omitted --&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;h4 id=&#34;performance-metrics&#34;&gt;Performance metrics&lt;/h4&gt;
&lt;p&gt;I used to confuse about the metrics used in ML, I think the difficult point is how to define the &lt;code&gt;Positive&lt;/code&gt; and &lt;code&gt;Negative&lt;/code&gt; &lt;!-- raw HTML omitted --&gt;&lt;/p&gt;
&lt;p&gt;We assume we are doing a malware classification, thus our target is to determine where a sample is a malware or not? &lt;!-- raw HTML omitted --&gt;&lt;/p&gt;
&lt;p&gt;If we decide one program is a malware, we called it &lt;code&gt;Positive&lt;/code&gt; result, otherwise, it is a &lt;code&gt;Negative&lt;/code&gt; result. &lt;!-- raw HTML omitted --&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Thus, a &lt;code&gt;True Positive&lt;/code&gt; means, we think a program is a malware, it is actually a real malware &lt;!-- raw HTML omitted --&gt;&lt;/li&gt;
&lt;li&gt;a &lt;code&gt;True Negative&lt;/code&gt; means, we think a program is a goodware, it is actually a goodware &lt;!-- raw HTML omitted --&gt;&lt;/li&gt;
&lt;li&gt;a &lt;code&gt;False Positive&lt;/code&gt; means, we think a program is a malware, but it is actually a goodware, which we also called &lt;code&gt;false alarm&lt;/code&gt; &lt;!-- raw HTML omitted --&gt;&lt;/li&gt;
&lt;li&gt;a &lt;code&gt;False Negative&lt;/code&gt; means, we think a program is a goodware, but it is actually a malware &lt;!-- raw HTML omitted --&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;!-- raw HTML omitted --&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;Precision and Recall&lt;/p&gt;
&lt;p&gt;&lt;code&gt;Precision&lt;/code&gt; = TP / (TP + FP), it reflects the machine learning algorithm&amp;rsquo;s performance on &amp;ldquo;How many times you are right?&amp;rdquo;, TP + FP indicates the total sample are labeled by ML as malware (positive) &lt;!-- raw HTML omitted --&gt;&lt;/p&gt;
&lt;p&gt;&lt;code&gt;Recall&lt;/code&gt; = TP / (TP + FN), it reflects &amp;ldquo;How many malware found by you&amp;rdquo;, TP + FN means all the actual malware within the dataset &lt;!-- raw HTML omitted --&gt;&lt;/p&gt;
&lt;p&gt;&lt;code&gt;F1-Score&lt;/code&gt; is defined as the &lt;code&gt;harmonic mean&lt;/code&gt; of Precision and Recall &lt;!-- raw HTML omitted --&gt;&lt;/p&gt;
&lt;p&gt;F1-Score = 2 x (Precision x Recall) / (Precision + Recall) &lt;!-- raw HTML omitted --&gt;&lt;/p&gt;
&lt;p&gt;&lt;code&gt;Accuracy&lt;/code&gt;  = (TP + TN) / (TP + FP + TN + FN), indicates that all correct decision made by the ML module &lt;!-- raw HTML omitted --&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Is Accuracy a good metric in Security? &lt;!-- raw HTML omitted --&gt;
&lt;ul&gt;
&lt;li&gt;Accuracy can be &lt;code&gt;misleading&lt;/code&gt; when datasets are very imbalanced &lt;!-- raw HTML omitted --&gt;&lt;/li&gt;
&lt;li&gt;In a malware dataset, the ratio of goodware and malware could be like 1000 : 1, thus it is easily to find benign program than malware, the dataset can easily become 99% &lt;!-- raw HTML omitted --&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;h4 id=&#34;evasion&#34;&gt;Evasion&lt;/h4&gt;
&lt;p&gt;An attacker may try to &lt;code&gt;evade&lt;/code&gt; detection or &lt;code&gt;poison&lt;/code&gt; training data &lt;!-- raw HTML omitted --&gt;&lt;/p&gt;
&lt;p&gt;&lt;figure&gt;&lt;img src=&#34;https://ginkgo.org.cn/ox-hugo/2022-05-24_15-03-39_screenshot.png&#34; width=&#34;700px&#34;/&gt;
&lt;/figure&gt;
 &lt;!-- raw HTML omitted --&gt;&lt;/p&gt;
&lt;!-- raw HTML omitted --&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;Spam Filtering&lt;/p&gt;
&lt;p&gt;Features: presence/absence of words &lt;!-- raw HTML omitted --&gt;
Attacks: bad word obfuscation / good word insertion &lt;!-- raw HTML omitted --&gt;&lt;/p&gt;
&lt;p&gt;&lt;figure&gt;&lt;img src=&#34;https://ginkgo.org.cn/ox-hugo/2022-05-24_15-04-56_screenshot.png&#34; width=&#34;700px&#34;/&gt;
    &lt;/figure&gt;
 &lt;!-- raw HTML omitted --&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;h4 id=&#34;adversarial-machine-learning-taxonomy&#34;&gt;Adversarial Machine Learning: Taxonomy&lt;/h4&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;Test-time Evasion &lt;!-- raw HTML omitted --&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Training-time Poisoning &lt;!-- raw HTML omitted --&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Inference Attacks &lt;!-- raw HTML omitted --&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Model Stealing &lt;!-- raw HTML omitted --&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;!-- raw HTML omitted --&gt;
&lt;ul&gt;
&lt;li&gt;Membership Inference &lt;!-- raw HTML omitted --&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;!-- raw HTML omitted --&gt;
&lt;ul&gt;
&lt;li&gt;Shadow Model Estimation &lt;!-- raw HTML omitted --&gt;&lt;/li&gt;
&lt;/ul&gt;
</description>
        </item>
        <item>
        <title>SCT Topic 9: Exploitation Phase &#43; Industry Guest Seminar</title>
        <link>https://ginkgo.org.cn/posts/sct_topic-9_exploitation_phase_industry_guest_seminar/</link>
        <pubDate>Mon, 23 May 2022 00:00:00 +0000</pubDate>
        
        <guid>https://ginkgo.org.cn/posts/sct_topic-9_exploitation_phase_industry_guest_seminar/</guid>
        <description>&lt;h2 id=&#34;sct-topic-9-exploitation-phase-plus-industry-guest-seminar&#34;&gt;SCT Topic 9: Exploitation Phase + Industry Guest Seminar&lt;/h2&gt;
&lt;h3 id=&#34;vulnerabilities-and-exploits&#34;&gt;Vulnerabilities and Exploits&lt;/h3&gt;
&lt;p&gt;We often see these two terms, and sometimes we even interchangeable use both of them, but what&amp;rsquo;s the difference between them? &lt;!-- raw HTML omitted --&gt;&lt;/p&gt;
&lt;p&gt;We should say first there is a &lt;code&gt;vulnerability&lt;/code&gt; found on software or system, and there is an &lt;code&gt;exploit&lt;/code&gt; which is the code that &lt;!-- raw HTML omitted --&gt;takes advantage of&lt;!-- raw HTML omitted --&gt; of the &lt;code&gt;vulnerability&lt;/code&gt; to compromise CIA of the target service. &lt;!-- raw HTML omitted --&gt;&lt;/p&gt;
&lt;p&gt;Furthermore, the distinction between software vulnerability and software bug is: &lt;!-- raw HTML omitted --&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;A &lt;code&gt;vulnerability&lt;/code&gt; derives from a &lt;code&gt;software bug&lt;/code&gt;, which means a &lt;code&gt;vulnerability&lt;/code&gt; must be a &lt;code&gt;software bug&lt;/code&gt; &lt;!-- raw HTML omitted --&gt;&lt;/li&gt;
&lt;li&gt;But only a &lt;code&gt;software bug&lt;/code&gt; allows attacker to compromise the CIA of a system, it can be called a &lt;code&gt;vulnerability&lt;/code&gt; &lt;!-- raw HTML omitted --&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;h4 id=&#34;how-to-find-exploits-of-the-vulnerabilities&#34;&gt;How to find exploits of the vulnerabilities?&lt;/h4&gt;
&lt;ul&gt;
&lt;li&gt;Zero-day from underground market (be aware of fake exploits, always try to understand the exploit coee before running them) &lt;!-- raw HTML omitted --&gt;&lt;/li&gt;
&lt;li&gt;Authorised sources: Security Focus and Exploit database, searchsploit on kali linux &lt;!-- raw HTML omitted --&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id=&#34;popular-vulnerabilities&#34;&gt;Popular Vulnerabilities&lt;/h3&gt;
&lt;h4 id=&#34;heartbleed&#34;&gt;Heartbleed&lt;/h4&gt;
&lt;p&gt;Before we elborate the details of the vulnerability, let&amp;rsquo;s first talk about what is a SSL Heatbeat? &lt;!-- raw HTML omitted --&gt;&lt;/p&gt;
&lt;dl&gt;
&lt;dt&gt;SSL Heartbeat&lt;/dt&gt;
&lt;dd&gt;A message to know that two computer are still connected to each other, it contains information: &lt;!-- raw HTML omitted --&gt;
&lt;ul&gt;
&lt;li&gt;Sender sends a message M of a &lt;code&gt;declared length L&lt;/code&gt; &lt;!-- raw HTML omitted --&gt;&lt;/li&gt;
&lt;li&gt;Receiver allocates a memory buffer of the &lt;code&gt;decalred length L&lt;/code&gt;, copies message M in memory, and reads it back to the sender &lt;!-- raw HTML omitted --&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/dd&gt;
&lt;/dl&gt;
&lt;p&gt;Vulnerability happens due to missing checkgaurd: receiver &lt;code&gt;never&lt;/code&gt; checked the message is actually the same length as claimed to be! &lt;!-- raw HTML omitted --&gt;&lt;/p&gt;
&lt;p&gt;&lt;figure&gt;&lt;img src=&#34;https://ginkgo.org.cn/ox-hugo/2022-05-23_15-55-33_screenshot.png&#34; width=&#34;700px&#34;/&gt;
&lt;/figure&gt;
 &lt;!-- raw HTML omitted --&gt;&lt;/p&gt;
&lt;p&gt;We can see in above example, in the heartbeat packet, it constains both information client required to return and also sensitive information. &lt;!-- raw HTML omitted --&gt;&lt;/p&gt;
&lt;p&gt;Attacker could require the information more than it should be to let server reveal those sensitive information. &lt;!-- raw HTML omitted --&gt;&lt;/p&gt;
&lt;p&gt;Let&amp;rsquo;s dig deeper into source code, the root cause back to one line code: &lt;!-- raw HTML omitted --&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;memcpy(bp, pl, payload) which copy the data without checking the size &lt;!-- raw HTML omitted --&gt;
&lt;ul&gt;
&lt;li&gt;bp = destination &lt;!-- raw HTML omitted --&gt;&lt;/li&gt;
&lt;li&gt;pl = source &lt;!-- raw HTML omitted --&gt;&lt;/li&gt;
&lt;li&gt;payload = length &lt;!-- raw HTML omitted --&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;How to fix? &lt;!-- raw HTML omitted --&gt;&lt;/p&gt;
&lt;p&gt;check if the size which client claimed to return is as same as it required. &lt;!-- raw HTML omitted --&gt;&lt;/p&gt;
&lt;h4 id=&#34;dirty-cow&#34;&gt;Dirty COW&lt;/h4&gt;
&lt;p&gt;&lt;a class=&#34;link&#34; href=&#34;https://dirtycow.ninja/&#34;  target=&#34;_blank&#34; rel=&#34;noopener&#34;
    &gt;https://dirtycow.ninja/&lt;/a&gt; &lt;!-- raw HTML omitted --&gt;
&amp;ldquo;A &lt;a class=&#34;link&#34; href=&#34;https://en.wikipedia.org/wiki/Race_condition&#34;  target=&#34;_blank&#34; rel=&#34;noopener&#34;
    &gt;race condition&lt;/a&gt; was found in the way the Linux kernel&amp;rsquo;s memory subsystem handled the &lt;code&gt;copy-on-write (COW)&lt;/code&gt; breakage of private read-only memory mappings. &lt;!-- raw HTML omitted --&gt;&lt;/p&gt;
&lt;p&gt;It is a local privilege escalation vulnerability &lt;!-- raw HTML omitted --&gt;&lt;/p&gt;
&lt;dl&gt;
&lt;dt&gt;&lt;a class=&#34;link&#34; href=&#34;https://en.wikipedia.org/wiki/Copy-on-write&#34;  target=&#34;_blank&#34; rel=&#34;noopener&#34;
    &gt;Copy-on-write (COW)&lt;/a&gt;&lt;/dt&gt;
&lt;dd&gt;&lt;ul&gt;
&lt;li&gt;is a resource-management techniques &lt;!-- raw HTML omitted --&gt;&lt;/li&gt;
&lt;li&gt;If a resource is duplicated but not modified &lt;!-- raw HTML omitted --&gt;&lt;/li&gt;
&lt;li&gt;the duplicated file is not actually instantiated until the source first change &lt;!-- raw HTML omitted --&gt;&lt;/li&gt;
&lt;li&gt;for optimisation of resource usage &lt;!-- raw HTML omitted --&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/dd&gt;
&lt;/dl&gt;
&lt;p&gt;An unprivileged local user could use this flaw to gain write access to otherwise read-only memory mappings and thus increase their privileges on the system.&amp;rdquo; (&lt;a class=&#34;link&#34; href=&#34;https://bugzilla.redhat.com/show_bug.cgi?id=1384344#&#34;  target=&#34;_blank&#34; rel=&#34;noopener&#34;
    &gt;RH&lt;/a&gt;) &lt;!-- raw HTML omitted --&gt;&lt;/p&gt;
&lt;p&gt;This flaw allows an attacker with a local system account to modify on-disk binaries, bypassing the standard permission mechanisms that would prevent modification without an appropriate permission set. &lt;!-- raw HTML omitted --&gt;&lt;/p&gt;
&lt;dl&gt;
&lt;dt&gt;Impact&lt;/dt&gt;
&lt;dd&gt;&lt;ul&gt;
&lt;li&gt;A read-only file can become writable &lt;!-- raw HTML omitted --&gt;&lt;/li&gt;
&lt;li&gt;Used with remote root access &lt;!-- raw HTML omitted --&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/dd&gt;
&lt;/dl&gt;
&lt;p&gt;Fix: use a copy-on-write flag &lt;!-- raw HTML omitted --&gt;&lt;/p&gt;
&lt;h4 id=&#34;phpmailer-rce&#34;&gt;PHPMailer RCE&lt;/h4&gt;
&lt;dl&gt;
&lt;dt&gt;PHPMailer Normal Process&lt;/dt&gt;
&lt;dd&gt;&lt;ol&gt;
&lt;li&gt;PHPMailer gets user requests (to send a mail) &lt;!-- raw HTML omitted --&gt;&lt;/li&gt;
&lt;li&gt;PHPMailer validates user-supplied data (from xxx to xxx, content, &amp;hellip;) &lt;!-- raw HTML omitted --&gt;&lt;/li&gt;
&lt;li&gt;PHPMailer sends the data to the PHP &lt;code&gt;mail()&lt;/code&gt; function &lt;!-- raw HTML omitted --&gt;&lt;/li&gt;
&lt;li&gt;PHPMailer calls the OS command &lt;code&gt;&amp;quot;sendmail&amp;quot;&lt;/code&gt; &lt;!-- raw HTML omitted --&gt;&lt;/li&gt;
&lt;/ol&gt;
&lt;/dd&gt;
&lt;dt&gt;sendmail command&lt;/dt&gt;
&lt;dd&gt;/usr/bin/sendmail -i -t -f &amp;lt;sender&amp;gt; &amp;hellip; &lt;!-- raw HTML omitted --&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;-i: don&amp;rsquo;t treat a message content with only a &amp;lsquo;.&amp;rsquo; as the end &lt;!-- raw HTML omitted --&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;-f: sender: set the envelope sender address &lt;!-- raw HTML omitted --&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;-t: extract recipients from message headers &lt;!-- raw HTML omitted --&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;/dd&gt;
&lt;/dl&gt;
&lt;p&gt;The Issue: PHPMailer does not &lt;code&gt;sanitise&lt;/code&gt; email values properly before sending them to sendmail &lt;!-- raw HTML omitted --&gt;&lt;/p&gt;
&lt;p&gt;We can see how PHPMailer validate the user-supplied data, and below is the actually parameters read by &lt;code&gt;sendmail&lt;/code&gt; script &lt;!-- raw HTML omitted --&gt;&lt;/p&gt;
&lt;p&gt;&lt;figure&gt;&lt;img src=&#34;https://ginkgo.org.cn/ox-hugo/2022-05-23_17-31-12_screenshot.png&#34; width=&#34;700px&#34;/&gt;
&lt;/figure&gt;
 &lt;!-- raw HTML omitted --&gt;&lt;/p&gt;
&lt;p&gt;Then we can compose a payload and inject the malicious command into /var/www/cache/phpcode.php file and the malicious injected code will be executed &lt;!-- raw HTML omitted --&gt;&lt;/p&gt;
&lt;p&gt;&lt;figure&gt;&lt;img src=&#34;https://ginkgo.org.cn/ox-hugo/2022-05-23_17-32-27_screenshot.png&#34; width=&#34;700px&#34;/&gt;
&lt;/figure&gt;
 &lt;!-- raw HTML omitted --&gt;&lt;/p&gt;
&lt;h4 id=&#34;imagetragick&#34;&gt;ImageTragick&lt;/h4&gt;
&lt;p&gt;Fun fact, after people make the website of vulnerabilities on ImageMagick, the impact then become gradually serious &lt;!-- raw HTML omitted --&gt;&lt;/p&gt;
&lt;p&gt;&lt;a class=&#34;link&#34; href=&#34;https://imagetragick.com/&#34;  target=&#34;_blank&#34; rel=&#34;noopener&#34;
    &gt;https://imagetragick.com/&lt;/a&gt; &lt;!-- raw HTML omitted --&gt;&lt;/p&gt;
&lt;!-- raw HTML omitted --&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;ImageMagick RCE [CVE-2016-3714]&lt;/p&gt;
&lt;p&gt;it is a &lt;code&gt;Command injection&lt;/code&gt; vulnerability, due to insufficient parameter filtering during conversion of file formats &lt;!-- raw HTML omitted --&gt;&lt;/p&gt;
&lt;p&gt;ImageMagick delegates some tasks to other services, such as wget, but it does not check the parameters which leave space for command injection &lt;!-- raw HTML omitted --&gt;&lt;/p&gt;
&lt;p&gt;&lt;figure&gt;&lt;img src=&#34;https://ginkgo.org.cn/ox-hugo/2022-05-23_17-18-58_screenshot.png&#34; width=&#34;700px&#34;/&gt;
    &lt;/figure&gt;
 &lt;!-- raw HTML omitted --&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;!-- raw HTML omitted --&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;File Deletion&lt;/p&gt;
&lt;p&gt;&lt;figure&gt;&lt;img src=&#34;https://ginkgo.org.cn/ox-hugo/2022-05-23_17-19-38_screenshot.png&#34; width=&#34;700px&#34;/&gt;
    &lt;/figure&gt;
 &lt;!-- raw HTML omitted --&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id=&#34;metasploit-framework&#34;&gt;MetaSploit Framework&lt;/h3&gt;
&lt;p&gt;MetaSploit framework is a powerful tools, it supports &lt;!-- raw HTML omitted --&gt;&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;
&lt;p&gt;Initial &lt;code&gt;reconnaissance phase&lt;/code&gt; &lt;!-- raw HTML omitted --&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Results can be saved and stored into a database &lt;!-- raw HTML omitted --&gt;&lt;/li&gt;
&lt;li&gt;Run nmap to check the status of target system &lt;!-- raw HTML omitted --&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;code&gt;Vulnerability scanniing&lt;/code&gt; and &lt;code&gt;Execution of exploits&lt;/code&gt; &lt;!-- raw HTML omitted --&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Exploits can be customised &lt;!-- raw HTML omitted --&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;Terminology in Metasploit &lt;!-- raw HTML omitted --&gt;&lt;/p&gt;
&lt;dl&gt;
&lt;dt&gt;Exploit&lt;/dt&gt;
&lt;dd&gt;the code which attackers or security testers could take advantage of a flaw within a system &lt;!-- raw HTML omitted --&gt;&lt;/dd&gt;
&lt;dt&gt;Payload&lt;/dt&gt;
&lt;dd&gt;The code the attacker wants to be &lt;!-- raw HTML omitted --&gt;return after successful exploits&lt;!-- raw HTML omitted --&gt; on target system (e.g., reverse shell, bind shell) for further interactions &lt;!-- raw HTML omitted --&gt;&lt;/dd&gt;
&lt;dt&gt;Shellcode&lt;/dt&gt;
&lt;dd&gt;Assembly instructions used as payload when the exploitation occurs &lt;!-- raw HTML omitted --&gt;&lt;/dd&gt;
&lt;dt&gt;Module&lt;/dt&gt;
&lt;dd&gt;Piece of software that can be used by metasploit &lt;!-- raw HTML omitted --&gt;
&lt;ul&gt;
&lt;li&gt;Exploit module: to conduct attack &lt;!-- raw HTML omitted --&gt;&lt;/li&gt;
&lt;li&gt;Auxiliary module: to support an attack (e.g., scanning) &lt;!-- raw HTML omitted --&gt;&lt;/li&gt;
&lt;li&gt;Post exploitation module &lt;!-- raw HTML omitted --&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/dd&gt;
&lt;dt&gt;Listener&lt;/dt&gt;
&lt;dd&gt;component that waits connection of sorts &lt;!-- raw HTML omitted --&gt;&lt;/dd&gt;
&lt;/dl&gt;
&lt;p&gt;We will mainly focus on MSFconsole (which is based on command line instructions) &lt;!-- raw HTML omitted --&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Commands on msfconsole &lt;!-- raw HTML omitted --&gt;
&lt;ul&gt;
&lt;li&gt;search portscan &lt;!-- raw HTML omitted --&gt;&lt;/li&gt;
&lt;li&gt;use auxiliary/scanner/portscan/tcp &lt;!-- raw HTML omitted --&gt;&lt;/li&gt;
&lt;li&gt;set rhosts x.x.x.x &lt;!-- raw HTML omitted --&gt;&lt;/li&gt;
&lt;li&gt;run &lt;!-- raw HTML omitted --&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;!-- raw HTML omitted --&gt;Every command will follow the context left by previous commands&lt;!-- raw HTML omitted --&gt; &lt;!-- raw HTML omitted --&gt;&lt;/p&gt;
&lt;h4 id=&#34;metasploit-exploitation&#34;&gt;MetaSploit Exploitation&lt;/h4&gt;
&lt;dl&gt;
&lt;dt&gt;Main tools&lt;/dt&gt;
&lt;dd&gt;&lt;ul&gt;
&lt;li&gt;msfconsole &lt;!-- raw HTML omitted --&gt;&lt;/li&gt;
&lt;li&gt;msfpayload &lt;!-- raw HTML omitted --&gt;&lt;/li&gt;
&lt;li&gt;msfencode &lt;!-- raw HTML omitted --&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/dd&gt;
&lt;dt&gt;Initial basic commands&lt;/dt&gt;
&lt;dd&gt;&lt;ul&gt;
&lt;li&gt;msf&amp;gt; show exploits &lt;!-- raw HTML omitted --&gt;&lt;/li&gt;
&lt;li&gt;msf&amp;gt; show auxiliary &lt;!-- raw HTML omitted --&gt;&lt;/li&gt;
&lt;li&gt;msf&amp;gt; show options &lt;!-- raw HTML omitted --&gt;&lt;/li&gt;
&lt;li&gt;msf&amp;gt; search &amp;lt;string&amp;gt; &lt;!-- raw HTML omitted --&gt;&lt;/li&gt;
&lt;li&gt;msf&amp;gt; show payloads: platform-speciﬁc pieces of code delivered to the target platform (if you are in an actual exploit, you will see only payloads for that attack) &lt;!-- raw HTML omitted --&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/dd&gt;
&lt;/dl&gt;
&lt;!-- raw HTML omitted --&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;Meterpreter&lt;/p&gt;
&lt;p&gt;After the exploitation, meterpreter used as a payload for further interaction &lt;!-- raw HTML omitted --&gt;&lt;/p&gt;
&lt;p&gt;It is a special shell with additional commands &lt;!-- raw HTML omitted --&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;screenshot &lt;!-- raw HTML omitted --&gt;&lt;/li&gt;
&lt;li&gt;sysinfo &lt;!-- raw HTML omitted --&gt;&lt;/li&gt;
&lt;li&gt;shell &lt;!-- raw HTML omitted --&gt;&lt;/li&gt;
&lt;li&gt;killav &lt;!-- raw HTML omitted --&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;h4 id=&#34;exploitation-example&#34;&gt;Exploitation example&lt;/h4&gt;
&lt;!-- raw HTML omitted --&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;Initial reconnaissance phase&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;div class=&#34;chroma&#34;&gt;
&lt;table class=&#34;lntable&#34;&gt;&lt;tr&gt;&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code&gt;&lt;span class=&#34;lnt&#34;&gt;1
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;
&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;sudo nmap -O -vv 172.17.0.2
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;&lt;p&gt;&lt;figure&gt;&lt;img src=&#34;https://ginkgo.org.cn/ox-hugo/2022-05-23_23-36-30_screenshot.png&#34; width=&#34;700px&#34;/&gt;
    &lt;/figure&gt;
 &lt;!-- raw HTML omitted --&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;!-- raw HTML omitted --&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;vsftpd&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;
&lt;p&gt;search vsftpd exploits module &lt;!-- raw HTML omitted --&gt;&lt;/p&gt;
&lt;p&gt;&lt;figure&gt;&lt;img src=&#34;https://ginkgo.org.cn/ox-hugo/2022-05-23_23-37-03_screenshot.png&#34; width=&#34;700px&#34;/&gt;
        &lt;/figure&gt;
 &lt;!-- raw HTML omitted --&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;!-- raw HTML omitted --&gt;
&lt;ol&gt;
&lt;li&gt;show options &lt;!-- raw HTML omitted --&gt;&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;&lt;figure&gt;&lt;img src=&#34;https://ginkgo.org.cn/ox-hugo/2022-05-23_23-38-29_screenshot.png&#34; width=&#34;700px&#34;/&gt;
    &lt;/figure&gt;
 &lt;!-- raw HTML omitted --&gt;&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;
&lt;p&gt;set rhost and run &lt;!-- raw HTML omitted --&gt;&lt;/p&gt;
&lt;p&gt;&lt;figure&gt;&lt;img src=&#34;https://ginkgo.org.cn/ox-hugo/2022-05-23_23-39-34_screenshot.png&#34; width=&#34;700px&#34;/&gt;
        &lt;/figure&gt;
 &lt;!-- raw HTML omitted --&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;!-- raw HTML omitted --&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;Exploitation procedures&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;Reconnaissance phase (nmap) for target system information (OS version, opened port status) &lt;!-- raw HTML omitted --&gt;&lt;/li&gt;
&lt;li&gt;Search and grep exploits and auxiliary modules &lt;!-- raw HTML omitted --&gt;&lt;/li&gt;
&lt;li&gt;Select payload for further interactions (reverse shell) &lt;!-- raw HTML omitted --&gt;&lt;/li&gt;
&lt;li&gt;Fill the options for modules and payload &lt;!-- raw HTML omitted --&gt;&lt;/li&gt;
&lt;li&gt;Run the exploits &lt;!-- raw HTML omitted --&gt;&lt;/li&gt;
&lt;li&gt;Interact with shells &lt;!-- raw HTML omitted --&gt;&lt;/li&gt;
&lt;/ol&gt;
&lt;/li&gt;
&lt;/ul&gt;
</description>
        </item>
        <item>
        <title>SCT_Topic_5_Professional_Reporting_of_Security_Testing_Findings</title>
        <link>https://ginkgo.org.cn/posts/sct_topic_5_professional_reporting_of_security_testing_findings/</link>
        <pubDate>Sun, 22 May 2022 00:00:00 +0000</pubDate>
        
        <guid>https://ginkgo.org.cn/posts/sct_topic_5_professional_reporting_of_security_testing_findings/</guid>
        <description>&lt;h2 id=&#34;sct-topic-5-professional-reporting-of-security-testing-findings&#34;&gt;SCT Topic 5: Professional Reporting of Security Testing Findings&lt;/h2&gt;
&lt;h3 id=&#34;taxonomy-of-security-testing-activities&#34;&gt;Taxonomy of security testing activities&lt;/h3&gt;
&lt;p&gt;This part actually overlap with what we talked about in &lt;a class=&#34;link&#34; href=&#34;https://ginkgo.org.cn/posts/sct_topic_1_introduction_to_security_testing/&#34;  target=&#34;_blank&#34; rel=&#34;noopener&#34;
    &gt;SCT Topic 1&lt;/a&gt;, you can refer to there for more details. &lt;!-- raw HTML omitted --&gt;&lt;/p&gt;
&lt;h4 id=&#34;vulnerability-assessment&#34;&gt;Vulnerability assessment&lt;/h4&gt;
&lt;p&gt;Vulnerability assessment (VA) aims to execute the tools to identify vulnerabilities in systems and software. &lt;!-- raw HTML omitted --&gt;&lt;/p&gt;
&lt;p&gt;To be notice, VA just use the tools and make report and comments based on the result, &lt;code&gt;WITHOUT&lt;/code&gt; any human-driven inspection and further interaction. &lt;!-- raw HTML omitted --&gt;&lt;/p&gt;
&lt;p&gt;And professional security testers need to use both free and paid tools, because we have to assume attackers also use all tools to scan for vulnerabilities. &lt;!-- raw HTML omitted --&gt;&lt;/p&gt;
&lt;h4 id=&#34;penetration-testing&#34;&gt;Penetration testing&lt;/h4&gt;
&lt;p&gt;Penetration Testing (PT) simulate the attackers&amp;rsquo; behaviours and try to &amp;ldquo;penetrate&amp;rdquo; into a computer ssytem. &lt;!-- raw HTML omitted --&gt;&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;Pre-engagemnt interactions &lt;!-- raw HTML omitted --&gt;&lt;/li&gt;
&lt;li&gt;Intelligence gathering &lt;!-- raw HTML omitted --&gt;&lt;/li&gt;
&lt;li&gt;Threat modelling &lt;!-- raw HTML omitted --&gt;&lt;/li&gt;
&lt;li&gt;Vulnerability analysis &lt;!-- raw HTML omitted --&gt;&lt;/li&gt;
&lt;li&gt;Exploitation &lt;!-- raw HTML omitted --&gt;&lt;/li&gt;
&lt;li&gt;Post exploitation &lt;!-- raw HTML omitted --&gt;&lt;/li&gt;
&lt;li&gt;Reporting &lt;!-- raw HTML omitted --&gt;&lt;/li&gt;
&lt;/ol&gt;
&lt;h4 id=&#34;red-teaming&#34;&gt;Red Teaming&lt;/h4&gt;
&lt;p&gt;Red teaming aims to emulate &lt;code&gt;Tactics, Techniques and Procedures (TTPs)&lt;/code&gt; of adversaries in a more realistic way. &lt;!-- raw HTML omitted --&gt;&lt;/p&gt;
&lt;dl&gt;
&lt;dt&gt;Red Team&lt;/dt&gt;
&lt;dd&gt;&lt;ul&gt;
&lt;li&gt;simulate attackers &lt;!-- raw HTML omitted --&gt;&lt;/li&gt;
&lt;li&gt;hired security testers &lt;!-- raw HTML omitted --&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/dd&gt;
&lt;dt&gt;Blue Team&lt;/dt&gt;
&lt;dd&gt;&lt;ul&gt;
&lt;li&gt;real-world defenders &lt;!-- raw HTML omitted --&gt;&lt;/li&gt;
&lt;li&gt;not informed the attacks in advance &lt;!-- raw HTML omitted --&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/dd&gt;
&lt;/dl&gt;
&lt;!-- raw HTML omitted --&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;Differences Between PT and RT&lt;/p&gt;
&lt;table&gt;
&lt;thead&gt;
&lt;tr&gt;
&lt;th&gt;&lt;/th&gt;
&lt;th&gt;Penetration testing&lt;/th&gt;
&lt;th&gt;Red teaming&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;
&lt;tbody&gt;
&lt;tr&gt;
&lt;td&gt;Security assessment&lt;/td&gt;
&lt;td&gt;Methodical&lt;/td&gt;
&lt;td&gt;Flexible&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;/td&gt;
&lt;td&gt;Restricted scope&lt;/td&gt;
&lt;td&gt;No rules (without being illegal)&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;/td&gt;
&lt;td&gt;Engagement of 1 - 2 weeks&lt;/td&gt;
&lt;td&gt;Engagement of between 2 weeks and 6 months&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;Scope&lt;/td&gt;
&lt;td&gt;Generally announced&lt;/td&gt;
&lt;td&gt;No announcement&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;/td&gt;
&lt;td&gt;identifies vulnerabilities&lt;/td&gt;
&lt;td&gt;Test Blue team on programs, policies, tools and skills&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
&lt;p&gt;Red teaming estimate the organisation&amp;rsquo;s with two metrics: &lt;!-- raw HTML omitted --&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Time To Detect (TTD) &lt;!-- raw HTML omitted --&gt;&lt;/li&gt;
&lt;li&gt;Time to Mitigate (TTM) &lt;!-- raw HTML omitted --&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id=&#34;professional-reporting-of-results&#34;&gt;Professional reporting of results&lt;/h3&gt;
&lt;p&gt;Three fundamental objectives of a professional report: &lt;!-- raw HTML omitted --&gt;&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;Describe the findings &lt;!-- raw HTML omitted --&gt;&lt;/li&gt;
&lt;li&gt;Rate the vulnerabilities &lt;!-- raw HTML omitted --&gt;&lt;/li&gt;
&lt;li&gt;Explain how the results will affect the customer in the real world &lt;!-- raw HTML omitted --&gt;&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;Possible sections in professional report &lt;!-- raw HTML omitted --&gt;&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;Introduction/Overview &lt;!-- raw HTML omitted --&gt;&lt;/li&gt;
&lt;li&gt;Scope and objectives &lt;!-- raw HTML omitted --&gt;&lt;/li&gt;
&lt;li&gt;Deviations from the Statement of Work &lt;!-- raw HTML omitted --&gt;&lt;/li&gt;
&lt;li&gt;Methodology &lt;!-- raw HTML omitted --&gt;&lt;/li&gt;
&lt;li&gt;Significant assessment findings (critical findings) &lt;!-- raw HTML omitted --&gt;&lt;/li&gt;
&lt;li&gt;Positive observations &lt;!-- raw HTML omitted --&gt;&lt;/li&gt;
&lt;li&gt;findings summary &lt;!-- raw HTML omitted --&gt;&lt;/li&gt;
&lt;li&gt;Detailed summary &lt;!-- raw HTML omitted --&gt;&lt;/li&gt;
&lt;li&gt;Appendix &lt;!-- raw HTML omitted --&gt;&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;Essentails details should be elaborated in a report: &lt;!-- raw HTML omitted --&gt;&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;
&lt;p&gt;Risk, exploitability and impact values
: -   Risk, how critical a certain vulnerability is &lt;!-- raw HTML omitted --&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Exploitability, feasibility of taking advantage of a vulnerability &lt;!-- raw HTML omitted --&gt;&lt;/li&gt;
&lt;li&gt;Impact, estimation of the damage &lt;!-- raw HTML omitted --&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Category
: -   define the category a vulnerability belongs to &lt;!-- raw HTML omitted --&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;e.g., data exposure, access control, validation &lt;!-- raw HTML omitted --&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Location
: -   The specific location of the vulnerability within the target system &lt;!-- raw HTML omitted --&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Description
: -   Detailed description, including code examples on how to exploit it and the damage could be done &lt;!-- raw HTML omitted --&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Steps to replicate
: -   Pick the easiest one to replicate the exploitation of vulnerability &lt;!-- raw HTML omitted --&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Recommendation
: -   Suggestion about how the client could remediate the vulnerability &lt;!-- raw HTML omitted --&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;May include patching guides, temporary hotfixes, or rethinking of system architecture &lt;!-- raw HTML omitted --&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;h3 id=&#34;suggestions-for-reporting&#34;&gt;Suggestions for reporting&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;Don&amp;rsquo;t show automatically generated report to client &lt;!-- raw HTML omitted --&gt;&lt;/li&gt;
&lt;li&gt;Rate the vulnerabilities properly (refer to the CIA) &lt;!-- raw HTML omitted --&gt;&lt;/li&gt;
&lt;li&gt;Separate theoretical v.s. real findings &lt;!-- raw HTML omitted --&gt;&lt;/li&gt;
&lt;li&gt;Make sure vulnerabilities are real &lt;!-- raw HTML omitted --&gt;&lt;/li&gt;
&lt;li&gt;Reproducibility steps is important &lt;!-- raw HTML omitted --&gt;&lt;/li&gt;
&lt;li&gt;Remediations and solutions are important &lt;!-- raw HTML omitted --&gt;&lt;/li&gt;
&lt;li&gt;Standardise all templates &lt;!-- raw HTML omitted --&gt;&lt;/li&gt;
&lt;/ul&gt;
</description>
        </item>
        <item>
        <title>SCT Topic 1 Introduction to Security Testing</title>
        <link>https://ginkgo.org.cn/posts/sct_topic_1_introduction_to_security_testing/</link>
        <pubDate>Fri, 20 May 2022 00:00:00 +0000</pubDate>
        
        <guid>https://ginkgo.org.cn/posts/sct_topic_1_introduction_to_security_testing/</guid>
        <description>&lt;h2 id=&#34;sct-topic-1-introduction-to-security-testing&#34;&gt;SCT Topic 1 Introduction to Security Testing&lt;/h2&gt;
&lt;h3 id=&#34;what-is-security-testing-什么是安全测试&#34;&gt;What is Security Testing? 什么是安全测试&lt;/h3&gt;
&lt;p&gt;安全测试是一个很广泛的概念，我们可以列举几个典型的活动： &lt;!-- raw HTML omitted --&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Security Audit 安全审计 &lt;!-- raw HTML omitted --&gt;&lt;/li&gt;
&lt;li&gt;Vulnerability Assessment 漏洞评估 &lt;!-- raw HTML omitted --&gt;&lt;/li&gt;
&lt;li&gt;Penetration Testing 渗透测试 &lt;!-- raw HTML omitted --&gt;&lt;/li&gt;
&lt;li&gt;Red Teaming 红队测试 &lt;!-- raw HTML omitted --&gt;&lt;/li&gt;
&lt;li&gt;Ethical hacking 有道德的黑客攻击 &lt;!-- raw HTML omitted --&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;在这周的topic中我们会具体展开介绍每一个活动所对应的细节 &lt;!-- raw HTML omitted --&gt;&lt;/p&gt;
&lt;p&gt;在此之前，我们可以先对安全测试下一个定义： &lt;!-- raw HTML omitted --&gt;&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;div class=&#34;chroma&#34;&gt;
&lt;table class=&#34;lntable&#34;&gt;&lt;tr&gt;&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code&gt;&lt;span class=&#34;lnt&#34;&gt;1
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;2
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;3
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;
&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-fallback&#34; data-lang=&#34;fallback&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;Security Testing is the process to reveal flaws in a system in terms of Confidentiality, Integrity, Availability (CIA).
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;安全测试就是一个揭露系统在保密性，完整性和可用性（CIA）方面的缺陷的过程
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;&lt;p&gt;CIA也是所有安全话题中最重要的三要素： &lt;!-- raw HTML omitted --&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Confidentiality 保密性: 限制没有授权的用户访问资源 &lt;!-- raw HTML omitted --&gt;&lt;/li&gt;
&lt;li&gt;Integrity 完整性：限制没有授权的用户修改资源 &lt;!-- raw HTML omitted --&gt;&lt;/li&gt;
&lt;li&gt;Availability 可用性: 保证资源随时可用 &lt;!-- raw HTML omitted --&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;然后我们再总结黑客的攻击归为三种： &lt;!-- raw HTML omitted --&gt;&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;Exploit the configuration done by the system administrator 修改管理员级别的系统配置 &lt;!-- raw HTML omitted --&gt;&lt;/li&gt;
&lt;li&gt;Exploit how the users use the system/service 利用用户对系统进行操作 &lt;!-- raw HTML omitted --&gt;&lt;/li&gt;
&lt;li&gt;Exploit software/hardware vulnerabilities 利用软硬件的漏洞 &lt;!-- raw HTML omitted --&gt;&lt;/li&gt;
&lt;/ol&gt;
&lt;h3 id=&#34;penetration-testing-渗透测试&#34;&gt;Penetration Testing 渗透测试&lt;/h3&gt;
&lt;p&gt;Penetration Testing (PT) 渗透测试通过多种漏洞测试工具来模拟真实的攻击手段来尝试渗透计算机系统的活动。 &lt;!-- raw HTML omitted --&gt;&lt;/p&gt;
&lt;p&gt;&lt;a class=&#34;link&#34; href=&#34;http://www.pentest-standard.org/index.php/Main_Page&#34;  target=&#34;_blank&#34; rel=&#34;noopener&#34;
    &gt;Penetration Testing Execution Standard (PTES)&lt;/a&gt; 列举了渗透测试的步骤，但这些步骤也并不固定 &lt;!-- raw HTML omitted --&gt;&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;Pre-engagement Interactions 预交互 &lt;!-- raw HTML omitted --&gt;&lt;/li&gt;
&lt;li&gt;Intelligence Gathering 情报收集 &lt;!-- raw HTML omitted --&gt;&lt;/li&gt;
&lt;li&gt;Threat Modeling 威胁建模 &lt;!-- raw HTML omitted --&gt;&lt;/li&gt;
&lt;li&gt;Vulnerability Analysis 漏洞分析 &lt;!-- raw HTML omitted --&gt;&lt;/li&gt;
&lt;li&gt;Exploitation 漏洞利用 &lt;!-- raw HTML omitted --&gt;&lt;/li&gt;
&lt;li&gt;Post Exploitation 后漏洞利用 &lt;!-- raw HTML omitted --&gt;&lt;/li&gt;
&lt;li&gt;Reporting 报告 &lt;!-- raw HTML omitted --&gt;&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;具体每一个环节大家可以根据上面的链接查看文档，这里需要需要强调的就是最后的报告环节，这也是很能反应专业性的地方，能清楚描述整一个渗透测试，对于后续客户的理解，采取措施是非常重要的（就是为了这份报告，才进行的这个渗透测试）。 &lt;!-- raw HTML omitted --&gt;&lt;/p&gt;
&lt;h3 id=&#34;security-audit&#34;&gt;Security Audit&lt;/h3&gt;
&lt;p&gt;安全审计，主要是为了检查企业的安全是否满足标准（ISO 27000) 以及资格证书而进行的，我们在安全管理课程中已经看过了，对于中小企业的安全资格证书检查是非常重要，减少一些基础的漏洞可以帮助企业避免很多的问题，个人认为安全审计随着国内的安全意识的提高以及规范化的提高也会逐渐普及以及形成产业进一步增加安全就业。 &lt;!-- raw HTML omitted --&gt;&lt;/p&gt;
&lt;h3 id=&#34;vulnerability-analysis--va--漏洞分析&#34;&gt;Vulnerability Analysis (VA) 漏洞分析&lt;/h3&gt;
&lt;p&gt;Vulnerability Analysis (VA) 漏洞分析是单纯地利用工具进行扫描系统和软件中的漏洞的活动，在进行扫描的时候，必须要同时使用开源和商业的工具，因为我们无法保证黑客不使用这些商业工具。 &lt;!-- raw HTML omitted --&gt;&lt;/p&gt;
&lt;p&gt;同时与渗透测试不同的是，漏洞分析只是单纯的扫描工具使用，而不涉及任何的交互 &lt;!-- raw HTML omitted --&gt;&lt;/p&gt;
&lt;h3 id=&#34;red-teaming--rt--红队测试&#34;&gt;Red Teaming (RT) 红队测试&lt;/h3&gt;
&lt;p&gt;红队测试也是安全测试员进行模拟攻击来测试目标系统的安全性 &lt;!-- raw HTML omitted --&gt;&lt;/p&gt;
&lt;p&gt;这里有两个计量的单位： &lt;!-- raw HTML omitted --&gt;&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;
&lt;p&gt;Time To Detect (TTD) 检测响应时间： &lt;!-- raw HTML omitted --&gt;&lt;/p&gt;
&lt;p&gt;指的是目标系统通过杀毒软件或者IDS扫描到本次入侵或者病毒所需要的时间，具体的表现为安全分析师第一次记录成报告的时间 &lt;!-- raw HTML omitted --&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Time To Mitigate (TTM) 解决响应时间： &lt;!-- raw HTML omitted --&gt;&lt;/p&gt;
&lt;p&gt;指的是目标企业的安全工程师多久能组织本次攻击 &lt;!-- raw HTML omitted --&gt;&lt;/p&gt;
&lt;p&gt;也反应了其他的一些内容： &lt;!-- raw HTML omitted --&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;安全团队与IT部门的配合是否高效 &lt;!-- raw HTML omitted --&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;员工是否陷入了恐慌（安全培训） &lt;!-- raw HTML omitted --&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;但是要注意将渗透测试与红队测试区分开 &lt;!-- raw HTML omitted --&gt;&lt;/p&gt;
&lt;dl&gt;
&lt;dt&gt;Red Team 红队&lt;/dt&gt;
&lt;dd&gt;&lt;ol&gt;
&lt;li&gt;攻击者（模拟） &lt;!-- raw HTML omitted --&gt;&lt;/li&gt;
&lt;li&gt;模仿攻击的一整套流程 &lt;!-- raw HTML omitted --&gt;&lt;/li&gt;
&lt;li&gt;不告知蓝队何时用何种方法进行进攻 &lt;!-- raw HTML omitted --&gt;&lt;/li&gt;
&lt;/ol&gt;
&lt;/dd&gt;
&lt;dt&gt;Blue Team 蓝队&lt;/dt&gt;
&lt;dd&gt;&lt;ol&gt;
&lt;li&gt;
&lt;p&gt;企业中的防御者 &lt;!-- raw HTML omitted --&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;不会被告知有红队的存在（但是在渗透测试中，双方会进行合作） &lt;!-- raw HTML omitted --&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;/dd&gt;
&lt;/dl&gt;
&lt;table&gt;
&lt;thead&gt;
&lt;tr&gt;
&lt;th&gt;&lt;/th&gt;
&lt;th&gt;Pennetration Tests&lt;/th&gt;
&lt;th&gt;Red Teaming&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;
&lt;tbody&gt;
&lt;tr&gt;
&lt;td&gt;Security Assessment&lt;/td&gt;
&lt;td&gt;Methodical&lt;/td&gt;
&lt;td&gt;Flexible&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;Scope&lt;/td&gt;
&lt;td&gt;严格的目标&lt;/td&gt;
&lt;td&gt;没有具体的规则&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;/td&gt;
&lt;td&gt;1-2周的流程&lt;/td&gt;
&lt;td&gt;2-6个月的参与&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;/td&gt;
&lt;td&gt;告知对方企业的蓝队&lt;/td&gt;
&lt;td&gt;不通知对方的蓝队&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;/td&gt;
&lt;td&gt;识别漏洞&lt;/td&gt;
&lt;td&gt;测试蓝队在程序，安全政策，防御工具以及技能&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;/td&gt;
&lt;td&gt;&lt;/td&gt;
&lt;td&gt;用来测试TTD与TTM的水平&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;/td&gt;
&lt;td&gt;&lt;/td&gt;
&lt;td&gt;必须在合法的范围下进行&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
</description>
        </item>
        <item>
        <title>SCT Topic 4: Web Attacks - Bypassing client-side authentication and others</title>
        <link>https://ginkgo.org.cn/posts/sct_topic_4_web_attacks_bypassing_client-side_authentication_and_others/</link>
        <pubDate>Fri, 20 May 2022 00:00:00 +0000</pubDate>
        
        <guid>https://ginkgo.org.cn/posts/sct_topic_4_web_attacks_bypassing_client-side_authentication_and_others/</guid>
        <description>&lt;h2 id=&#34;sct-topic-4-web-attacks-bypassing-client-side-authentication-and-others&#34;&gt;SCT Topic 4: Web Attacks - Bypassing client-side authentication and others&lt;/h2&gt;
&lt;h3 id=&#34;bypassing-client-side-controls-客户端检查绕过&#34;&gt;Bypassing client-Side Controls 客户端检查绕过&lt;/h3&gt;
&lt;p&gt;绕过客户端的检查主要是针对两个方面， &lt;!-- raw HTML omitted --&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;页面HTML代码 &lt;!-- raw HTML omitted --&gt;&lt;/li&gt;
&lt;li&gt;HTTP请求 &lt;!-- raw HTML omitted --&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;客户端的检查一般来说都能被轻松的绕过，主要的防御手段还是服务器端需要进行严格的输入净化，但是设置合理的客户端检查可以帮助正常的用户减少麻烦 &lt;!-- raw HTML omitted --&gt;&lt;/p&gt;
&lt;p&gt;我们直接来看具体的种类和例子吧 &lt;!-- raw HTML omitted --&gt;&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;
&lt;p&gt;URL parameters URL参数 &lt;!-- raw HTML omitted --&gt;
URL后面接的GET参数可以被轻易修改 &lt;!-- raw HTML omitted --&gt;&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;div class=&#34;chroma&#34;&gt;
&lt;table class=&#34;lntable&#34;&gt;&lt;tr&gt;&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code&gt;&lt;span class=&#34;lnt&#34;&gt;1
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;
&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-fallback&#34; data-lang=&#34;fallback&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;http://example.com/shop/?prod=3&amp;amp;price=32&amp;amp;currency=USD
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Hidden form fields 隐藏的表格内容 &lt;!-- raw HTML omitted --&gt;
有些网页会有隐藏的表单内容用于后续的提交，这些表格可以轻易被浏览器的开发工具所修改，因此服务器端也得对这部分的数据做严格的审核 &lt;!-- raw HTML omitted --&gt;&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;div class=&#34;chroma&#34;&gt;
&lt;table class=&#34;lntable&#34;&gt;&lt;tr&gt;&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code&gt;&lt;span class=&#34;lnt&#34;&gt;1
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;2
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;3
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;4
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;5
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;6
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;7
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;
&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-html&#34; data-lang=&#34;html&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;p&#34;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;p&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;&amp;gt;&lt;/span&gt;Please enter the required quantity:&lt;span class=&#34;p&#34;&gt;&amp;lt;/&lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;p&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;&amp;gt;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;p&#34;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;form&lt;/span&gt; &lt;span class=&#34;na&#34;&gt;method&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;&amp;#34;post&amp;#34;&lt;/span&gt; &lt;span class=&#34;na&#34;&gt;action&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;&amp;#34;Shop.aspx?prod=1&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;&amp;gt;&lt;/span&gt; 
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;Product: xPhone Ultimate &lt;span class=&#34;p&#34;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;br&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;/&amp;gt;&lt;/span&gt; Price: 449 &lt;span class=&#34;p&#34;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;br&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;/&amp;gt;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;(Maximum quantity is 50)&lt;span class=&#34;p&#34;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;br&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;/&amp;gt;&lt;/span&gt;  
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;p&#34;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;input&lt;/span&gt; &lt;span class=&#34;na&#34;&gt;type&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;&amp;#34;hidden&amp;#34;&lt;/span&gt; &lt;span class=&#34;na&#34;&gt;name&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;&amp;#34;price&amp;#34;&lt;/span&gt; &lt;span class=&#34;na&#34;&gt;value&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;&amp;#34;449&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;&amp;gt;&lt;/span&gt; 
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;p&#34;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;input&lt;/span&gt; &lt;span class=&#34;na&#34;&gt;type&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;&amp;#34;submit&amp;#34;&lt;/span&gt; &lt;span class=&#34;na&#34;&gt;value&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;&amp;#34;Buy&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;&amp;gt;&lt;/span&gt; 
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;p&#34;&gt;&amp;lt;/&lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;form&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;&amp;gt;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Length limits 长度限制 &lt;!-- raw HTML omitted --&gt;
长度的限制也可以轻易被修改 &lt;!-- raw HTML omitted --&gt;&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;div class=&#34;chroma&#34;&gt;
&lt;table class=&#34;lntable&#34;&gt;&lt;tr&gt;&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code&gt;&lt;span class=&#34;lnt&#34;&gt;1
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;2
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;3
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;4
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;5
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;6
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;7
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;8
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;9
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;
&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-html&#34; data-lang=&#34;html&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;p&#34;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;p&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;&amp;gt;&lt;/span&gt;Please enter the required quantity:&lt;span class=&#34;p&#34;&gt;&amp;lt;/&lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;p&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;&amp;gt;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;p&#34;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;form&lt;/span&gt; &lt;span class=&#34;na&#34;&gt;method&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;&amp;#34;post&amp;#34;&lt;/span&gt; &lt;span class=&#34;na&#34;&gt;action&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;&amp;#34;Shop.aspx?prod=1&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;&amp;gt;&lt;/span&gt; 
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;Product: iPhone Ultimate &lt;span class=&#34;p&#34;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;br&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;/&amp;gt;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;Price: 449 &lt;span class=&#34;p&#34;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;br&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;/&amp;gt;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;Quantity: &lt;span class=&#34;p&#34;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;input&lt;/span&gt; &lt;span class=&#34;na&#34;&gt;type&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;&amp;#34;text&amp;#34;&lt;/span&gt; &lt;span class=&#34;na&#34;&gt;name&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;&amp;#34;quantity&amp;#34;&lt;/span&gt; &lt;span class=&#34;na&#34;&gt;maxlength&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;&amp;#34;1&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;&amp;gt;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;(Maximum quantity is 50) &lt;span class=&#34;p&#34;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;br&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;/&amp;gt;&lt;/span&gt;  
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;p&#34;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;input&lt;/span&gt; &lt;span class=&#34;na&#34;&gt;type&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;”hidden”&lt;/span&gt; &lt;span class=&#34;na&#34;&gt;name&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;”price”&lt;/span&gt; &lt;span class=&#34;na&#34;&gt;value&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;”449”&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;&amp;gt;&lt;/span&gt; 
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;p&#34;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;input&lt;/span&gt; &lt;span class=&#34;na&#34;&gt;type&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;”submit”&lt;/span&gt; &lt;span class=&#34;na&#34;&gt;value&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;”Buy”&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;&amp;gt;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;p&#34;&gt;&amp;lt;/&lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;form&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;&amp;gt;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Disabled elements 不可修改的元素 &lt;!-- raw HTML omitted --&gt;
开发者工具修改 &lt;!-- raw HTML omitted --&gt;&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;div class=&#34;chroma&#34;&gt;
&lt;table class=&#34;lntable&#34;&gt;&lt;tr&gt;&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code&gt;&lt;span class=&#34;lnt&#34;&gt;1
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;2
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;3
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;4
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;5
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;6
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;7
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;
&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-html&#34; data-lang=&#34;html&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;p&#34;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;p&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;&amp;gt;&lt;/span&gt;Please enter the required quantity:&lt;span class=&#34;p&#34;&gt;&amp;lt;/&lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;p&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;&amp;gt;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;p&#34;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;form&lt;/span&gt; &lt;span class=&#34;na&#34;&gt;method&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;&amp;#34;post&amp;#34;&lt;/span&gt; &lt;span class=&#34;na&#34;&gt;action&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;&amp;#34;Shop.aspx?prod=1&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;&amp;gt;&lt;/span&gt; 
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;Product: iPhone Ultimate &lt;span class=&#34;p&#34;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;br&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;/&amp;gt;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;Price: &lt;span class=&#34;p&#34;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;input&lt;/span&gt; &lt;span class=&#34;na&#34;&gt;type&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;&amp;#34;text&amp;#34;&lt;/span&gt; &lt;span class=&#34;na&#34;&gt;name&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;&amp;#34;price&amp;#34;&lt;/span&gt; &lt;span class=&#34;na&#34;&gt;disabled&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;&amp;#34;true&amp;#34;&lt;/span&gt; &lt;span class=&#34;na&#34;&gt;value&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;&amp;#34;449&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;&amp;gt;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;Quantity: &lt;span class=&#34;p&#34;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;input&lt;/span&gt; &lt;span class=&#34;na&#34;&gt;type&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;&amp;#34;text&amp;#34;&lt;/span&gt; &lt;span class=&#34;na&#34;&gt;name&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;&amp;#34;quantity&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;&amp;gt;&lt;/span&gt;(Maximum quantity is 50) &lt;span class=&#34;p&#34;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;br&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;/&amp;gt;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;p&#34;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;input&lt;/span&gt; &lt;span class=&#34;na&#34;&gt;type&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;&amp;#34;submit&amp;#34;&lt;/span&gt; &lt;span class=&#34;na&#34;&gt;value&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;&amp;#34;Buy&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;&amp;gt;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;p&#34;&gt;&amp;lt;/&lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;form&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;&amp;gt;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Script-based validation &lt;!-- raw HTML omitted --&gt;
前端的JS脚本检查，可以通过debugger，Burp抓住请求后直接修改，chrome可以直接修改 &lt;!-- raw HTML omitted --&gt;&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;div class=&#34;chroma&#34;&gt;
&lt;table class=&#34;lntable&#34;&gt;&lt;tr&gt;&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code&gt;&lt;span class=&#34;lnt&#34;&gt; 1
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 2
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 3
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 4
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 5
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 6
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 7
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 8
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 9
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;10
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;11
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;12
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;13
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;14
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;15
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;
&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-html&#34; data-lang=&#34;html&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;p&#34;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;form&lt;/span&gt; &lt;span class=&#34;na&#34;&gt;method&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;&amp;#34;post&amp;#34;&lt;/span&gt; &lt;span class=&#34;na&#34;&gt;action&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;&amp;#34;Shop.aspx?prod=2&amp;#34;&lt;/span&gt; &lt;span class=&#34;na&#34;&gt;onsubmit&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;&amp;#34;return validateForm(this)&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;&amp;gt;&lt;/span&gt; 
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;Product: Samsung Multiverse &lt;span class=&#34;p&#34;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;br&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;/&amp;gt;&lt;/span&gt; 
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;Price: 399 &lt;span class=&#34;p&#34;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;br&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;/&amp;gt;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;Quantity: &lt;span class=&#34;p&#34;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;input&lt;/span&gt; &lt;span class=&#34;na&#34;&gt;type&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;&amp;#34;text&amp;#34;&lt;/span&gt; &lt;span class=&#34;na&#34;&gt;name&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;&amp;#34;quantity&amp;#34;&lt;/span&gt; &lt;span class=&#34;err&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;na&#34;&gt;Maximum&lt;/span&gt; &lt;span class=&#34;na&#34;&gt;quantity&lt;/span&gt; &lt;span class=&#34;na&#34;&gt;is&lt;/span&gt; &lt;span class=&#34;na&#34;&gt;50&lt;/span&gt;&lt;span class=&#34;err&#34;&gt;)&lt;/span&gt; &lt;span class=&#34;err&#34;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&#34;na&#34;&gt;br&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;/&amp;gt;&lt;/span&gt; 
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;p&#34;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;input&lt;/span&gt; &lt;span class=&#34;na&#34;&gt;type&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;&amp;#34;submit&amp;#34;&lt;/span&gt; &lt;span class=&#34;na&#34;&gt;value&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;&amp;#34;Buy&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;&amp;gt;&lt;/span&gt; 
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;p&#34;&gt;&amp;lt;/&lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;form&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;&amp;gt;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;p&#34;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;script&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;&amp;gt;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;kd&#34;&gt;function&lt;/span&gt; &lt;span class=&#34;nx&#34;&gt;validateForm&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;theForm&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;{&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;kd&#34;&gt;var&lt;/span&gt; &lt;span class=&#34;nx&#34;&gt;isInteger&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;sr&#34;&gt;/^\d+$/&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt; 
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;kd&#34;&gt;var&lt;/span&gt; &lt;span class=&#34;nx&#34;&gt;valid&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;nx&#34;&gt;isInteger&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;test&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;quantity&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;&amp;amp;&amp;amp;&lt;/span&gt; &lt;span class=&#34;nx&#34;&gt;quantity&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;&amp;gt;&lt;/span&gt; &lt;span class=&#34;mi&#34;&gt;0&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;&amp;amp;&amp;amp;&lt;/span&gt; &lt;span class=&#34;nx&#34;&gt;quantity&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;&amp;lt;=&lt;/span&gt; &lt;span class=&#34;mi&#34;&gt;50&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt; 
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;k&#34;&gt;if&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;!&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;valid&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt; &lt;span class=&#34;nx&#34;&gt;alert&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;s1&#34;&gt;&amp;#39;Please enter a valid quantity&amp;#39;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;);&lt;/span&gt; 
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;k&#34;&gt;return&lt;/span&gt; &lt;span class=&#34;nx&#34;&gt;valid&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;p&#34;&gt;}&lt;/span&gt; 
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;p&#34;&gt;&amp;lt;/&lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;script&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;&amp;gt;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Referer header &lt;!-- raw HTML omitted --&gt;
Burp拦截请求后可以直接修改 &lt;!-- raw HTML omitted --&gt;&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;div class=&#34;chroma&#34;&gt;
&lt;table class=&#34;lntable&#34;&gt;&lt;tr&gt;&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code&gt;&lt;span class=&#34;lnt&#34;&gt;1
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;2
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;3
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;
&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-fallback&#34; data-lang=&#34;fallback&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;GET /auth/472/CreateUser.ashx HTTP/1.1 
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;Host: mdsec.net 
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;Referer: https://mdsec.net/auth/472/Admin.ashx
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;HTTP cookies &lt;!-- raw HTML omitted --&gt;
Burp拦截请求后可以直接修改 &lt;!-- raw HTML omitted --&gt;&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;div class=&#34;chroma&#34;&gt;
&lt;table class=&#34;lntable&#34;&gt;&lt;tr&gt;&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code&gt;&lt;span class=&#34;lnt&#34;&gt;1
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;2
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;3
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;4
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;5
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;6
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;
&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-fallback&#34; data-lang=&#34;fallback&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;POST /shop/92/Shop.aspx?prod=3 HTTP/1.1 
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;Host: mdsec.net 
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;Cookie: DiscountAgreed=25 
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;Content-Length: 10
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;quantity=1
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;&lt;/li&gt;
&lt;/ol&gt;
&lt;h3 id=&#34;local-remote-file-inclusion--lfi-rfi--文件包含&#34;&gt;Local/Remote File Inclusion (LFI/RFI) 文件包含&lt;/h3&gt;
&lt;p&gt;详见：&lt;a class=&#34;link&#34; href=&#34;https://ginkgo.org.cn/posts/lrfi_basic/&#34;  target=&#34;_blank&#34; rel=&#34;noopener&#34;
    &gt;https://ginkgo.org.cn/posts/lrfi_basic/&lt;/a&gt; &lt;!-- raw HTML omitted --&gt;&lt;/p&gt;
&lt;h3 id=&#34;command-injection-命令行注入&#34;&gt;Command Injection 命令行注入&lt;/h3&gt;
&lt;p&gt;命令行注入漏洞主要由黑客利用PHP中来执行系统命令的函数来执行自己的恶意代码(e.g., system(), exec(),  popen()). &lt;!-- raw HTML omitted --&gt;&lt;/p&gt;
&lt;p&gt;参数通常由POST or GET参数传入 &lt;!-- raw HTML omitted --&gt;&lt;/p&gt;
&lt;p&gt;例如我们有一个ping.php需要传入一个GET参数来测试一个host的ping连接，但是如果我们用 &lt;code&gt;‘;’&lt;/code&gt; 拼接这个ping指令，就可以执行额外的操作 &lt;!-- raw HTML omitted --&gt;&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;div class=&#34;chroma&#34;&gt;
&lt;table class=&#34;lntable&#34;&gt;&lt;tr&gt;&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code&gt;&lt;span class=&#34;lnt&#34;&gt;1
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;2
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;3
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;4
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;
&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-php&#34; data-lang=&#34;php&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;o&#34;&gt;&amp;lt;?&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;php&lt;/span&gt; 
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    &lt;span class=&#34;nv&#34;&gt;$host&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;nv&#34;&gt;$_GET&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;[&lt;/span&gt;&lt;span class=&#34;s1&#34;&gt;&amp;#39;host&amp;#39;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;];&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    &lt;span class=&#34;nx&#34;&gt;system&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;s1&#34;&gt;&amp;#39;ping -c 4 &amp;#39;&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;nv&#34;&gt;$host&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;);&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;cp&#34;&gt;?&amp;gt;&lt;/span&gt;&lt;span class=&#34;err&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;&lt;p&gt;&lt;figure&gt;&lt;img src=&#34;https://ginkgo.org.cn/ox-hugo/2022-05-22_10-13-15_screenshot.png&#34; width=&#34;700px&#34;/&gt;
&lt;/figure&gt;
 &lt;!-- raw HTML omitted --&gt;&lt;/p&gt;
&lt;h3 id=&#34;shellshock&#34;&gt;Shellshock&lt;/h3&gt;
&lt;p&gt;接下来我们来介绍一个很典型的命令行注入的漏洞，叫做Shellshock， &lt;!-- raw HTML omitted --&gt;&lt;/p&gt;
&lt;h4 id=&#34;knowledge-prerequisites&#34;&gt;Knowledge Prerequisites&lt;/h4&gt;
&lt;p&gt;我们平时经常使用终端来进行一些文件操作，以及安装命令行工具来增强其功能。 &lt;!-- raw HTML omitted --&gt;&lt;/p&gt;
&lt;p&gt;那么相信大家也将会经常被配置环境参数搞的头疼不已，而在shellshock中我们正是利用环境变量来注入命令行。 &lt;!-- raw HTML omitted --&gt;&lt;/p&gt;
&lt;p&gt;首先大家一般在Linux上使用的终端都是bash，shellshock也发生在老版本的bash上面 &lt;!-- raw HTML omitted --&gt;&lt;/p&gt;
&lt;p&gt;接下来，我们将通过比较Bash在一般模式下的变量定义的表现，以及对比开启一个新的bash子进程之后，这些变量会有什么表现来进一步了解这些令人头疼的变量 &lt;!-- raw HTML omitted --&gt;&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;
&lt;p&gt;普通shell变量和bash子进程中的变量 &lt;!-- raw HTML omitted --&gt;&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;div class=&#34;chroma&#34;&gt;
&lt;table class=&#34;lntable&#34;&gt;&lt;tr&gt;&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code&gt;&lt;span class=&#34;lnt&#34;&gt;1
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;2
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;3
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;4
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;5
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;6
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;7
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;8
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;9
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;
&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-shell&#34; data-lang=&#34;shell&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;o&#34;&gt;[&lt;/span&gt;04/12/2018 09:26&lt;span class=&#34;o&#34;&gt;]&lt;/span&gt; seed@ubuntu:~/Seed/shellshock$ &lt;span class=&#34;nv&#34;&gt;gu&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;s2&#34;&gt;&amp;#34;hacker&amp;#34;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;o&#34;&gt;[&lt;/span&gt;04/12/2018 09:26&lt;span class=&#34;o&#34;&gt;]&lt;/span&gt; seed@ubuntu:~/Seed/shellshock$ &lt;span class=&#34;nb&#34;&gt;echo&lt;/span&gt; &lt;span class=&#34;nv&#34;&gt;$gu&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;hacker
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;o&#34;&gt;[&lt;/span&gt;04/12/2018 09:26&lt;span class=&#34;o&#34;&gt;]&lt;/span&gt; seed@ubuntu:~/Seed/shellshock$ bash &lt;span class=&#34;c1&#34;&gt;#进入子进程&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;o&#34;&gt;[&lt;/span&gt;04/12/2018 09:27&lt;span class=&#34;o&#34;&gt;]&lt;/span&gt; seed@ubuntu:~/Seed/shellshock$ &lt;span class=&#34;nb&#34;&gt;echo&lt;/span&gt; &lt;span class=&#34;nv&#34;&gt;$gu&lt;/span&gt; &lt;span class=&#34;c1&#34;&gt;#无事发生&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;o&#34;&gt;[&lt;/span&gt;04/12/2018 09:27&lt;span class=&#34;o&#34;&gt;]&lt;/span&gt; seed@ubuntu:~/Seed/shellshock$ &lt;span class=&#34;nb&#34;&gt;exit&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;nb&#34;&gt;exit&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;o&#34;&gt;[&lt;/span&gt;04/12/2018 09:27&lt;span class=&#34;o&#34;&gt;]&lt;/span&gt; seed@ubuntu:~/Seed/shellshock$
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;结论：bash子进程没有继承普通shell的变量 &lt;code&gt;$gu&lt;/code&gt; &lt;!-- raw HTML omitted --&gt;&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;
&lt;p&gt;普通环境变量与bash子进程中的环境变量 &lt;!-- raw HTML omitted --&gt;&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;div class=&#34;chroma&#34;&gt;
&lt;table class=&#34;lntable&#34;&gt;&lt;tr&gt;&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code&gt;&lt;span class=&#34;lnt&#34;&gt;1
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;2
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;3
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;4
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;5
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;6
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;7
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;8
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;9
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;
&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-shell&#34; data-lang=&#34;shell&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;o&#34;&gt;[&lt;/span&gt;04/12/2018 09:31&lt;span class=&#34;o&#34;&gt;]&lt;/span&gt; seed@ubuntu:~/Seed/shellshock$ &lt;span class=&#34;nb&#34;&gt;echo&lt;/span&gt; &lt;span class=&#34;nv&#34;&gt;$gu&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;hacker
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;o&#34;&gt;[&lt;/span&gt;04/12/2018 09:32&lt;span class=&#34;o&#34;&gt;]&lt;/span&gt; seed@ubuntu:~/Seed/shellshock$ &lt;span class=&#34;nb&#34;&gt;export&lt;/span&gt; gu
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;o&#34;&gt;[&lt;/span&gt;04/12/2018 09:32&lt;span class=&#34;o&#34;&gt;]&lt;/span&gt; seed@ubuntu:~/Seed/shellshock$ bash
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;o&#34;&gt;[&lt;/span&gt;04/12/2018 09:32&lt;span class=&#34;o&#34;&gt;]&lt;/span&gt; seed@ubuntu:~/Seed/shellshock$ &lt;span class=&#34;nb&#34;&gt;echo&lt;/span&gt; &lt;span class=&#34;nv&#34;&gt;$gu&lt;/span&gt; &lt;span class=&#34;c1&#34;&gt;#继承了环境变量&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;hacker
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;o&#34;&gt;[&lt;/span&gt;04/12/2018 09:32&lt;span class=&#34;o&#34;&gt;]&lt;/span&gt; seed@ubuntu:~/Seed/shellshock$ &lt;span class=&#34;nb&#34;&gt;exit&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;nb&#34;&gt;exit&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;o&#34;&gt;[&lt;/span&gt;04/12/2018 09:32&lt;span class=&#34;o&#34;&gt;]&lt;/span&gt; seed@ubuntu:~/Seed/shellshock$
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;结论：bash子进程继承了普通shell中定义的环境变量 &lt;code&gt;$gu&lt;/code&gt; &lt;!-- raw HTML omitted --&gt;&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;
&lt;p&gt;普通函数变量和bash子进程中的函数变量 &lt;!-- raw HTML omitted --&gt;&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;div class=&#34;chroma&#34;&gt;
&lt;table class=&#34;lntable&#34;&gt;&lt;tr&gt;&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code&gt;&lt;span class=&#34;lnt&#34;&gt;1
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;2
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;3
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;4
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;5
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;6
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;7
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;8
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;9
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;
&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-shell&#34; data-lang=&#34;shell&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;o&#34;&gt;[&lt;/span&gt;04/12/2018 09:37&lt;span class=&#34;o&#34;&gt;]&lt;/span&gt; seed@ubuntu:~/Seed/shellshock$ gu&lt;span class=&#34;o&#34;&gt;()&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;{&lt;/span&gt; &lt;span class=&#34;nb&#34;&gt;echo&lt;/span&gt; &lt;span class=&#34;s2&#34;&gt;&amp;#34;gu is a hacker&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;}&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;o&#34;&gt;[&lt;/span&gt;04/12/2018 09:37&lt;span class=&#34;o&#34;&gt;]&lt;/span&gt; seed@ubuntu:~/Seed/shellshock$ gu
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;gu is a hacker
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;o&#34;&gt;[&lt;/span&gt;04/12/2018 09:38&lt;span class=&#34;o&#34;&gt;]&lt;/span&gt; seed@ubuntu:~/Seed/shellshock$ bash
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;o&#34;&gt;[&lt;/span&gt;04/12/2018 09:38&lt;span class=&#34;o&#34;&gt;]&lt;/span&gt; seed@ubuntu:~/Seed/shellshock$ gu &lt;span class=&#34;c1&#34;&gt;# gu未被定义&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;gu: &lt;span class=&#34;nb&#34;&gt;command&lt;/span&gt; not found
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;o&#34;&gt;[&lt;/span&gt;04/12/2018 09:38&lt;span class=&#34;o&#34;&gt;]&lt;/span&gt; seed@ubuntu:~/Seed/shellshock$ &lt;span class=&#34;nb&#34;&gt;exit&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;nb&#34;&gt;exit&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;o&#34;&gt;[&lt;/span&gt;04/12/2018 09:38&lt;span class=&#34;o&#34;&gt;]&lt;/span&gt; seed@ubuntu:~/Seed/shellshock$
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;结论：bash子进程没有继承函数变量 &lt;code&gt;gu&lt;/code&gt; &lt;!-- raw HTML omitted --&gt;&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;
&lt;p&gt;函数环境变量和bash子进程中的函数环境变量 &lt;!-- raw HTML omitted --&gt;&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;div class=&#34;chroma&#34;&gt;
&lt;table class=&#34;lntable&#34;&gt;&lt;tr&gt;&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code&gt;&lt;span class=&#34;lnt&#34;&gt; 1
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 2
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 3
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 4
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 5
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 6
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 7
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 8
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 9
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;10
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;11
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;12
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;
&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-shell&#34; data-lang=&#34;shell&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;o&#34;&gt;[&lt;/span&gt;04/12/2018 09:41&lt;span class=&#34;o&#34;&gt;]&lt;/span&gt; seed@ubuntu:~/Seed/shellshock$ gu
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;gu is a hacker
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;o&#34;&gt;[&lt;/span&gt;04/12/2018 09:41&lt;span class=&#34;o&#34;&gt;]&lt;/span&gt; seed@ubuntu:~/Seed/shellshock$ &lt;span class=&#34;nb&#34;&gt;export&lt;/span&gt; -f gu
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;o&#34;&gt;[&lt;/span&gt;04/12/2018 09:41&lt;span class=&#34;o&#34;&gt;]&lt;/span&gt; seed@ubuntu:~/Seed/shellshock$ bash
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;o&#34;&gt;[&lt;/span&gt;04/12/2018 09:42&lt;span class=&#34;o&#34;&gt;]&lt;/span&gt; seed@ubuntu:~/Seed/shellshock$ gu &lt;span class=&#34;c1&#34;&gt;# inherit the environment variables gu&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;gu is a hacker
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;o&#34;&gt;[&lt;/span&gt;04/12/2018 09:42&lt;span class=&#34;o&#34;&gt;]&lt;/span&gt; seed@ubuntu:~/Seed/shellshock$ &lt;span class=&#34;nb&#34;&gt;exit&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;nb&#34;&gt;exit&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;o&#34;&gt;[&lt;/span&gt;04/12/2018 09:42&lt;span class=&#34;o&#34;&gt;]&lt;/span&gt; seed@ubuntu:~/Seed/shellshock$ env &lt;span class=&#34;p&#34;&gt;|&lt;/span&gt; grep gu
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;nv&#34;&gt;gu&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;hacker
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;nv&#34;&gt;gu&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=()&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;{&lt;/span&gt;  &lt;span class=&#34;nb&#34;&gt;echo&lt;/span&gt; &lt;span class=&#34;s2&#34;&gt;&amp;#34;gu is a hacker&amp;#34;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;o&#34;&gt;[&lt;/span&gt;04/12/2018 09:42&lt;span class=&#34;o&#34;&gt;]&lt;/span&gt; seed@ubuntu:~/Seed/shellshock$
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;结论：bash子进程继承了函数环境变量 &lt;code&gt;gu&lt;/code&gt; &lt;!-- raw HTML omitted --&gt;&lt;/p&gt;
&lt;h4 id=&#34;shellshock发生的原因&#34;&gt;shellshock发生的原因&lt;/h4&gt;
&lt;p&gt;接下来我们来尝试一点不一样的 &lt;!-- raw HTML omitted --&gt;&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;
&lt;p&gt;普通函数变量再尝试 &lt;!-- raw HTML omitted --&gt;&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;div class=&#34;chroma&#34;&gt;
&lt;table class=&#34;lntable&#34;&gt;&lt;tr&gt;&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code&gt;&lt;span class=&#34;lnt&#34;&gt; 1
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 2
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 3
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 4
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 5
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 6
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 7
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 8
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 9
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;10
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;11
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;12
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;13
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;14
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;15
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;16
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;
&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-shell&#34; data-lang=&#34;shell&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;o&#34;&gt;[&lt;/span&gt;04/12/2018 09:42&lt;span class=&#34;o&#34;&gt;]&lt;/span&gt; seed@ubuntu:~/Seed/shellshock$ &lt;span class=&#34;nv&#34;&gt;ailx10&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;s1&#34;&gt;&amp;#39;() {  echo &amp;#34;ailx10 is a hacker&amp;#34;;}&amp;#39;&lt;/span&gt; &lt;span class=&#34;c1&#34;&gt;# 普通函数变量&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;o&#34;&gt;[&lt;/span&gt;04/12/2018 09:48&lt;span class=&#34;o&#34;&gt;]&lt;/span&gt; seed@ubuntu:~/Seed/shellshock$ &lt;span class=&#34;nb&#34;&gt;export&lt;/span&gt; -nf gu &lt;span class=&#34;c1&#34;&gt;# 删除环境函数变量gu&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;o&#34;&gt;[&lt;/span&gt;04/12/2018 09:48&lt;span class=&#34;o&#34;&gt;]&lt;/span&gt; seed@ubuntu:~/Seed/shellshock$ &lt;span class=&#34;nb&#34;&gt;export&lt;/span&gt; -n gu &lt;span class=&#34;c1&#34;&gt;# 删除环境变量gu&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;o&#34;&gt;[&lt;/span&gt;04/12/2018 09:49&lt;span class=&#34;o&#34;&gt;]&lt;/span&gt; seed@ubuntu:~/Seed/shellshock$ &lt;span class=&#34;nb&#34;&gt;export&lt;/span&gt; -f ailx10 &lt;span class=&#34;c1&#34;&gt;# 保存环境函数变量，失败&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;bash: export: ailx10: not a &lt;span class=&#34;k&#34;&gt;function&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;o&#34;&gt;[&lt;/span&gt;04/12/2018 09:49&lt;span class=&#34;o&#34;&gt;]&lt;/span&gt; seed@ubuntu:~/Seed/shellshock$ &lt;span class=&#34;nb&#34;&gt;export&lt;/span&gt; ailx10 &lt;span class=&#34;c1&#34;&gt;# 保存环境变量，成功&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;o&#34;&gt;[&lt;/span&gt;04/12/2018 09:49&lt;span class=&#34;o&#34;&gt;]&lt;/span&gt; seed@ubuntu:~/Seed/shellshock$ bash &lt;span class=&#34;c1&#34;&gt;# 进入Bash子进程&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;o&#34;&gt;[&lt;/span&gt;04/12/2018 09:50&lt;span class=&#34;o&#34;&gt;]&lt;/span&gt; seed@ubuntu:~/Seed/shellshock$ ailx10 &lt;span class=&#34;c1&#34;&gt;#ailx10 函数被继承&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;ailx10 is a hacker
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;o&#34;&gt;[&lt;/span&gt;04/12/2018 09:50&lt;span class=&#34;o&#34;&gt;]&lt;/span&gt; seed@ubuntu:~/Seed/shellshock$ env &lt;span class=&#34;p&#34;&gt;|&lt;/span&gt; grep ailx10 &lt;span class=&#34;c1&#34;&gt;# Pattern &amp;#34;(){ :; }&amp;#34; 被当作环境变量保存了（因此能够被进程）&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;nv&#34;&gt;ailx10&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=()&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;{&lt;/span&gt;  &lt;span class=&#34;nb&#34;&gt;echo&lt;/span&gt; &lt;span class=&#34;s2&#34;&gt;&amp;#34;ailx10 is a hacker&amp;#34;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;o&#34;&gt;[&lt;/span&gt;04/12/2018 09:50&lt;span class=&#34;o&#34;&gt;]&lt;/span&gt; seed@ubuntu:~/Seed/shellshock$ &lt;span class=&#34;nb&#34;&gt;exit&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;nb&#34;&gt;exit&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;o&#34;&gt;[&lt;/span&gt;04/12/2018 09:50&lt;span class=&#34;o&#34;&gt;]&lt;/span&gt; seed@ubuntu:~/Seed/shellshock$ env &lt;span class=&#34;p&#34;&gt;|&lt;/span&gt; grep ailx10
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;nv&#34;&gt;ailx10&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=()&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;{&lt;/span&gt;  &lt;span class=&#34;nb&#34;&gt;echo&lt;/span&gt; &lt;span class=&#34;s2&#34;&gt;&amp;#34;ailx10 is a hacker&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;}&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;o&#34;&gt;[&lt;/span&gt;04/12/2018 09:50&lt;span class=&#34;o&#34;&gt;]&lt;/span&gt; seed@ubuntu:~/Seed/shellshock$
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;结论：因为我们再定义函数 &lt;code&gt;ailx10&lt;/code&gt; 的时候，用了 &lt;code&gt;(){ :; }&lt;/code&gt; ，所以无法被识别为环境函数变量，被当作是环境变量保存了 &lt;!-- raw HTML omitted --&gt;&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;
&lt;p&gt;() { :; }再尝试 &lt;!-- raw HTML omitted --&gt;&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;div class=&#34;chroma&#34;&gt;
&lt;table class=&#34;lntable&#34;&gt;&lt;tr&gt;&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code&gt;&lt;span class=&#34;lnt&#34;&gt;1
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;2
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;3
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;4
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;5
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;6
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;7
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;8
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;
&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-shell&#34; data-lang=&#34;shell&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;o&#34;&gt;[&lt;/span&gt;04/12/2018 09:57&lt;span class=&#34;o&#34;&gt;]&lt;/span&gt; seed@ubuntu:~/Seed/shellshock$ &lt;span class=&#34;nv&#34;&gt;ailx10&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;s1&#34;&gt;&amp;#39;() { :; };/bin/ls&amp;#39;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;o&#34;&gt;[&lt;/span&gt;04/12/2018 09:58&lt;span class=&#34;o&#34;&gt;]&lt;/span&gt; seed@ubuntu:~/Seed/shellshock$ &lt;span class=&#34;nb&#34;&gt;export&lt;/span&gt; ailx10 &lt;span class=&#34;c1&#34;&gt;# 当作环境变量保存&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;o&#34;&gt;[&lt;/span&gt;04/12/2018 09:58&lt;span class=&#34;o&#34;&gt;]&lt;/span&gt; seed@ubuntu:~/Seed/shellshock$ bash &lt;span class=&#34;c1&#34;&gt;# /bin/ls 作为环境变量却被执行了&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;curl-7.20.0     myls      myls.c      myprog.cgi.1  readme.txt
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;curl-7.20.0.tar.gz  myls-notroot  myprog.cgi  myprog.cgi.2
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;o&#34;&gt;[&lt;/span&gt;04/12/2018 09:58&lt;span class=&#34;o&#34;&gt;]&lt;/span&gt; seed@ubuntu:~/Seed/shellshock$ &lt;span class=&#34;nb&#34;&gt;exit&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;nb&#34;&gt;exit&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;o&#34;&gt;[&lt;/span&gt;04/12/2018 09:58&lt;span class=&#34;o&#34;&gt;]&lt;/span&gt; seed@ubuntu:~/Seed/shellshock$
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;至此，我们可以总结 Shellshock 漏洞产生的原因 &lt;!-- raw HTML omitted --&gt;&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;定义环境函数变量的时候，Bash错误的识别了 &lt;code&gt;() { :; }&lt;/code&gt; 这种格式，被当作的是环境变量保存了 &lt;!-- raw HTML omitted --&gt;&lt;/li&gt;
&lt;li&gt;调用新的bash子进程 &lt;!-- raw HTML omitted --&gt;&lt;/li&gt;
&lt;li&gt;环境变量被继承，并执行，导致恶意代码被执行 &lt;!-- raw HTML omitted --&gt;&lt;/li&gt;
&lt;/ol&gt;
&lt;!-- raw HTML omitted --&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;验证Shellshock的方法&lt;/p&gt;
&lt;p&gt;&lt;figure&gt;&lt;img src=&#34;https://ginkgo.org.cn/ox-hugo/2022-05-22_11-40-34_screenshot.png&#34; width=&#34;700px&#34;/&gt;
    &lt;/figure&gt;
 &lt;!-- raw HTML omitted --&gt;&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;div class=&#34;chroma&#34;&gt;
&lt;table class=&#34;lntable&#34;&gt;&lt;tr&gt;&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code&gt;&lt;span class=&#34;lnt&#34;&gt;1
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;
&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;env &lt;span class=&#34;nv&#34;&gt;x&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;s1&#34;&gt;&amp;#39;() { :;}; echo vulnerable&amp;#39;&lt;/span&gt; bash -c &lt;span class=&#34;s2&#34;&gt;&amp;#34;echo this is a test&amp;#34;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;&lt;ol&gt;
&lt;li&gt;
&lt;p&gt;第一部分会被Bash解析为一个环境变量进行保存 &lt;!-- raw HTML omitted --&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;第二部分为需要执行的恶意指令 &lt;!-- raw HTML omitted --&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;第三部分为调用一个bash子进程，同时会继承环境变量并执行恶意指令， &lt;code&gt;-c&lt;/code&gt; 用来在新的bash下执行代码以表明新bash子进程启动成功 &lt;!-- raw HTML omitted --&gt;&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;div class=&#34;chroma&#34;&gt;
&lt;table class=&#34;lntable&#34;&gt;&lt;tr&gt;&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code&gt;&lt;span class=&#34;lnt&#34;&gt;1
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;2
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;3
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;4
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;5
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;6
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;7
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;8
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;
&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-shell&#34; data-lang=&#34;shell&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;o&#34;&gt;[&lt;/span&gt;04/12/2018 10:14&lt;span class=&#34;o&#34;&gt;]&lt;/span&gt; seed@ubuntu:~/Seed/shellshock$ env &lt;span class=&#34;nv&#34;&gt;x&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;s1&#34;&gt;&amp;#39;() { :;}; echo vulnerable&amp;#39;&lt;/span&gt; bash -c &lt;span class=&#34;s2&#34;&gt;&amp;#34;echo this is a test&amp;#34;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;vulnerable
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;this is a &lt;span class=&#34;nb&#34;&gt;test&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;o&#34;&gt;[&lt;/span&gt;04/12/2018 10:14&lt;span class=&#34;o&#34;&gt;]&lt;/span&gt; seed@ubuntu:~/Seed/shellshock$ 
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;o&#34;&gt;[&lt;/span&gt;04/12/2018 10:14&lt;span class=&#34;o&#34;&gt;]&lt;/span&gt; seed@ubuntu:~/Seed/shellshock$ 
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;o&#34;&gt;[&lt;/span&gt;04/12/2018 10:14&lt;span class=&#34;o&#34;&gt;]&lt;/span&gt; seed@ubuntu:~/Seed/shellshock$ env &lt;span class=&#34;nv&#34;&gt;x&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;s1&#34;&gt;&amp;#39;() { :;}; echo vulnerable&amp;#39;&lt;/span&gt; bash -c :
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;vulnerable
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;o&#34;&gt;[&lt;/span&gt;04/12/2018 10:14&lt;span class=&#34;o&#34;&gt;]&lt;/span&gt; seed@ubuntu:~/Seed/shellshock$
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;需要注意的是 &lt;code&gt;&#39;:&#39;&lt;/code&gt; 什么也不做是一个空命令，相当于 &lt;code&gt;::&lt;/code&gt; &lt;!-- raw HTML omitted --&gt;&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;div class=&#34;chroma&#34;&gt;
&lt;table class=&#34;lntable&#34;&gt;&lt;tr&gt;&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code&gt;&lt;span class=&#34;lnt&#34;&gt;1
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;2
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;3
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;4
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;5
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;
&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-shell&#34; data-lang=&#34;shell&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;$ &lt;span class=&#34;k&#34;&gt;if&lt;/span&gt; true&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt; &lt;span class=&#34;k&#34;&gt;then&lt;/span&gt; &lt;span class=&#34;nb&#34;&gt;echo&lt;/span&gt; yes&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt; &lt;span class=&#34;k&#34;&gt;fi&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;yes
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;$ &lt;span class=&#34;k&#34;&gt;if&lt;/span&gt; :&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt; &lt;span class=&#34;k&#34;&gt;then&lt;/span&gt; &lt;span class=&#34;nb&#34;&gt;echo&lt;/span&gt; yes&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt; &lt;span class=&#34;k&#34;&gt;fi&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;yes
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;$
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;h4 id=&#34;shellshock-的危害&#34;&gt;shellshock 的危害&lt;/h4&gt;
&lt;p&gt;可以被用来反弹shell？ &lt;!-- raw HTML omitted --&gt;&lt;/p&gt;
&lt;p&gt;&lt;figure&gt;&lt;img src=&#34;https://ginkgo.org.cn/ox-hugo/2022-05-22_11-52-01_screenshot.png&#34; width=&#34;700px&#34;/&gt;
&lt;/figure&gt;
 &lt;!-- raw HTML omitted --&gt;&lt;/p&gt;
&lt;h3 id=&#34;web应用中的条件竞争漏洞&#34;&gt;Web应用中的条件竞争漏洞&lt;/h3&gt;
&lt;p&gt;条件竞争主要就是在于多线程的访问并修改服务端的资源，因为没有控制好多个线程之间的执行次序，没有很好的上锁，导致他们访问的数据不同步，从而导致最后的数据出现错误。 &lt;!-- raw HTML omitted --&gt;&lt;/p&gt;
&lt;p&gt;这个我们在做CTF的时候应该也有遇到过，比如通过&lt;a class=&#34;link&#34; href=&#34;https://ginkgo.org.cn/posts/file_upload_ggctf_upload/#%E6%9D%A1%E4%BB%B6%E7%AB%9E%E4%BA%89&#34;  target=&#34;_blank&#34; rel=&#34;noopener&#34;
    &gt;条件竞争绕过的文件上传漏洞&lt;/a&gt; &lt;!-- raw HTML omitted --&gt;&lt;/p&gt;
&lt;h3 id=&#34;appendix&#34;&gt;Appendix&lt;/h3&gt;
&lt;h4 id=&#34;env&#34;&gt;env&lt;/h4&gt;
&lt;p&gt;&lt;a class=&#34;link&#34; href=&#34;https://linux.die.net/man/1/env&#34;  target=&#34;_blank&#34; rel=&#34;noopener&#34;
    &gt;https://linux.die.net/man/1/env&lt;/a&gt; &lt;!-- raw HTML omitted --&gt;
Name &lt;!-- raw HTML omitted --&gt;
env - run a program in a modified environment &lt;!-- raw HTML omitted --&gt;
Synopsis &lt;!-- raw HTML omitted --&gt;
env [OPTION]&amp;hellip; [-] [NAME=VALUE]&amp;hellip; [COMMAND [ARG]&amp;hellip;] &lt;!-- raw HTML omitted --&gt;
Description &lt;!-- raw HTML omitted --&gt;&lt;/p&gt;
&lt;p&gt;Set each NAME to VALUE in the environment and run COMMAND. &lt;!-- raw HTML omitted --&gt;&lt;/p&gt;
&lt;p&gt;-i, &amp;ndash;ignore-environment &lt;!-- raw HTML omitted --&gt;
start with an empty environment &lt;!-- raw HTML omitted --&gt;
-0, &amp;ndash;null &lt;!-- raw HTML omitted --&gt;
end each output line with 0 byte rather than newline &lt;!-- raw HTML omitted --&gt;
-u, &amp;ndash;unset=NAME &lt;!-- raw HTML omitted --&gt;
remove variable from the environment &lt;!-- raw HTML omitted --&gt;
&amp;ndash;help &lt;!-- raw HTML omitted --&gt;
display this help and exit &lt;!-- raw HTML omitted --&gt;
&amp;ndash;version &lt;!-- raw HTML omitted --&gt;
output version information and exit &lt;!-- raw HTML omitted --&gt;&lt;/p&gt;
&lt;p&gt;A mere - implies -i. If no COMMAND, print the resulting environment. &lt;!-- raw HTML omitted --&gt;&lt;/p&gt;
&lt;h4 id=&#34;export&#34;&gt;export&lt;/h4&gt;
&lt;p&gt;NAME &lt;!-- raw HTML omitted --&gt;
export - Set export attribute for shell variables. &lt;!-- raw HTML omitted --&gt;&lt;/p&gt;
&lt;p&gt;SYNOPSIS &lt;!-- raw HTML omitted --&gt;
export [-fn] [name[=value] &amp;hellip;] or export -p &lt;!-- raw HTML omitted --&gt;&lt;/p&gt;
&lt;p&gt;DESCRIPTION &lt;!-- raw HTML omitted --&gt;
Set export attribute for shell variables. &lt;!-- raw HTML omitted --&gt;&lt;/p&gt;
&lt;p&gt;Marks each NAME for automatic export to the environment of subsequently &lt;!-- raw HTML omitted --&gt;
executed commands.  If VALUE is supplied, assign VALUE before exporting. &lt;!-- raw HTML omitted --&gt;&lt;/p&gt;
&lt;p&gt;Options: &lt;!-- raw HTML omitted --&gt;
-f	refer to shell functions &lt;!-- raw HTML omitted --&gt;
-n	remove the export property from each NAME &lt;!-- raw HTML omitted --&gt;
-p	display a list of all exported variables and functions &lt;!-- raw HTML omitted --&gt;&lt;/p&gt;
&lt;p&gt;An argument of `&amp;ndash;&amp;rsquo; disables further option processing. &lt;!-- raw HTML omitted --&gt;&lt;/p&gt;
&lt;p&gt;Exit Status: &lt;!-- raw HTML omitted --&gt;
Returns success unless an invalid option is given or NAME is invalid. &lt;!-- raw HTML omitted --&gt;&lt;/p&gt;
&lt;p&gt;SEE ALSO &lt;!-- raw HTML omitted --&gt;
bash(1) &lt;!-- raw HTML omitted --&gt;&lt;/p&gt;
&lt;p&gt;IMPLEMENTATION &lt;!-- raw HTML omitted --&gt;
GNU bash, version 5.0.17(1)-release (x86_64-redhat-linux-gnu) &lt;!-- raw HTML omitted --&gt;
Copyright (C) 2019 Free Software Foundation, Inc. &lt;!-- raw HTML omitted --&gt;
License GPLv3+: GNU GPL version 3 or later &lt;a class=&#34;link&#34; href=&#34;http://gnu.org/licenses/gpl.html&#34;  target=&#34;_blank&#34; rel=&#34;noopener&#34;
    &gt;http://gnu.org/licenses/gpl.html&lt;/a&gt; &lt;!-- raw HTML omitted --&gt;&lt;/p&gt;
&lt;h3 id=&#34;reference&#34;&gt;Reference&lt;/h3&gt;
&lt;p&gt;&lt;a class=&#34;link&#34; href=&#34;https://www.owasp.org/images/1/1b/Shellshock_-_Tudor_Enache.pdf&#34;  target=&#34;_blank&#34; rel=&#34;noopener&#34;
    &gt;OWASP:Shellshock&lt;/a&gt; &lt;!-- raw HTML omitted --&gt;&lt;/p&gt;
&lt;p&gt;&lt;a class=&#34;link&#34; href=&#34;https://zhuanlan.zhihu.com/p/35579956&#34;  target=&#34;_blank&#34; rel=&#34;noopener&#34;
    &gt;什么是ShellShock攻击？&lt;/a&gt; &lt;!-- raw HTML omitted --&gt;&lt;/p&gt;
</description>
        </item>
        <item>
        <title>DLC EXAM Preparation Notes</title>
        <link>https://ginkgo.org.cn/posts/dlc_exam_preparation_notes/</link>
        <pubDate>Fri, 13 May 2022 00:00:00 +0000</pubDate>
        
        <guid>https://ginkgo.org.cn/posts/dlc_exam_preparation_notes/</guid>
        <description>&lt;h2 id=&#34;dlc-exam-preparation-notes&#34;&gt;DLC EXAM Preparation Notes&lt;/h2&gt;
&lt;h3 id=&#34;week-4&#34;&gt;Week 4&lt;/h3&gt;
&lt;h4 id=&#34;byzantine-faults-and-cap-theorem&#34;&gt;Byzantine Faults and CAP Theorem&lt;/h4&gt;
&lt;!-- raw HTML omitted --&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;Byzantine General Problems 拜占庭将军问题，也是分布式计算中的投票问题&lt;/p&gt;
&lt;p&gt;即当有9位将军协同作战，现在他们遇到了麻烦，需要决定是撤退还是继续进攻，他们通过投票来决定最后的决定，4位进攻，4位撤退，一位背叛者告诉一边他们会进攻，告诉另一边他们会撤退，导致协同作战失败。 &lt;!-- raw HTML omitted --&gt;&lt;/p&gt;
&lt;p&gt;那么Bitcoin是如何解决这个问题的呢，即使用PoW算法，使发送一条虚假的消息的成本变得很高 &lt;!-- raw HTML omitted --&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;!-- raw HTML omitted --&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;Database on ACID&lt;/p&gt;
&lt;p&gt;ACID,即是为了保证数据库的所有业务的办理是可靠的，需要具备的四个特性的缩写 &lt;!-- raw HTML omitted --&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Atomicity 原子性，即所有的操作都必须完整的进行，如果期间发生错误，即整一个过程全部回滚，当作没有发生过 &lt;!-- raw HTML omitted --&gt;&lt;/li&gt;
&lt;li&gt;Consistency一致性，保证数据库的完整性没有被破坏，所有的操作都需要符合标准 &lt;!-- raw HTML omitted --&gt;&lt;/li&gt;
&lt;li&gt;Isolation隔离性，即防止多个操作处理同一个数据，导致竞争出现混乱 &lt;!-- raw HTML omitted --&gt;&lt;/li&gt;
&lt;li&gt;Durability持久性，所有的处理完成后都可以长期保存，不会丢失和更改 &lt;!-- raw HTML omitted --&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;那么当数据库变大了之后，这四个特性就会收到挑战。 &lt;!-- raw HTML omitted --&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;!-- raw HTML omitted --&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;CAP Theorem&lt;/p&gt;
&lt;p&gt;CAP为三个对于实现分布式数据库的挑战的简写 &lt;!-- raw HTML omitted --&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Consistency of data,一致性，所有的节点在访问分布式的数据库时，能够保证访问的都是最新的数据 &lt;!-- raw HTML omitted --&gt;&lt;/li&gt;
&lt;li&gt;Availability of data，可用性，每次请求都能获得不报错的响应（但不保证获取的一定是最新的数据） &lt;!-- raw HTML omitted --&gt;&lt;/li&gt;
&lt;li&gt;Partition-tolerance，分区容错性，当一致性无法表达的时候，就会产生分歧， &lt;!-- raw HTML omitted --&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;根据定力，分布式系统只能保证三项中的两项 &lt;!-- raw HTML omitted --&gt;&lt;/p&gt;
&lt;p&gt;一般来说，Partition-tolerance必须得到保证，因此只能在Availability和Consistency之间进行选择 &lt;!-- raw HTML omitted --&gt;&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;选择Consistency一致性，那么响应的时间可能会变长 &lt;!-- raw HTML omitted --&gt;&lt;/li&gt;
&lt;li&gt;选择Availability，那么需要保证响应的时间是即时的 &lt;!-- raw HTML omitted --&gt;&lt;/li&gt;
&lt;/ol&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;h4 id=&#34;consensus-protocols&#34;&gt;Consensus Protocols&lt;/h4&gt;
&lt;!-- raw HTML omitted --&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;Proof of Work (Pow)&lt;/p&gt;
&lt;p&gt;How it works
: 通过让mining node通过改变block header中的nonce来不断的改变block header hash的值，使其小于block header中target的值 &lt;!-- raw HTML omitted --&gt;&lt;/p&gt;
&lt;p&gt;后果 &lt;!-- raw HTML omitted --&gt;
-   大量的资源消耗，运行算力机器以及冷却机器所要消耗的电费 &lt;!-- raw HTML omitted --&gt;&lt;/p&gt;
&lt;pre&gt;&lt;code&gt; -   大量的计算群 &amp;lt;br/&amp;gt;

 -   集中的mining power &amp;lt;br/&amp;gt;
&lt;/code&gt;&lt;/pre&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;!-- raw HTML omitted --&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;Proof of Stake (PoS)&lt;/p&gt;
&lt;p&gt;Proof of Stake不需要再向PoW那样消耗大量的算力以及电力资源来互相竞争，永远要记住一点的就是mining的过程本身不是为了加密货币，而是为了维持整一个区块链上的安全。 &lt;!-- raw HTML omitted --&gt;&lt;/p&gt;
&lt;p&gt;比如以太坊，他们要求想要成为 validator 的用户抵押一部分的虚拟货币，然后随机选择一名validator来进行新的block的创造以及transaction的验证，你抵押的越多，也就越容易成为validator。 &lt;!-- raw HTML omitted --&gt;&lt;/p&gt;
&lt;p&gt;那么如何避免用户的不良行为呢，PoW通过大量的运算提高了成本，而PoS中，则是使用抵押的机制来防止产生不良的行为，如果发生了他们就丧失他们抵押的虚拟货币 &lt;!-- raw HTML omitted --&gt;&lt;/p&gt;
&lt;p&gt;在PoS中，人们会倾向与合作，而不是PoW中的竞争，他们可以将资源集中起来，从而获得更大的机会来成为validator &lt;!-- raw HTML omitted --&gt;&lt;/p&gt;
&lt;p&gt;在PoS中，51% attack对于attacker来说也十分危险，因为他们需要抵押大量的货币来得到validator的地位，那么一旦遭受惩罚，损失将会是巨大的 &lt;!-- raw HTML omitted --&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;!-- raw HTML omitted --&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;Proof of Authority&lt;/p&gt;
&lt;p&gt;Block的创建以及transaction的校验工作被轮流分配到可信的权威机构或者组织身上，这些组织可能需要抵押一部分的资金来成为可靠的节点，进入轮值列表 &lt;!-- raw HTML omitted --&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;!-- raw HTML omitted --&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;Other turn-taking protocols&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Protocol来直接决定那个节点来完成工作 &lt;!-- raw HTML omitted --&gt;
&lt;ul&gt;
&lt;li&gt;随机分配 &lt;!-- raw HTML omitted --&gt;&lt;/li&gt;
&lt;li&gt;轮流 &lt;!-- raw HTML omitted --&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;Proof of Elapsed Time (PoET) hardware: &lt;!-- raw HTML omitted --&gt;
&lt;ul&gt;
&lt;li&gt;只有特定的硬件才能完成工作 &lt;!-- raw HTML omitted --&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;h4 id=&#34;consensus-attacks&#34;&gt;Consensus attacks&lt;/h4&gt;
&lt;!-- raw HTML omitted --&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;Sybil attacks&lt;/p&gt;
&lt;p&gt;女巫攻击，攻击者通过利用proxy代理来伪造多个身份来对整一个decentralised consensus机制进行攻击，但同样也需要大量的hash power，因为即使你控制了很多节点，那也需要能够在这些节点上面来完成PoW才行 &lt;!-- raw HTML omitted --&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id=&#34;week-8-dlt-infrastructure-and-platforms&#34;&gt;Week 8: DLT Infrastructure &amp;amp; Platforms&lt;/h3&gt;
&lt;p&gt;Bitcoin blockchain最主要的目的是为了防住double-spending（通过增加修改一个block所需要的cost，特别是当多个block都确认信息之后） &lt;!-- raw HTML omitted --&gt;&lt;/p&gt;
&lt;h4 id=&#34;ethereum&#34;&gt;Ethereum&lt;/h4&gt;
&lt;!-- raw HTML omitted --&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;What is Ethereum&lt;/p&gt;
&lt;p&gt;在Ethereum宇宙中，有一个唯一的虚拟的机器叫做EVM（Ethereum Virtual Machine）,所有参与Ethereum网络的用户都认可的一个机器，用来记录整个网络包括用户的状态。 &lt;!-- raw HTML omitted --&gt;&lt;/p&gt;
&lt;p&gt;EVM类似于bitcoin中每一个full node所存储的database，当有transaction产生之后，将会被广播到整一个Ehthereum网络当中，被验证并加入的新的block当中，然后作为一条指令被EVM做执行，所有的node上都有一份完整的EVM的拷贝，每一条transaction都相当于是对EVM这个机器发出的指令，让其进行一些操作造成状态的改变。 &lt;!-- raw HTML omitted --&gt;&lt;/p&gt;
&lt;p&gt;global computers &lt;!-- raw HTML omitted --&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;!-- raw HTML omitted --&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;What is Ether&lt;/p&gt;
&lt;p&gt;Ether就是Ethereum中的所使用的cryptocurrency，其作用是为了激励miner积极的转发，验证transaction，来维护整个一个blockchain，同时也可以防止发生DDoS攻击，因为每个transaction都需要支付一定的费用。 &lt;!-- raw HTML omitted --&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;!-- raw HTML omitted --&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;What is Smart contracts&lt;/p&gt;
&lt;p&gt;Smart contracts 智能合约，本质上是一个个在EVM上的程序（一组代码指令），用户可以通过发送对应的变量参数同时支付一定的Eth来发起一个transaction，而一个miner讲在其本地的EVM上的所对应的smart contract程序上输入参数执行这个程序，完成相应的工作。 &lt;!-- raw HTML omitted --&gt;&lt;/p&gt;
&lt;p&gt;程序员通过向EVM中上传这些开发的智能合约程序，就可以在EVM的基础上搭建应用程序供用户调用使用。 &lt;!-- raw HTML omitted --&gt;&lt;/p&gt;
&lt;p&gt;同时也被叫做dapps, or Decentralised Apps. &lt;!-- raw HTML omitted --&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;!-- raw HTML omitted --&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;Transaction&lt;/p&gt;
&lt;p&gt;Ethereum中的transaction是丰富多样的，例如： &lt;!-- raw HTML omitted --&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Send X ether from my account to Alice&amp;rsquo;s account. &lt;!-- raw HTML omitted --&gt;&lt;/li&gt;
&lt;li&gt;Publish some smart contract code into EVM state. &lt;!-- raw HTML omitted --&gt;&lt;/li&gt;
&lt;li&gt;Execute the code of the smart contract at address X in the EVM, with arguments Y. &lt;!-- raw HTML omitted --&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;!-- raw HTML omitted --&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;GAS&lt;/p&gt;
&lt;p&gt;GAS，汽油，顾名思义，是用来驱动Ethereum工作的一个东西。 &lt;!-- raw HTML omitted --&gt;&lt;/p&gt;
&lt;p&gt;我们从上面的介绍中了解，用户可以发起 transaction 来转移ETH,也可以发送对应的参数来执行smart contracts,那么这些工作都需要消耗计算机资源，那么GAS就作为费用来驱动计算机资源为用户服务， &lt;!-- raw HTML omitted --&gt;&lt;/p&gt;
&lt;p&gt;GAS cost
:&lt;/p&gt;
&lt;p&gt;你需要执行多大的smart contracts程序 &lt;!-- raw HTML omitted --&gt;&lt;/p&gt;
&lt;p&gt;你需要执行的速度有多快 &lt;!-- raw HTML omitted --&gt;&lt;/p&gt;
&lt;p&gt;Gas price (measure in ETH) &lt;!-- raw HTML omitted --&gt;&lt;/p&gt;
&lt;p&gt;用户在发起transaction的时候可以决定想要花费多少GAS来作为报酬 &lt;!-- raw HTML omitted --&gt;&lt;/p&gt;
&lt;p&gt;Total processing fee in ETH = &lt;!-- raw HTML omitted --&gt;&lt;/p&gt;
&lt;p&gt;Gas limit (total # of gas to be used) X gas price in ETH. &lt;!-- raw HTML omitted --&gt;&lt;/p&gt;
&lt;p&gt;Transaction的执行具有Atomicity原子性（我觉得是这样），即如果transaction的执行失败了，或者未完成，gas不会退回，因为确实已经占用了计算机资源，但是EVM的状态不会发生任何改变。 &lt;!-- raw HTML omitted --&gt;&lt;/p&gt;
&lt;!-- raw HTML omitted --&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;Why have Ethereum Gas?&lt;/p&gt;
&lt;p&gt;可以用于减少infinite loops 以及防止DoS attack的发生， &lt;!-- raw HTML omitted --&gt;&lt;/p&gt;
&lt;p&gt;因为最终支付的有限的Gas将被用完，并且attacker需要付出gas才能继续工作 &lt;!-- raw HTML omitted --&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;!-- raw HTML omitted --&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;Cryptokitties problem&lt;/p&gt;
&lt;p&gt;Cryptokitties刚出来的时候，大量的transaction突然涌入整一个Ethereum，Miners提高了他们的gas几个，导致很多老的用户还在自动的支付较低的gas，导致很多transaction并不会被处理与执行 &lt;!-- raw HTML omitted --&gt;&lt;/p&gt;
&lt;p&gt;解决的方法： &lt;!-- raw HTML omitted --&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;短期：修改前端页面来允许用户增加他们的gas费用并重新提交transaction &lt;!-- raw HTML omitted --&gt;&lt;/li&gt;
&lt;li&gt;长期：将类似的app转移到sidechains来执行，即只有一部分人可以执行和运行特定的transaction，而不会影响主链上的nodes &lt;!-- raw HTML omitted --&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;!-- raw HTML omitted --&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;Ethereum Enterprise&lt;/p&gt;
&lt;p&gt;企业和组织可以在Ethereum上开辟permissioned chains来实现自己的一个blockchain，他们会重新开发EVM的code来接收和转发特定的transaction，这些transaction与主链上的node并不兼容，但是却可以在特定的一些参与到这个sidechain上的node之间进行交互 &lt;!-- raw HTML omitted --&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;h4 id=&#34;corda&#34;&gt;Corda&lt;/h4&gt;
&lt;p&gt;designed for private transactions &lt;!-- raw HTML omitted --&gt;&lt;/p&gt;
&lt;p&gt;enterprise version is called R3 Corda. &lt;!-- raw HTML omitted --&gt;
Design &lt;!-- raw HTML omitted --&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;Consensus &lt;!-- raw HTML omitted --&gt;&lt;/p&gt;
&lt;p&gt;只有参与本次transaction的机构才能看到和参与这个transaction &lt;!-- raw HTML omitted --&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Validation &lt;!-- raw HTML omitted --&gt;&lt;/p&gt;
&lt;p&gt;只有合法的利益相关者才会进行transaction的验证 &lt;!-- raw HTML omitted --&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Use of Independent notaries &lt;!-- raw HTML omitted --&gt;&lt;/p&gt;
&lt;p&gt;独立的第三方公证处会帮助完成时间的验证（什么时候做出的交易），以及防止transaction发生两次 &lt;!-- raw HTML omitted --&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Focus on inter-operability &lt;!-- raw HTML omitted --&gt;
确保法律条文能够绑定，以及老旧的内部系统能够参与合作 &lt;!-- raw HTML omitted --&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;!-- raw HTML omitted --&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;Corda的特性&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;Transactions private to the parties involved &lt;!-- raw HTML omitted --&gt;&lt;/p&gt;
&lt;p&gt;– Witnessed by notaries 只有公证处才能看得到 &lt;!-- raw HTML omitted --&gt;&lt;/p&gt;
&lt;p&gt;– Only participants to a transaction can view it 只有参与transaction的组织才能知道transaction的存在与参与其中 &lt;!-- raw HTML omitted --&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;!-- raw HTML omitted --&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;No single chain &lt;!-- raw HTML omitted --&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;No global state &lt;!-- raw HTML omitted --&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;No native crypto-currency &lt;!-- raw HTML omitted --&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Records an explicit link between legal code and smart contracts &lt;!-- raw HTML omitted --&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Supports a variety of consensus mechanisms &lt;!-- raw HTML omitted --&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Can include transaction within arbitrary workflows. &lt;!-- raw HTML omitted --&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;Corda中也没有block的概念，所有的transaction都是实时处理的，意味着不需要等待block被添加才能被确认， &lt;!-- raw HTML omitted --&gt;&lt;/p&gt;
&lt;p&gt;金融机构对Corda感兴趣的主要原因就是可以自动化繁琐的工作流，比如学校的注册，就需要一系列的工作流，他们如果能被自动化，并记录在blockchain上面，就会方便很多。 &lt;!-- raw HTML omitted --&gt;&lt;/p&gt;
&lt;p&gt;&lt;a class=&#34;link&#34; href=&#34;https://www.r3.com/blockchain-101/&#34;  target=&#34;_blank&#34; rel=&#34;noopener&#34;
    &gt;https://www.r3.com/blockchain-101/&lt;/a&gt; &lt;!-- raw HTML omitted --&gt;
Peers have a single shared ledger — once the transaction is validated, the record is permanent, secure and immutable. &lt;!-- raw HTML omitted --&gt;&lt;/p&gt;
&lt;p&gt;A smart contract — code running on top of a blockchain that contains a set of rules under which the parties mutually agree — eliminates the need for third parties. &lt;!-- raw HTML omitted --&gt;&lt;/p&gt;
&lt;p&gt;Owner of the transaction has the power to move anything of value freely and instantly without intermediaries. &lt;!-- raw HTML omitted --&gt;&lt;/p&gt;
&lt;p&gt;Eliminates or reduces paper processes, need for intermediaries, speeds up transaction times and increases efficiencies and transparency. &lt;!-- raw HTML omitted --&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;h4 id=&#34;hyperledger&#34;&gt;Hyperledger&lt;/h4&gt;
&lt;p&gt;a family of platforms &lt;!-- raw HTML omitted --&gt;
作为基础设施，然后加入的组织可以在其基础设施上搭建自己的服务 &lt;!-- raw HTML omitted --&gt;&lt;/p&gt;
&lt;p&gt;Different large IT companies, financial institutions join the Hyperledger as members and run a family of platforms &lt;!-- raw HTML omitted --&gt;&lt;/p&gt;
&lt;p&gt;用户可以选择加入这些platforms也可以寻求这些组织提供服务 &lt;!-- raw HTML omitted --&gt;&lt;/p&gt;
&lt;h4 id=&#34;other-technologies&#34;&gt;Other technologies&lt;/h4&gt;
&lt;p&gt;一个常见的批评的声音就是：你实际上不需要一个分布式账本平台，因为使用集中式的数据库一样可以存储隐私信息 &lt;!-- raw HTML omitted --&gt;&lt;/p&gt;
&lt;p&gt;但是这仍然面临很多的威胁： &lt;!-- raw HTML omitted --&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;第三方数据库的安全性，以及价格的支出 &lt;!-- raw HTML omitted --&gt;&lt;/li&gt;
&lt;li&gt;如何保证数据库不被攻击或者被第三方数据库所利用？ &lt;!-- raw HTML omitted --&gt;&lt;/li&gt;
&lt;li&gt;
&lt;ol&gt;
&lt;li&gt;禁止合作伙伴持有竞争对手的数据 &lt;!-- raw HTML omitted --&gt;&lt;/li&gt;
&lt;li&gt;因此每一个企业都需要将数据存储在第三方的数据库中 &lt;!-- raw HTML omitted --&gt;&lt;/li&gt;
&lt;/ol&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id=&#34;week-9-smart-contracts&#34;&gt;Week 9: Smart Contracts&lt;/h3&gt;
&lt;p&gt;当我们在自动贩卖机买饮料的时候，我们投入硬币，然后选择想要的饮料，然后饮料掉出来，这其实完成了一个隐性的合约，就是你付出了一定的钱，机器把对应的商品交付给你，这个工作由自动贩卖机完成，而不需要再签署一份合同，来进行交付。 &lt;!-- raw HTML omitted --&gt;&lt;/p&gt;
&lt;p&gt;Smart contracts,智能合约就是为了实现这样一个概念，但是就如同Mining挖矿的目的是为了维护去中心化的共识机制的安全一样，smart contracts并不是严格意义上的合同，它的本质上运行在分布式账本上的一个程序，能够自动的接受参数然后进行运行 &lt;!-- raw HTML omitted --&gt;&lt;/p&gt;
&lt;p&gt;Bitcoin的script其实就是一个很基础的智能合约，transaction中的locking script &amp;amp; unlocking script合在一起就可以实现UTXO的花费，但是由于Bitcoin本身设计的限制，script没有很强大的功能，不能循环或者递归，是图灵不完备的。 &lt;!-- raw HTML omitted --&gt;&lt;/p&gt;
&lt;p&gt;那么如果我们设计一个更为强大的计算机语言，使其图灵完备，那么是不是就能完成更有创造性的功能呢，这也就是Ethereum的出现以及Solidity语言的实现。 &lt;!-- raw HTML omitted --&gt;&lt;/p&gt;
&lt;p&gt;每一个smart contract程序在运行的时候都可以在分布式账本上修改其特定的数据，可供使用的数据当然也有一系列的限制。 &lt;!-- raw HTML omitted --&gt;&lt;/p&gt;
&lt;h4 id=&#34;smart-contract-and-trust&#34;&gt;Smart contract and trust&lt;/h4&gt;
&lt;p&gt;我们可以说，smart contract程序（相较于普通的程序）将信任加入了系统，因为所有的代码都存在于整一个分布式账本上，并且所有的操作都会被所有的节点独立的验证，并且会永久被保存，理论上无法被修改。同时这些操作将会被自动执行。 &lt;!-- raw HTML omitted --&gt;&lt;/p&gt;
&lt;h4 id=&#34;关于名字&#34;&gt;关于名字&lt;/h4&gt;
&lt;p&gt;其实智能合约并不智能，他们只是一组代码可以被自动执行，仅此而已（我们说的智能一般会联系到AI之类的方向） &lt;!-- raw HTML omitted --&gt;&lt;/p&gt;
&lt;p&gt;其实智能合约不是传统意义上的合约，可能只是一次简单的加密货币的交易，如果需要加上法律条文，需要额外的服务，并且也不一定是两个组织为了达成某些交易而诞生的合同。 &lt;!-- raw HTML omitted --&gt;&lt;/p&gt;
&lt;h4 id=&#34;what-are-agreements-in-the-context-of-distributed-ledgers&#34;&gt;What are agreements in the context of distributed ledgers?&lt;/h4&gt;
&lt;ol&gt;
&lt;li&gt;法律合同（人们能够读得懂的） &lt;!-- raw HTML omitted --&gt;&lt;/li&gt;
&lt;li&gt;隐性的合同（自动调用的计算机操作，protcols之类的） &lt;!-- raw HTML omitted --&gt;&lt;/li&gt;
&lt;/ol&gt;
&lt;h4 id=&#34;stampery-servie&#34;&gt;Stampery servie&lt;/h4&gt;
&lt;p&gt;Stampery是一项可以提供合同证明服务，即合同是否达成，在何时达成？ &lt;!-- raw HTML omitted --&gt;&lt;/p&gt;
&lt;p&gt;举个例子，比如你与房东达成了租房合同，然后你们各有一份经过签字的合同，你可以通过Stampery服务来将其上传到分布式账本中进行保存： &lt;!-- raw HTML omitted --&gt;&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;首先他们会hash这份电子的合同 &lt;!-- raw HTML omitted --&gt;&lt;/li&gt;
&lt;li&gt;然后将这个hash值与其他需要的hash一起组成称merkle tree &lt;!-- raw HTML omitted --&gt;&lt;/li&gt;
&lt;li&gt;接着上传到一个或多个分布式账本中 &lt;!-- raw HTML omitted --&gt;&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;那么当你未来需要验证自己的合同没有经过修改的话就可以： &lt;!-- raw HTML omitted --&gt;&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;重新用同样的算法hash你自己的文件 &lt;!-- raw HTML omitted --&gt;&lt;/li&gt;
&lt;li&gt;然后与分布式账本上的hash进行匹配就可以验证了（可信的是分布式账本） &lt;!-- raw HTML omitted --&gt;&lt;/li&gt;
&lt;/ol&gt;
&lt;h4 id=&#34;ricardian-contracts-link-legal-agreements-to-code&#34;&gt;Ricardian Contracts: link legal agreements to code&lt;/h4&gt;
&lt;p&gt;可以将有法律效应的文件转换成电脑系统可以处理的形式，同时又可以轻松的转换回来供法律人士阅读和使用。 &lt;!-- raw HTML omitted --&gt;&lt;/p&gt;
&lt;p&gt;所有的参与者都会电子的给合同签名，同时使用hash算法将文件电子的保存在blockchain上，供以将来使用 &lt;!-- raw HTML omitted --&gt;&lt;/p&gt;
&lt;p&gt;&lt;figure&gt;&lt;img src=&#34;https://ginkgo.org.cn/ox-hugo/2022-05-14_22-11-25_screenshot.png&#34; width=&#34;700px&#34;/&gt;
&lt;/figure&gt;
 &lt;!-- raw HTML omitted --&gt;&lt;/p&gt;
&lt;p&gt;Barclay银行第一次采用了这个Ricardian contract与blockchain（corda）的结合 &lt;!-- raw HTML omitted --&gt;
&lt;a class=&#34;link&#34; href=&#34;https://www.youtube.com/watch?v=YIH4MJf6kH8&amp;amp;t=237s&amp;amp;ab_channel=Rise%2CcreatedbyBarclays&#34;  target=&#34;_blank&#34; rel=&#34;noopener&#34;
    &gt;https://www.youtube.com/watch?v=YIH4MJf6kH8&amp;t=237s&amp;ab_channel=Rise%2CcreatedbyBarclays&lt;/a&gt; &lt;!-- raw HTML omitted --&gt;&lt;/p&gt;
&lt;p&gt;他们实现了一个prototype，可以将签合同的时候所需要的法律文件转换为电子版的，然后就交易的双方以及其中的细节进行简单的填充，就可以快速生成双份的具有法律效应的合同，之后再上传到corda的blockchain之上，保证了其不可被修改的性质 &lt;!-- raw HTML omitted --&gt;&lt;/p&gt;
&lt;p&gt;还是之前那个租房合同的例子，现在我们很多的合同还是要求要用手写签名为证，但是有了这样的smart contract program，我们就可以更为方便的生成合同，并永久的保存，且将合同保存在可以信任的平台上，方便再次追溯。 &lt;!-- raw HTML omitted --&gt;&lt;/p&gt;
&lt;p&gt;&lt;figure&gt;&lt;img src=&#34;https://ginkgo.org.cn/ox-hugo/2022-05-14_22-43-56_screenshot.png&#34; width=&#34;700px&#34;/&gt;
&lt;/figure&gt;
 &lt;!-- raw HTML omitted --&gt;&lt;/p&gt;
&lt;h4 id=&#34;agreements-using-smart-contracts&#34;&gt;Agreements using smart contracts&lt;/h4&gt;
&lt;p&gt;智能合约如果是放在permissioned账本上的话，那么只会被参与的几个用户有权利查看 &lt;!-- raw HTML omitted --&gt;&lt;/p&gt;
&lt;p&gt;并且就像之前提到过的那样，一旦智能合约开始执行，那么一切的后果都必须要接受，也就是说这一切都是建立在你已经完全掌握了智能合约要做的事情以及将会发生的后果，一旦上传到分布式账本之后，一切都不会改变了 &lt;!-- raw HTML omitted --&gt;&lt;/p&gt;
&lt;p&gt;智能合约的方法分为两种： &lt;!-- raw HTML omitted --&gt;&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;Getters，获取变量 &lt;!-- raw HTML omitted --&gt;&lt;/li&gt;
&lt;li&gt;Setters，通过得到的变量来更改EVM的状态 &lt;!-- raw HTML omitted --&gt;&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;往往这些智能合约程序会设定自动的函数来自动提醒相关人员一旦状态发生了任何改变 &lt;!-- raw HTML omitted --&gt;&lt;/p&gt;
&lt;h4 id=&#34;smart-contract-languages&#34;&gt;Smart Contract Languages&lt;/h4&gt;
&lt;p&gt;&lt;figure&gt;&lt;img src=&#34;https://ginkgo.org.cn/ox-hugo/2022-05-14_23-25-41_screenshot.png&#34; width=&#34;700px&#34;/&gt;
&lt;/figure&gt;
 &lt;!-- raw HTML omitted --&gt;&lt;/p&gt;
&lt;h4 id=&#34;总结&#34;&gt;总结&lt;/h4&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;智能合约就是分布式账本上自动运行的程序 &lt;!-- raw HTML omitted --&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;每一个智能合约程序都会在P2P网络中的每一个full node上被执行 &lt;!-- raw HTML omitted --&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;其结果就是改变每一个full node上的virtual machine &lt;!-- raw HTML omitted --&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;智能合约可以或者不用代表多个团体之间的达成的合同 &lt;!-- raw HTML omitted --&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;有些只是开发者所开发的应用程序 &lt;!-- raw HTML omitted --&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;每一个节点都会运行，但是可能会在不同的时间完成 &lt;!-- raw HTML omitted --&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;这也就是为什么所有智能合约程序的输入参数只能在blockchain内部获取，因为如果在外部获取，万一出现问题，那么不同的node上的virtual machine的结果不同，就会破坏整一个blockchain &lt;!-- raw HTML omitted --&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;不同使用随机数，一切都是确定的，要保证所有的EVM都是相同的 &lt;!-- raw HTML omitted --&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id=&#34;lecture-10-some-case-studies&#34;&gt;Lecture 10: Some Case Studies&lt;/h3&gt;
&lt;h4 id=&#34;shared-databases&#34;&gt;Shared Databases&lt;/h4&gt;
&lt;p&gt;&lt;figure&gt;&lt;img src=&#34;https://ginkgo.org.cn/ox-hugo/2022-05-15_10-44-58_screenshot.png&#34; width=&#34;700px&#34;/&gt;
&lt;/figure&gt;
 &lt;!-- raw HTML omitted --&gt;&lt;/p&gt;
&lt;h4 id=&#34;what-are-main-benefits-of-dlt&#34;&gt;What are main benefits of DLT&lt;/h4&gt;
&lt;ol&gt;
&lt;li&gt;
&lt;p&gt;状态共享 Shared State &lt;!-- raw HTML omitted --&gt;&lt;/p&gt;
&lt;p&gt;不同的企业需要共享相同的数据，那么DLT可以可以建立一个多方都可以信任的平台，平切在所有的节点上的数据都是相同的 &lt;!-- raw HTML omitted --&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Stateful(history kept) 状态是实时更新的 &lt;!-- raw HTML omitted --&gt;&lt;/p&gt;
&lt;p&gt;keep track the state &lt;!-- raw HTML omitted --&gt;
所有的状态噶遍都需要经过所有节点的验证，认可，以及记录 &lt;!-- raw HTML omitted --&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Stored data is effectively immutable 存储的数据几乎不可能被改变 &lt;!-- raw HTML omitted --&gt;&lt;/p&gt;
&lt;p&gt;数据被存储在所有的节点上，特别是在PoW的blockchain上，如果想要修改数据，需要所有的node都同意，并且花费大量的资源 &lt;!-- raw HTML omitted --&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Unique allocations &amp;amp; co-ordinated allocation &lt;!-- raw HTML omitted --&gt;&lt;/p&gt;
&lt;p&gt;解决double-spend problem, 每一条transaction都会被所有的节点记录，并且不断被之后的block所记录，double-spend需要颠覆这些很难 &lt;!-- raw HTML omitted --&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Witnessing &lt;!-- raw HTML omitted --&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Multi-party aggregation，permissioned至少需要三个团体，其中一个作为监督 &lt;!-- raw HTML omitted --&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Immediate settlement for digital assets &lt;!-- raw HTML omitted --&gt;&lt;/p&gt;
&lt;p&gt;change of custody都会被记录 &lt;!-- raw HTML omitted --&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;&lt;figure&gt;&lt;img src=&#34;https://ginkgo.org.cn/ox-hugo/2022-05-15_10-52-36_screenshot.png&#34; width=&#34;700px&#34;/&gt;
&lt;/figure&gt;
 &lt;!-- raw HTML omitted --&gt;&lt;/p&gt;
&lt;h4 id=&#34;nft&#34;&gt;NFT&lt;/h4&gt;
&lt;h3 id=&#34;lecture-5-money-and-e-money&#34;&gt;Lecture 5: Money and e-Money&lt;/h3&gt;
&lt;p&gt;Money在现代有两种基本的形式 &lt;!-- raw HTML omitted --&gt;&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;硬币 &lt;!-- raw HTML omitted --&gt;&lt;/li&gt;
&lt;li&gt;纸钞 &lt;!-- raw HTML omitted --&gt;&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;同样还有 &lt;!-- raw HTML omitted --&gt;
旅行支票 &lt;!-- raw HTML omitted --&gt;
银行活期存款 &lt;!-- raw HTML omitted --&gt;
储蓄存款 &lt;!-- raw HTML omitted --&gt;
定期存款（24小时年） &lt;!-- raw HTML omitted --&gt;
货币市场存款（商业借贷) &lt;!-- raw HTML omitted --&gt;&lt;/p&gt;
&lt;h4 id=&#34;money在英国的合法解释&#34;&gt;Money在英国的合法解释&lt;/h4&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;Top-Down 自上而下： &lt;!-- raw HTML omitted --&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;政府说什么是钱，什么就是钱 &lt;!-- raw HTML omitted --&gt;&lt;/li&gt;
&lt;li&gt;Legal Tender法定货币 &lt;!-- raw HTML omitted --&gt;&lt;/li&gt;
&lt;li&gt;fiat money 法定货币 &lt;!-- raw HTML omitted --&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Bottom-Up 自下而上： &lt;!-- raw HTML omitted --&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;老百姓说什么是钱，什么就是钱 &lt;!-- raw HTML omitted --&gt;&lt;/li&gt;
&lt;li&gt;Promissory notes从18实际中期开始流行，在19世纪被英国法院所接受 &lt;!-- raw HTML omitted --&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;h4 id=&#34;money的种类&#34;&gt;Money的种类&lt;/h4&gt;
&lt;dl&gt;
&lt;dt&gt;Commodity money 商品货币&lt;/dt&gt;
&lt;dd&gt;&lt;ul&gt;
&lt;li&gt;其价值来源于制造材料本身的价值 &lt;!-- raw HTML omitted --&gt;&lt;/li&gt;
&lt;li&gt;通常是金属(金银铜) &lt;!-- raw HTML omitted --&gt;&lt;/li&gt;
&lt;li&gt;Yap Rai stones &lt;!-- raw HTML omitted --&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/dd&gt;
&lt;/dl&gt;
&lt;!-- raw HTML omitted --&gt;
&lt;dl&gt;
&lt;dt&gt;Representative Money 代表性货币&lt;/dt&gt;
&lt;dd&gt;&lt;ul&gt;
&lt;li&gt;价值来源于其所代表的基础商品的国币 &lt;!-- raw HTML omitted --&gt;&lt;/li&gt;
&lt;li&gt;对商品的要求：金本位 &lt;!-- raw HTML omitted --&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/dd&gt;
&lt;dt&gt;Fiat Money 法定货币&lt;/dt&gt;
&lt;dd&gt;&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;没有任何内在价值的货币，也没有基础商品 &lt;!-- raw HTML omitted --&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;其价值来源于用户的认可 &lt;!-- raw HTML omitted --&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;也可以说是老百姓认同了政府颁发的Top-Down自上而下的货币 &lt;!-- raw HTML omitted --&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;/dd&gt;
&lt;/dl&gt;
&lt;h4 id=&#34;money的主要功能&#34;&gt;Money的主要功能&lt;/h4&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;作为交易的终结 &lt;!-- raw HTML omitted --&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;减少了以物换物的麻烦 &lt;!-- raw HTML omitted --&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;用于商品衡量机制的标准，也是记账的单位 &lt;!-- raw HTML omitted --&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;价值的存储 &lt;!-- raw HTML omitted --&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;如果没有通货膨胀的话，可以一直保持价值 &lt;!-- raw HTML omitted --&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;作为匿名支付的手段 &lt;!-- raw HTML omitted --&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;作为延迟交付的手段 &lt;!-- raw HTML omitted --&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;h4 id=&#34;money的次要功能&#34;&gt;Money的次要功能&lt;/h4&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;可变性 &lt;!-- raw HTML omitted --&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;纸币/硬币是可以互换的 &lt;!-- raw HTML omitted --&gt;
&lt;ul&gt;
&lt;li&gt;不像（比如）钻石或稀有邮票 &lt;!-- raw HTML omitted --&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;可携带性 &lt;!-- raw HTML omitted --&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;不像房屋或土地那样 &lt;!-- raw HTML omitted --&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;耐用性 &lt;!-- raw HTML omitted --&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;纸质钞票与塑料钞票 &lt;!-- raw HTML omitted --&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;比如说。澳大利亚的第一张聚合物美元纸币。 &lt;!-- raw HTML omitted --&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;可分割性 &lt;!-- raw HTML omitted --&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;与牛不同 &lt;!-- raw HTML omitted --&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;可验证性 &lt;!-- raw HTML omitted --&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;需要验证真实性 &lt;!-- raw HTML omitted --&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;使用水印、全息图 &lt;!-- raw HTML omitted --&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;储存性 &lt;!-- raw HTML omitted --&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;与牛不同（牛最终会死）。 &lt;!-- raw HTML omitted --&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;不容易伪造 &lt;!-- raw HTML omitted --&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;使用水印、全息图。 &lt;!-- raw HTML omitted --&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;h4 id=&#34;什么是money的价值&#34;&gt;什么是Money的价值&lt;/h4&gt;
&lt;p&gt;在法定货币中，其价值取决于人民是否愿意接受其作为支付手段 &lt;!-- raw HTML omitted --&gt;&lt;/p&gt;
&lt;p&gt;主要是由人民的态度决定 &lt;!-- raw HTML omitted --&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;由什么政府颁发的 &lt;!-- raw HTML omitted --&gt;&lt;/li&gt;
&lt;li&gt;对其货币政策的态度 &lt;!-- raw HTML omitted --&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;在通货膨胀或者通货紧缩之下，人民会做出响应的动作来表达他们对于货币价值的态度： &lt;!-- raw HTML omitted --&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;在高通货膨胀率下，做债务人比做债权人更好 &lt;!-- raw HTML omitted --&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;借钱而不是放钱 &lt;!-- raw HTML omitted --&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;他们可能试图将储蓄转化为其他资产。 &lt;!-- raw HTML omitted --&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;h4 id=&#34;货币的流通性&#34;&gt;货币的流通性&lt;/h4&gt;
&lt;p&gt;Liquidity refers to the speed &amp;amp; ease with which an asset can be turned into cash without lowering its price &lt;!-- raw HTML omitted --&gt;
流动性指的是如何将实际资产与现金之间的转换速度以及难易程度（在不影响价格的情况下） &lt;!-- raw HTML omitted --&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;现金的流通性是最好的 &lt;!-- raw HTML omitted --&gt;&lt;/li&gt;
&lt;li&gt;贵金属也还可以 &lt;!-- raw HTML omitted --&gt;&lt;/li&gt;
&lt;li&gt;虚拟货币的流通性也还不错 &lt;!-- raw HTML omitted --&gt;&lt;/li&gt;
&lt;li&gt;但是房子或者其他实际的资产的流通性就很差，因为不是所有人都想要这个资产，同时，他们的价值也还需要评估 &lt;!-- raw HTML omitted --&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;h4 id=&#34;money在金融中的定义&#34;&gt;Money在金融中的定义&lt;/h4&gt;
&lt;p&gt;MØ = 流通中的硬币和纸币 + 银行储备基金（英国）（称为狭义货币） &lt;!-- raw HTML omitted --&gt;
MB = MØ + 银行金库中的硬币和纸币（称为货币基础） &lt;!-- raw HTML omitted --&gt;
M1 = 流通中或金库中的硬币和纸币 + 旅行支票 + 活期存款 + 其他可支票存款 &lt;!-- raw HTML omitted --&gt;
M2 = M1 + 储蓄存款 + 10万美元以下定期存款 &lt;!-- raw HTML omitted --&gt;
M3 = M2 + 货币市场基金 + 较长期的存款 &lt;!-- raw HTML omitted --&gt;
MZM = M3 + 所有货币市场基金。 &lt;!-- raw HTML omitted --&gt;&lt;/p&gt;
&lt;h4 id=&#34;发放money&#34;&gt;发放Money&lt;/h4&gt;
&lt;p&gt;在大多数国家只有由政府控制的中心银行才有资格发放货币 &lt;!-- raw HTML omitted --&gt;&lt;/p&gt;
&lt;p&gt;具体如何发放呢： &lt;!-- raw HTML omitted --&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;铸造硬币 &lt;!-- raw HTML omitted --&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;印刷纸币 &lt;!-- raw HTML omitted --&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;将电子存款存入商业银行的账户 &lt;!-- raw HTML omitted --&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;进入商业银行的Nostro账户 &lt;!-- raw HTML omitted --&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;用抵押品（例如，银行拥有的土地、建筑物）作担保 &lt;!-- raw HTML omitted --&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;然后，银行可以把这些钱借出。 &lt;!-- raw HTML omitted --&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;h4 id=&#34;货币政策&#34;&gt;货币政策&lt;/h4&gt;
&lt;p&gt;大多数的银行都有明确的目标，例如 &lt;!-- raw HTML omitted --&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;将通货膨胀保持在一个稳定的标准 &lt;!-- raw HTML omitted --&gt;&lt;/li&gt;
&lt;li&gt;扩大就业（让银行中的钱贬值，人们才会愿意去赚钱） &lt;!-- raw HTML omitted --&gt;&lt;/li&gt;
&lt;li&gt;缓和长期利率 &lt;!-- raw HTML omitted --&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;为了实现这些目标，他们可以通过影响货币的数量来达到这个目的： &lt;!-- raw HTML omitted --&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;通过发行货币 &lt;!-- raw HTML omitted --&gt;&lt;/li&gt;
&lt;li&gt;通过要求商业银行在中央银行存放安全资金（&amp;ldquo;储备金&amp;rdquo;）。 &lt;!-- raw HTML omitted --&gt;&lt;/li&gt;
&lt;li&gt;通过设定基本利率（&amp;ldquo;基准利率&amp;rdquo;）（英国：0.50%）。 &lt;!-- raw HTML omitted --&gt;&lt;/li&gt;
&lt;li&gt;通过将电子货币存入商业银行的银行账户（&amp;ldquo;量化宽松&amp;rdquo;）。 &lt;!-- raw HTML omitted --&gt;&lt;/li&gt;
&lt;li&gt;通过公开市场操作（OMO） &lt;!-- raw HTML omitted --&gt;&lt;/li&gt;
&lt;li&gt;购买和出售债券 &lt;!-- raw HTML omitted --&gt;&lt;/li&gt;
&lt;li&gt;从而从经济中释放或提取资金。 &lt;!-- raw HTML omitted --&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;h4 id=&#34;对于货币政策的信息共享&#34;&gt;对于货币政策的信息共享&lt;/h4&gt;
&lt;p&gt;政府一般会对于信息的共享非常小心，因为一个普通的消息，很容易造成民众的过度解读与过度反应，进而引起恐慌 &lt;!-- raw HTML omitted --&gt;&lt;/p&gt;
&lt;h4 id=&#34;inflation-and-hyperinflation-通货膨胀和恶性通货膨胀&#34;&gt;Inflation and Hyperinflation 通货膨胀和恶性通货膨胀&lt;/h4&gt;
&lt;p&gt;如果银行发行过多的货币（或使贷款过于容易），那么 &lt;!-- raw HTML omitted --&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;可用的货币多于要购买的商品（至少在短期内）。 &lt;!-- raw HTML omitted --&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;商品的价格上升（因为对它们的需求超过了供应）。 &lt;!-- raw HTML omitted --&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;商品的平均价格上升，因此我们得到了通货膨胀 &lt;!-- raw HTML omitted --&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;每单位时间内的价格上涨率。 &lt;!-- raw HTML omitted --&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;通货膨胀的水平没有上限 &lt;!-- raw HTML omitted --&gt;&lt;/p&gt;
&lt;p&gt;恶性通货膨胀:当通货膨胀率每月超过50%。 &lt;!-- raw HTML omitted --&gt;&lt;/p&gt;
&lt;h4 id=&#34;加密货币的作用&#34;&gt;加密货币的作用&lt;/h4&gt;
&lt;ul&gt;
&lt;li&gt;交易媒介 &lt;!-- raw HTML omitted --&gt;&lt;/li&gt;
&lt;li&gt;价值的衡量标准与记账单位 &lt;!-- raw HTML omitted --&gt;&lt;/li&gt;
&lt;li&gt;价值的存储 &lt;!-- raw HTML omitted --&gt;&lt;/li&gt;
&lt;li&gt;匿名支付 &lt;!-- raw HTML omitted --&gt;&lt;/li&gt;
&lt;li&gt;延期支付 &lt;!-- raw HTML omitted --&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;但是，加密货币的稳定性与其对现实世界商品以及服务的购买和卖出的关系成反比 &lt;!-- raw HTML omitted --&gt;&lt;/p&gt;
&lt;p&gt;作为一种存储媒介，加密货币对跨国转移资产的人来说可能特别有价值 &lt;!-- raw HTML omitted --&gt;&lt;/p&gt;
&lt;h4 id=&#34;加密货币的用户&#34;&gt;加密货币的用户&lt;/h4&gt;
&lt;ul&gt;
&lt;li&gt;犯罪者，洗钱 &lt;!-- raw HTML omitted --&gt;&lt;/li&gt;
&lt;li&gt;逃避国际制裁的政府和人民 &lt;!-- raw HTML omitted --&gt;&lt;/li&gt;
&lt;li&gt;处于资产出口管制，恶性通货膨胀或者高度腐败的国家的人民 &lt;!-- raw HTML omitted --&gt;&lt;/li&gt;
&lt;li&gt;任何有使用货币合法/不合法需求的人 &lt;!-- raw HTML omitted --&gt;&lt;/li&gt;
&lt;li&gt;投资者 &lt;!-- raw HTML omitted --&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;h4 id=&#34;加密货币在2017年的增长&#34;&gt;加密货币在2017年的增长&lt;/h4&gt;
&lt;ul&gt;
&lt;li&gt;不合法交易的增加 &lt;!-- raw HTML omitted --&gt;&lt;/li&gt;
&lt;li&gt;ICO &lt;!-- raw HTML omitted --&gt;&lt;/li&gt;
&lt;li&gt;大众行为 &lt;!-- raw HTML omitted --&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;h4 id=&#34;herd-behaviours-从众行为&#34;&gt;Herd behaviours 从众行为&lt;/h4&gt;
&lt;p&gt;人们会倾向于模仿别人 &lt;!-- raw HTML omitted --&gt;&lt;/p&gt;
&lt;p&gt;Pump &amp;amp; dump scams &lt;!-- raw HTML omitted --&gt;&lt;/p&gt;
&lt;dl&gt;
&lt;dt&gt;抽水和倾倒骗局&lt;/dt&gt;
&lt;dd&gt;&lt;ul&gt;
&lt;li&gt;诈骗者购买股票（或加密货币）并向其他人推销。 &lt;!-- raw HTML omitted --&gt;&lt;/li&gt;
&lt;li&gt;当其他人买入时，价格上升 &lt;!-- raw HTML omitted --&gt;&lt;/li&gt;
&lt;li&gt;诈骗者以高于他/她支付的价格卖出 &lt;!-- raw HTML omitted --&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/dd&gt;
&lt;dt&gt;庞氏骗局&lt;/dt&gt;
&lt;dd&gt;&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;骗子招揽投资基金，承诺快速和高额回报 &lt;!-- raw HTML omitted --&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;早期投资者从后期投资者的投资中获得回报 &lt;!-- raw HTML omitted --&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;由于世界人口是有限的，这样的骗局总要结束。 &lt;!-- raw HTML omitted --&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;/dd&gt;
&lt;/dl&gt;
&lt;h4 id=&#34;泡沫经济-bubbles&#34;&gt;泡沫经济 Bubbles&lt;/h4&gt;
&lt;p&gt;泡沫经济，指资产价值超越实体经济，极易丧失持续发展能力的宏观经济状态。 &lt;!-- raw HTML omitted --&gt;&lt;/p&gt;
&lt;p&gt;泡沫经济经常由大量投机活动支撑，本质就是贪婪。 &lt;!-- raw HTML omitted --&gt;&lt;/p&gt;
&lt;p&gt;由于缺乏实体经济的支撑，因此其资产犹如泡沫一般容易破裂，因此经济学上称之为“泡沫经济”。 &lt;!-- raw HTML omitted --&gt;&lt;/p&gt;
&lt;p&gt;新兴产业处于早期的时候，人们开始炒作商品，赋予其过高的价值 &lt;!-- raw HTML omitted --&gt;&lt;/p&gt;
&lt;p&gt;一旦投机者丧失了投机的欲望，开始撤出他们的资金，那么被哄抬的商品价格机会面临大量的下降，最终导致泡沫破裂，手中的泡沫不值钱了，贷款却还还不清 &lt;!-- raw HTML omitted --&gt;&lt;/p&gt;
&lt;h4 id=&#34;虚拟货币的价值&#34;&gt;虚拟货币的价值&lt;/h4&gt;
&lt;p&gt;需要考虑的方面 &lt;!-- raw HTML omitted --&gt;&lt;/p&gt;
&lt;dl&gt;
&lt;dt&gt;供应方&lt;/dt&gt;
&lt;dd&gt;&lt;ul&gt;
&lt;li&gt;供应量是否固定 &lt;!-- raw HTML omitted --&gt;&lt;/li&gt;
&lt;li&gt;比如比特币的发行总量目前是由上上限 &lt;!-- raw HTML omitted --&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/dd&gt;
&lt;dt&gt;需求方&lt;/dt&gt;
&lt;dd&gt;是否有一个会产生需求的基础应用？ &lt;!-- raw HTML omitted --&gt;
&lt;p&gt;如果有一个基础应用，需求可能是什么？ &lt;!-- raw HTML omitted --&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;在短期和长期内 &lt;!-- raw HTML omitted --&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;是否有类似或竞争的代币？ &lt;!-- raw HTML omitted --&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;是否有来自投资者的需求（或可能有）？ &lt;!-- raw HTML omitted --&gt;&lt;/p&gt;
&lt;p&gt;供应和需求之间的平衡？ &lt;!-- raw HTML omitted --&gt;&lt;/p&gt;
&lt;p&gt;供应和需求是如何匹配的？ &lt;!-- raw HTML omitted --&gt;&lt;/p&gt;
&lt;p&gt;其他类似加密货币的价格是多少？ &lt;!-- raw HTML omitted --&gt;&lt;/p&gt;
&lt;/dd&gt;
&lt;/dl&gt;
&lt;h3 id=&#34;lecture-7-icos-and-tges&#34;&gt;Lecture 7: ICOs and TGEs&lt;/h3&gt;
&lt;h4 id=&#34;raising-funds&#34;&gt;Raising Funds&lt;/h4&gt;
&lt;!-- raw HTML omitted --&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;创业公司如何收集资金&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;FF&amp;amp;F: 创始人，朋友和家人 &lt;!-- raw HTML omitted --&gt;&lt;/li&gt;
&lt;li&gt;天使投资人 &lt;!-- raw HTML omitted --&gt;&lt;/li&gt;
&lt;li&gt;政府拨款或者贷款 &lt;!-- raw HTML omitted --&gt;&lt;/li&gt;
&lt;li&gt;商业贷款（银行） &lt;!-- raw HTML omitted --&gt;&lt;/li&gt;
&lt;li&gt;风险投资公司 &lt;!-- raw HTML omitted --&gt;&lt;/li&gt;
&lt;li&gt;IPO：当公司在正确交易所上市的时候，就可以通过出售股份来募集资金 &lt;!-- raw HTML omitted --&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;!-- raw HTML omitted --&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;寻找贷款或者投资人&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;发布招股说明书 &lt;!-- raw HTML omitted --&gt;&lt;/p&gt;
&lt;p&gt;一份包含机会，terms and conditions (T&amp;amp;C) 以及风险的文档 &lt;!-- raw HTML omitted --&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;传统的借贷形式 &lt;!-- raw HTML omitted --&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;存储者将钱存入银行，信用社 &lt;!-- raw HTML omitted --&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;银行用这些钱向个人或者公司提供大额贷款 &lt;!-- raw HTML omitted --&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;众筹资金 &lt;!-- raw HTML omitted --&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;通过众筹服务以及网站募集资金 &lt;!-- raw HTML omitted --&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;通过大数量的投资者投资的小额资金 &lt;!-- raw HTML omitted --&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;P2P贷款 &lt;!-- raw HTML omitted --&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;ICO &lt;!-- raw HTML omitted --&gt;
预先出售代币 &lt;!-- raw HTML omitted --&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;h4 id=&#34;icos-and-tges&#34;&gt;ICOs and TGEs&lt;/h4&gt;
&lt;!-- raw HTML omitted --&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;什么是ICO？&lt;/p&gt;
&lt;p&gt;ICO是一种募集资金的方法 &lt;!-- raw HTML omitted --&gt;&lt;/p&gt;
&lt;p&gt;举一个例子，比如我们将要开设一条新的航线，那么建设航线需要时间与资金，我们通过发放crypto token代币来交换投资者的资金支持 &lt;!-- raw HTML omitted --&gt;&lt;/p&gt;
&lt;p&gt;投资者通过支持资金，就会获得一定量的代币 &lt;!-- raw HTML omitted --&gt;&lt;/p&gt;
&lt;p&gt;在项目结束之后，他们就可以进行对代币的贸易 &lt;!-- raw HTML omitted --&gt;&lt;/p&gt;
&lt;p&gt;Why invest? &lt;!-- raw HTML omitted --&gt;&lt;/p&gt;
&lt;p&gt;– Business or utility reason &lt;!-- raw HTML omitted --&gt;&lt;/p&gt;
&lt;p&gt;– Investment reasons &lt;!-- raw HTML omitted --&gt;&lt;/p&gt;
&lt;p&gt;• to hold tokens and resell them later 持有代币并在日后转售（投资然后获得回报） &lt;!-- raw HTML omitted --&gt;&lt;/p&gt;
&lt;p&gt;– Speculation reasons &lt;!-- raw HTML omitted --&gt;&lt;/p&gt;
&lt;p&gt;• to buy and sell tokens. 购买和出售代币（用来获取代币） &lt;!-- raw HTML omitted --&gt;&lt;/p&gt;
&lt;p&gt;&lt;figure&gt;&lt;img src=&#34;https://ginkgo.org.cn/ox-hugo/2022-05-15_17-42-31_screenshot.png&#34; width=&#34;700px&#34;/&gt;
    &lt;/figure&gt;
 &lt;!-- raw HTML omitted --&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;!-- raw HTML omitted --&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;Token standards: ERC&lt;/p&gt;
&lt;p&gt;Ethereum Request for Comment &lt;!-- raw HTML omitted --&gt;
任何人都可以计入并提供他们的想法，然后让其他人讨论并投入资金 &lt;!-- raw HTML omitted --&gt;
这个协议可以让代币的互动更加方便，通过与以太坊网络的交互 &lt;!-- raw HTML omitted --&gt;&lt;/p&gt;
&lt;!-- raw HTML omitted --&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;ERC721: The Ethereum standard for Non-Fungible Tokens (NFTs)&lt;/p&gt;
&lt;p&gt;ERC721中token被用来表示一样unique特有的物品，使其无法被代替 &lt;!-- raw HTML omitted --&gt;&lt;/p&gt;
&lt;p&gt;最早的NTF就是CryptoKitties &lt;!-- raw HTML omitted --&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;!-- raw HTML omitted --&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;监管机构&lt;/p&gt;
&lt;p&gt;防止诈骗 &lt;!-- raw HTML omitted --&gt;&lt;/p&gt;
&lt;p&gt;要求所有的募集资金的人了解这些投资者： &lt;!-- raw HTML omitted --&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;发起人的过去记录 &lt;!-- raw HTML omitted --&gt;&lt;/li&gt;
&lt;li&gt;公司的真正计划和意图 &lt;!-- raw HTML omitted --&gt;&lt;/li&gt;
&lt;li&gt;法律和监管状况 &lt;!-- raw HTML omitted --&gt;&lt;/li&gt;
&lt;li&gt;内幕交易和关系 &lt;!-- raw HTML omitted --&gt;&lt;/li&gt;
&lt;li&gt;风险 &lt;!-- raw HTML omitted --&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;来防止来自于各种方面的风险： &lt;!-- raw HTML omitted --&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;市场需求 &lt;!-- raw HTML omitted --&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;竞争者 &lt;!-- raw HTML omitted --&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;监管风险 &lt;!-- raw HTML omitted --&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;技术发展。 &lt;!-- raw HTML omitted --&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;!-- raw HTML omitted --&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;Accredited investors 受到认可的投资者&lt;/p&gt;
&lt;p&gt;大多数金融业监管机构更关注普通消费者和投资者的风险 &lt;!-- raw HTML omitted --&gt;&lt;/p&gt;
&lt;p&gt;较少关注对以下人群的风险 &lt;!-- raw HTML omitted --&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;高净值个人（财富超过10万美元的人）。 &lt;!-- raw HTML omitted --&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;私人投资池 &lt;!-- raw HTML omitted --&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;一些机构专有的认可投资者的范围： &lt;!-- raw HTML omitted --&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;对这些投资者和他们加入的投资池的监管和监督较少 &lt;!-- raw HTML omitted --&gt;&lt;/li&gt;
&lt;li&gt;对冲基金&amp;ndash;使用高风险策略的认可投资者的资金池。 &lt;!-- raw HTML omitted --&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;!-- raw HTML omitted --&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;Cryptocurrency Hedge Funds 加密货币对冲基金&lt;/p&gt;
&lt;p&gt;集合投资基金，目标是投资于。 &lt;!-- raw HTML omitted --&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;加密货币和替代币 &lt;!-- raw HTML omitted --&gt;&lt;/li&gt;
&lt;li&gt;ICOs &lt;!-- raw HTML omitted --&gt;&lt;/li&gt;
&lt;li&gt;在区块链上运行的初创企业 &lt;!-- raw HTML omitted --&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;通常由传统对冲基金的合作伙伴和投资者创建 &lt;!-- raw HTML omitted --&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;加密货币对传统投资者来说太不稳定了 &lt;!-- raw HTML omitted --&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;!-- raw HTML omitted --&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;Checks on investors 对投资者的审查&lt;/p&gt;
&lt;p&gt;对投资者的审查主要是为了通过了解投资人的信息以防止洗钱以及其他投资背后的违法行为 &lt;!-- raw HTML omitted --&gt;&lt;/p&gt;
&lt;p&gt;KYC – Know Your Customer regulations
: – Identity &lt;!-- raw HTML omitted --&gt;&lt;/p&gt;
&lt;pre&gt;&lt;code&gt; – Location &amp;lt;br/&amp;gt;

 – Wealth &amp;amp;amp; assets &amp;lt;br/&amp;gt;

 – Other investments &amp;lt;br/&amp;gt;
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;AML – Anti-Money Laundering regulations
:&lt;/p&gt;
&lt;p&gt;– What are the source(s) of funds? 钱从哪儿来的 &lt;!-- raw HTML omitted --&gt;&lt;/p&gt;
&lt;p&gt;Money-laundering
:&lt;/p&gt;
&lt;p&gt;目标： &lt;!-- raw HTML omitted --&gt;
– Proceeds of criminal activity (often in cash) 犯罪活动的收益 &lt;!-- raw HTML omitted --&gt;&lt;/p&gt;
&lt;p&gt;– Proceeds of transactions with entities under sanctions 与受制裁的目标进行交易所得利益 &lt;!-- raw HTML omitted --&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;!-- raw HTML omitted --&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;Registration of security 证券注册&lt;/p&gt;
&lt;p&gt;需要向美国证券交易委员会注册证券（除非获得豁免），并提供以下细节。 &lt;!-- raw HTML omitted --&gt;&lt;/p&gt;
&lt;p&gt;公司的属性和商业目的 &lt;!-- raw HTML omitted --&gt;
所提供的证券 &lt;!-- raw HTML omitted --&gt;
公司的管理层 &lt;!-- raw HTML omitted --&gt;
由独立会计师认证的财务报表。 &lt;!-- raw HTML omitted --&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;!-- raw HTML omitted --&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;Howey Test&lt;/p&gt;
&lt;p&gt;Howey测试是用来鉴定一份证券投资合同是否为合法的，需要满足以下四个条件 &lt;!-- raw HTML omitted --&gt;&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;
&lt;p&gt;它是金钱的投资 &lt;!-- raw HTML omitted --&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&amp;ldquo;金钱 &amp;ldquo;可能包括其他形式的近似金钱 &lt;!-- raw HTML omitted --&gt;&lt;/li&gt;
&lt;li&gt;金钱的投资 &lt;!-- raw HTML omitted --&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;存在对投资利润的预期 &lt;!-- raw HTML omitted --&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;想要赚钱的 &lt;!-- raw HTML omitted --&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;资金的投资是在一个共同的企业中 &lt;!-- raw HTML omitted --&gt;
&amp;ndash;将资金汇集到一个股份公司或类似的联合企业中去 &lt;!-- raw HTML omitted --&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;任何利润都来自于发起人或第三方的努力 &lt;!-- raw HTML omitted --&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;如果利润来自于投资者自己的行为，那么可能就不是证券。 &lt;!-- raw HTML omitted --&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;!-- raw HTML omitted --&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;对于有意向的ICO，大致有3种选择&lt;/p&gt;
&lt;p&gt;选择1（重度监管） &lt;!-- raw HTML omitted --&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;将代币作为证券在美国SEC注册 &lt;!-- raw HTML omitted --&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;约50万美元的法律费用 &lt;!-- raw HTML omitted --&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;4-6个月的过程 &lt;!-- raw HTML omitted --&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;方案2（轻度监管） &lt;!-- raw HTML omitted --&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;不向美国公民或居民出售，以获得美国证券交易委员会的豁免。 &lt;!-- raw HTML omitted --&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;同样地，不向中国或韩国居民出售（获得当地委员会的和面）。 &lt;!-- raw HTML omitted --&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;约5-10万美元的法律费用，2-3个月 &lt;!-- raw HTML omitted --&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;需要收集KYC和反洗钱信息 &lt;!-- raw HTML omitted --&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;与Cypher-punk的精神背道而驰 &lt;!-- raw HTML omitted --&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;选项3（无法规） &lt;!-- raw HTML omitted --&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;无视这些法规 &lt;!-- raw HTML omitted --&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;有被监管机构起诉和/或被投资人起诉的风险 &lt;!-- raw HTML omitted --&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;需要找个好律师 &lt;!-- raw HTML omitted --&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;!-- raw HTML omitted --&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;ICO的发起的阶段&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;
&lt;p&gt;私人代币分配 &lt;!-- raw HTML omitted --&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;给朋友和员工 &lt;!-- raw HTML omitted --&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;私人代币分配 &lt;!-- raw HTML omitted --&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;通常是给大型投资者和加密对冲基金 &lt;!-- raw HTML omitted --&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;公开代币分配 &lt;!-- raw HTML omitted --&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;给任何人（也许受限制）。 &lt;!-- raw HTML omitted --&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;例如，不提供给美国、中国或韩国的公民或居民 &lt;!-- raw HTML omitted --&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;在白皮书和招股说明书的基础上筹集资金 &lt;!-- raw HTML omitted --&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;平台的开发 &lt;!-- raw HTML omitted --&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;并创建代币 &lt;!-- raw HTML omitted --&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;启动业务 &lt;!-- raw HTML omitted --&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;和代币的使用。 &lt;!-- raw HTML omitted --&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;!-- raw HTML omitted --&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;ICOs - 一个典型的组织结构&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;一个慈善基金会（F）发起ICO并接收资金 &lt;!-- raw HTML omitted --&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;拥有独立的董事会 &lt;!-- raw HTML omitted --&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;一家软件开发公司（D）开发理念和白皮书 &lt;!-- raw HTML omitted --&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;当筹集到资金时，部分资金由F分配给D以建立平台。 &lt;!-- raw HTML omitted --&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;地点 &lt;!-- raw HTML omitted --&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;基金会通常在有利于监管的司法管辖区注册 &lt;!-- raw HTML omitted --&gt;&lt;/li&gt;
&lt;li&gt;例如，瑞士、直布罗陀、新加坡。 &lt;!-- raw HTML omitted --&gt;&lt;/li&gt;
&lt;li&gt;软件公司在其他地方注册 &lt;!-- raw HTML omitted --&gt;&lt;/li&gt;
&lt;li&gt;例如，英国，美国。 &lt;!-- raw HTML omitted --&gt;&lt;/li&gt;
&lt;li&gt;雇员可能在任何地方。 &lt;!-- raw HTML omitted --&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;潜在的治理问题 &lt;!-- raw HTML omitted --&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;基金会（F）和软件公司（D）之间的关系是什么？ &lt;!-- raw HTML omitted --&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;如果发生纠纷，管辖权在哪里？ &lt;!-- raw HTML omitted --&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;代币持有者对软件有权利吗？ &lt;!-- raw HTML omitted --&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;!-- raw HTML omitted --&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;代币分配机制&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;在公开销售中使用各种分配机制来分配代币 &lt;!-- raw HTML omitted --&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;通常是拍卖，将代币授予出价最高的人 &lt;!-- raw HTML omitted --&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;基本关注代币（BATCoin）ICO &lt;!-- raw HTML omitted --&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;2017年5月：在30秒内筹集了3500万美元的资金 &lt;!-- raw HTML omitted --&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;只有130名投资者 &lt;!-- raw HTML omitted --&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;前20个地址控制了50%以上的代币 &lt;!-- raw HTML omitted --&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Bancor ICO &lt;!-- raw HTML omitted --&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;2017年6月12日 &lt;!-- raw HTML omitted --&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;3小时内筹集了1.53亿美元（以太币）的资金 &lt;!-- raw HTML omitted --&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;比计划多出5100万美元 &lt;!-- raw HTML omitted --&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;批评 &lt;!-- raw HTML omitted --&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;对内部人士的偏爱 &lt;!-- raw HTML omitted --&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;速度 &lt;!-- raw HTML omitted --&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;没有给代币总量设置上限。 &lt;!-- raw HTML omitted --&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;h4 id=&#34;case-studies&#34;&gt;Case Studies&lt;/h4&gt;
&lt;!-- raw HTML omitted --&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;Ethereum&lt;/p&gt;
&lt;p&gt;以太坊 &lt;!-- raw HTML omitted --&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;2013: Vitalik Buterin的白皮书 &lt;!-- raw HTML omitted --&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;建议在区块链上实现完全的编程能力（Solidity） &lt;!-- raw HTML omitted --&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;2014年7-8月进行ICO &lt;!-- raw HTML omitted --&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;在当时的ICO中排名第六 &lt;!-- raw HTML omitted --&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;筹集了1840万美元 &lt;!-- raw HTML omitted --&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;以固定价格递减的BTC进行支付 &lt;!-- raw HTML omitted --&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;2000 ETH / BTC降至1337 ETH / BTC &lt;!-- raw HTML omitted --&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;31.5K BTC或6000万ETH &lt;!-- raw HTML omitted --&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;!-- raw HTML omitted --&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;DAO&lt;/p&gt;
&lt;p&gt;Decentralized Autonomous Organization &lt;!-- raw HTML omitted --&gt;&lt;/p&gt;
&lt;p&gt;DAO &lt;!-- raw HTML omitted --&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;去中心化的自治组织 &lt;!-- raw HTML omitted --&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;在以太坊上运行的自营风险投资基金 &lt;!-- raw HTML omitted --&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;在1个月内（2016年5月）从11000名投资者那里筹集了1.5亿美元的资金 &lt;!-- raw HTML omitted --&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;打算让代币持有人对投资建议进行投票 &lt;!-- raw HTML omitted --&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;2016年6月。代码漏洞被利用 &lt;!-- raw HTML omitted --&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;5000万美元被抽走 &lt;!-- raw HTML omitted --&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;投资者的风险 &lt;!-- raw HTML omitted --&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;由于设计（或测试）不当的代码造成的资金损失 &lt;!-- raw HTML omitted --&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;以太坊节点投票决定硬分叉以恢复损失的资金 &lt;!-- raw HTML omitted --&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;2016年7月20日在区块1,920,000处 &lt;!-- raw HTML omitted --&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;现在有2个分支。 &lt;!-- raw HTML omitted --&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;以太坊（区块链排除了损失） &lt;!-- raw HTML omitted --&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;以太坊classic（漏洞仍然存在）。 &lt;!-- raw HTML omitted --&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;!-- raw HTML omitted --&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;Tezos&lt;/p&gt;
&lt;p&gt;一个去中心化的区块链，以促进代码的正式验证，以及智能合约。 &lt;!-- raw HTML omitted --&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;发起人和s/w开发者。阿瑟-布莱特曼和凯瑟琳-布莱特曼（美国） &lt;!-- raw HTML omitted --&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Tezos基金会（瑞士）。Johann Gevers &lt;!-- raw HTML omitted --&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;2017年7月的ICO &lt;!-- raw HTML omitted --&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;筹集了2.32亿美元的ETH和BTC &lt;!-- raw HTML omitted --&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;!-- raw HTML omitted --&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;布雷特曼夫妇与基金会之间存在分歧 &lt;!-- raw HTML omitted --&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;两人之间的律师函 &lt;!-- raw HTML omitted --&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;!-- raw HTML omitted --&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;推迟开发和推出代币的时间 &lt;!-- raw HTML omitted --&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;谁来做系统/软件开发？ &lt;!-- raw HTML omitted --&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;投资者对延迟的不满 &lt;!-- raw HTML omitted --&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;投资者提出集体诉讼的风险。 &lt;!-- raw HTML omitted --&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;!-- raw HTML omitted --&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;Polkadot 2017&lt;/p&gt;
&lt;p&gt;目标 &lt;!-- raw HTML omitted --&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;将私人区块链和公共区块链联系在一起 &lt;!-- raw HTML omitted --&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;!-- raw HTML omitted --&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;推动者 &lt;!-- raw HTML omitted --&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;Gavin Wood（前以太坊CTO） &lt;!-- raw HTML omitted --&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Jutta Steiner（前以太坊）。 &lt;!-- raw HTML omitted --&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Parity软件公司 &lt;!-- raw HTML omitted --&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Parity软件公司（英国） &lt;!-- raw HTML omitted --&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Web 3.0基金会（柏林） &lt;!-- raw HTML omitted --&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;2017年10月进行ICO，募集资金。 &lt;!-- raw HTML omitted --&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;私人销售：8300万美元的瑞士法郎 &lt;!-- raw HTML omitted --&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;公开销售：1.4亿美元的以太币和比特币 &lt;!-- raw HTML omitted --&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;拍卖过程是降价拍卖（荷兰拍卖）。 &lt;!-- raw HTML omitted --&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;!-- raw HTML omitted --&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;Polkadot: 多签名钱包的问题&lt;/p&gt;
&lt;p&gt;支付到以太坊多签名钱包的资金 &lt;!-- raw HTML omitted --&gt;&lt;/p&gt;
&lt;p&gt;以太坊多签名钱包模板将大部分的处理（除了支付出去）放在一个库钱包里 &lt;!-- raw HTML omitted --&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;这是为了减少处理成本 &lt;!-- raw HTML omitted --&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;库钱包有一个漏洞 &lt;!-- raw HTML omitted --&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;有人可以调用它并初始化它（获得它的所有权）。 &lt;!-- raw HTML omitted --&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;然后可以杀死它 &lt;!-- raw HTML omitted --&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;有人这么做了! (可能是意外的) &lt;!-- raw HTML omitted --&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;任何使用这个钱包的多重签名的钱包都不能再访问了 一些50万ETH不能再访问了 &lt;!-- raw HTML omitted --&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;包括为Polkadot筹集的9000万美元的资金。 &lt;!-- raw HTML omitted --&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;h4 id=&#34;risks-of-an-ico&#34;&gt;Risks of an ICO&lt;/h4&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;任何商业投资的风险投资可能失败 &lt;!-- raw HTML omitted --&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;市场需求可能不存在 &lt;!-- raw HTML omitted --&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;特别是对于寻求创造新市场类别的产品 &lt;!-- raw HTML omitted --&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;诈骗和欺诈 &lt;!-- raw HTML omitted --&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;对新技术投资的风险 &lt;!-- raw HTML omitted --&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;技术可能会向前发展 &lt;!-- raw HTML omitted --&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;技术人才的短缺 &lt;!-- raw HTML omitted --&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;可能出现竞争 &lt;!-- raw HTML omitted --&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;网络效应和路径依赖 &lt;!-- raw HTML omitted --&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;ICO的特殊风险 &lt;!-- raw HTML omitted --&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;技术是新的和不成熟的，还没有得到很好的理解 &lt;!-- raw HTML omitted --&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;监管风险（例如，被监管机构起诉） &lt;!-- raw HTML omitted --&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;可能是一个庞氏骗局 &lt;!-- raw HTML omitted --&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;投资者的集体诉讼 &lt;!-- raw HTML omitted --&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;早期投资者可能会被后期投资者起诉。 &lt;!-- raw HTML omitted --&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
</description>
        </item>
        <item>
        <title>CFC Week 3: Malware uses and monetisation</title>
        <link>https://ginkgo.org.cn/posts/cfc_week_3_malware_uses_and_monetisation/</link>
        <pubDate>Mon, 09 May 2022 00:00:00 +0000</pubDate>
        
        <guid>https://ginkgo.org.cn/posts/cfc_week_3_malware_uses_and_monetisation/</guid>
        <description>&lt;h2 id=&#34;cfc-week-3-malware-uses-and-monetisation&#34;&gt;CFC Week 3: Malware uses and monetisation&lt;/h2&gt;
&lt;h3 id=&#34;learning-outcomes&#34;&gt;Learning outcomes&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;&lt;input checked=&#34;&#34; disabled=&#34;&#34; type=&#34;checkbox&#34;&gt; Explain the different monetisation strategies. &lt;!-- raw HTML omitted --&gt;&lt;/li&gt;
&lt;li&gt;&lt;input checked=&#34;&#34; disabled=&#34;&#34; type=&#34;checkbox&#34;&gt; Discuss the other ways malware is used, apart from monetisation. &lt;!-- raw HTML omitted --&gt;&lt;/li&gt;
&lt;li&gt;&lt;input checked=&#34;&#34; disabled=&#34;&#34; type=&#34;checkbox&#34;&gt; Explain how cybercrime is a commodity and how it is supported by an underground economy. &lt;!-- raw HTML omitted --&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id=&#34;what-is-the-information-stealing-malware&#34;&gt;What is the information-stealing malware?&lt;/h3&gt;
&lt;p&gt;Information-stealing malware monitors its victims to collect usernames, passwords and financial information &lt;!-- raw HTML omitted --&gt;&lt;/p&gt;
&lt;h3 id=&#34;what-is-two-factor-authentication&#34;&gt;What is two-factor authentication?&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;what you know (password) &lt;!-- raw HTML omitted --&gt;&lt;/li&gt;
&lt;li&gt;what you have (mobile phone for code) &lt;!-- raw HTML omitted --&gt;&lt;/li&gt;
&lt;li&gt;what you are (fingerprint, face, retina) &lt;!-- raw HTML omitted --&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id=&#34;what-is-man-in-the-browser-attack&#34;&gt;What is man-in-the-browser attack?&lt;/h3&gt;
&lt;p&gt;Man-in-the-browser attacks changes the browser window and makes users think that they are performing a legitimate transaction when they are sending money to the attacker instead. &lt;!-- raw HTML omitted --&gt;&lt;/p&gt;
&lt;h3 id=&#34;describe-operations-of-a-mobile-banking-trojans&#34;&gt;Describe operations of a mobile banking trojans&lt;/h3&gt;
&lt;p&gt;&lt;figure&gt;&lt;img src=&#34;https://ginkgo.org.cn/ox-hugo/2022-05-09_15-09-49_screenshot.png&#34; width=&#34;700px&#34;/&gt;
&lt;/figure&gt;
 &lt;!-- raw HTML omitted --&gt;&lt;/p&gt;
&lt;h3 id=&#34;what-is-ransomware&#34;&gt;What is Ransomware&lt;/h3&gt;
&lt;p&gt;Cybercriminals encrypt user&amp;rsquo;s files and ask for a ransom to decrypt them again &lt;!-- raw HTML omitted --&gt;&lt;/p&gt;
&lt;h3 id=&#34;what-is-fake-antivirus&#34;&gt;What is fake antivirus?&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;lure user to pay the money and download fake antivirus. &lt;!-- raw HTML omitted --&gt;&lt;/li&gt;
&lt;li&gt;The fake antivirus doesn&amp;rsquo;t to anything, but perform malicious activities itself &lt;!-- raw HTML omitted --&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id=&#34;what-is-pay-per-installs-scheme&#34;&gt;What is pay-per-installs scheme&lt;/h3&gt;
&lt;p&gt;rent botnets for other cybercriminals for installing malware &lt;!-- raw HTML omitted --&gt;&lt;/p&gt;
&lt;h3 id=&#34;what-is-ddos-as-a-service&#34;&gt;What is DDoS as a service&lt;/h3&gt;
&lt;dl&gt;
&lt;dt&gt;Types&lt;/dt&gt;
&lt;dd&gt;&lt;/dd&gt;
&lt;/dl&gt;
&lt;p&gt;use servers: higher bandwidth &lt;!-- raw HTML omitted --&gt;&lt;/p&gt;
&lt;p&gt;use infected computers: cheaper &lt;!-- raw HTML omitted --&gt;&lt;/p&gt;
&lt;dl&gt;
&lt;dt&gt;Services&lt;/dt&gt;
&lt;dd&gt;&lt;/dd&gt;
&lt;/dl&gt;
&lt;p&gt;damage their competitor &lt;!-- raw HTML omitted --&gt;&lt;/p&gt;
&lt;p&gt;stress-testing services &lt;!-- raw HTML omitted --&gt;&lt;/p&gt;
&lt;h3 id=&#34;mining-bitcoin&#34;&gt;Mining bitcoin&lt;/h3&gt;
&lt;p&gt;use infected computers to mine bitcoin, set up botnets &lt;!-- raw HTML omitted --&gt;&lt;/p&gt;
&lt;h3 id=&#34;ways-of-using-malware-to-make-money&#34;&gt;Ways of using malware to make money&lt;/h3&gt;
&lt;ol&gt;
&lt;li&gt;Man-in-the-browser attacks &lt;!-- raw HTML omitted --&gt;&lt;/li&gt;
&lt;li&gt;Financial malware &lt;!-- raw HTML omitted --&gt;&lt;/li&gt;
&lt;li&gt;Ransomware &lt;!-- raw HTML omitted --&gt;&lt;/li&gt;
&lt;li&gt;Fake anti-virus &lt;!-- raw HTML omitted --&gt;&lt;/li&gt;
&lt;li&gt;DDoS as a service &lt;!-- raw HTML omitted --&gt;&lt;/li&gt;
&lt;li&gt;Mining bitcoin &lt;!-- raw HTML omitted --&gt;&lt;/li&gt;
&lt;/ol&gt;
&lt;h3 id=&#34;how-underground-communities-avoid-lemon-market&#34;&gt;How underground communities avoid lemon market?&lt;/h3&gt;
&lt;dl&gt;
&lt;dt&gt;self-policing&lt;/dt&gt;
&lt;dd&gt;&lt;ul&gt;
&lt;li&gt;scrutinise newly listed products and services &lt;!-- raw HTML omitted --&gt;&lt;/li&gt;
&lt;li&gt;interview people who want to join &lt;!-- raw HTML omitted --&gt;&lt;/li&gt;
&lt;li&gt;require recommendations from joined members to join &lt;!-- raw HTML omitted --&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/dd&gt;
&lt;dt&gt;escrow system&lt;/dt&gt;
&lt;dd&gt;&lt;ul&gt;
&lt;li&gt;payments first made to the administrator &lt;!-- raw HTML omitted --&gt;&lt;/li&gt;
&lt;li&gt;forwarded to seller after authenticity has been confirmed &lt;!-- raw HTML omitted --&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/dd&gt;
&lt;/dl&gt;
&lt;h3 id=&#34;how-cybercrime-supported-by-an-underground-economy&#34;&gt;How cybercrime supported by an underground economy?&lt;/h3&gt;
&lt;ol&gt;
&lt;li&gt;
&lt;p&gt;CAPTCHA-solving service
: automated software solver or human manually solve the CAPTCHAs &lt;!-- raw HTML omitted --&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Phone vertification abuse
: -   use Voice over IP (VoIP) numbers &lt;!-- raw HTML omitted --&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;purchase SIM cards in developing countries (cheap) &lt;!-- raw HTML omitted --&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;use SMS-vertification as a service &lt;!-- raw HTML omitted --&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Fake social media accounts
: -   automatically create accounts and followers &lt;!-- raw HTML omitted --&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Proxy
: is a server that relays connections for a host, which hide the location and circumvent censorship &lt;!-- raw HTML omitted --&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Exploit kits
: automate the exploitation of vulnerabilities &lt;!-- raw HTML omitted --&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Payment
: -   find banks willing to process criminal payment (high transaction fees) &lt;!-- raw HTML omitted --&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;use cryptocurrency &lt;!-- raw HTML omitted --&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ol&gt;
</description>
        </item>
        <item>
        <title>CFC Week 2: Advanced malware and worldwide SPAM</title>
        <link>https://ginkgo.org.cn/posts/cfc_week_2_advanced_malware_and_worldwide_spam_economy/</link>
        <pubDate>Sat, 07 May 2022 00:00:00 +0000</pubDate>
        
        <guid>https://ginkgo.org.cn/posts/cfc_week_2_advanced_malware_and_worldwide_spam_economy/</guid>
        <description>&lt;h2 id=&#34;cfc-week-2-advanced-malware-and-worldwide-spam&#34;&gt;CFC Week 2: Advanced malware and worldwide SPAM&lt;/h2&gt;
&lt;h3 id=&#34;learning-outcomes&#34;&gt;Learning outcomes&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;&lt;input checked=&#34;&#34; disabled=&#34;&#34; type=&#34;checkbox&#34;&gt; Describe how users get infected with malware. &lt;!-- raw HTML omitted --&gt;&lt;/li&gt;
&lt;li&gt;&lt;input checked=&#34;&#34; disabled=&#34;&#34; type=&#34;checkbox&#34;&gt; Describe how malware hides and how botnets function. &lt;!-- raw HTML omitted --&gt;&lt;/li&gt;
&lt;li&gt;&lt;input checked=&#34;&#34; disabled=&#34;&#34; type=&#34;checkbox&#34;&gt; Discuss the different ways criminals use malware. &lt;!-- raw HTML omitted --&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id=&#34;what-is-infection-vector&#34;&gt;What is Infection vector?&lt;/h3&gt;
&lt;p&gt;The method malware uses to propagate itself or infect a system or device &lt;!-- raw HTML omitted --&gt;&lt;/p&gt;
&lt;h3 id=&#34;list-methods-users-get-infected&#34;&gt;List methods users get infected&lt;/h3&gt;
&lt;ol&gt;
&lt;li&gt;
&lt;p&gt;Social engineering
: -   Users are made to believe that they are installing a useful program instead of a malicious one &lt;!-- raw HTML omitted --&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Common vehicles are: &lt;!-- raw HTML omitted --&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;Email attachments &lt;!-- raw HTML omitted --&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Software updates &lt;!-- raw HTML omitted --&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Scareware &lt;!-- raw HTML omitted --&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Drive-by-download
: -   A vulnerability on the user&amp;rsquo;s computer is exploited to have the computer automatically download and install malicious software &lt;!-- raw HTML omitted --&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Common processes: &lt;!-- raw HTML omitted --&gt;
&lt;ol&gt;
&lt;li&gt;
&lt;p&gt;The user click on a link and is redirected to a malicious site &lt;!-- raw HTML omitted --&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Malware is downloaded to the user&amp;rsquo;s computer &lt;!-- raw HTML omitted --&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;By exploiting a vulnerability, malware is executed and spread without the user&amp;rsquo;s interaction &lt;!-- raw HTML omitted --&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;h3 id=&#34;how-mebroot-malware-works&#34;&gt;How mebroot malware works?&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;Install in the Master Boot record, where executed before the operating system is loaded &lt;!-- raw HTML omitted --&gt;&lt;/li&gt;
&lt;li&gt;then the malware modifies the operating system when it is loaded, disable the antivirus &lt;!-- raw HTML omitted --&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id=&#34;what-are-differences-between-instruction-reordering-and-instruction-substitution&#34;&gt;What are differences between instruction reordering and instruction substitution?&lt;/h3&gt;
&lt;ol&gt;
&lt;li&gt;
&lt;p&gt;Instruction reordering
: -   the order of the instructions is changed &lt;!-- raw HTML omitted --&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;output is the same &lt;!-- raw HTML omitted --&gt;&lt;/li&gt;
&lt;li&gt;signature is different &lt;!-- raw HTML omitted --&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Instruction substitution
: -   different instructions are used with produce the same result &lt;!-- raw HTML omitted --&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;h3 id=&#34;how-modern-antivirus-software-works-against-instruction-reordering-substitution&#34;&gt;How modern antivirus software works against instruction reordering/substitution?&lt;/h3&gt;
&lt;p&gt;looks for behaviours that are typical of malicious code &lt;!-- raw HTML omitted --&gt;&lt;/p&gt;
&lt;h3 id=&#34;what-is-polymorphic-malware&#34;&gt;What is polymorphic malware&lt;/h3&gt;
&lt;p&gt;malware itself comes encrypted, each infection file looks different &lt;!-- raw HTML omitted --&gt;&lt;/p&gt;
&lt;h3 id=&#34;how-malware-authors-prevent-analysis-in-the-first-place&#34;&gt;How malware authors prevent analysis in the first place?&lt;/h3&gt;
&lt;p&gt;Malware developers try to detect whether their malware is being analysed and stop execution &lt;!-- raw HTML omitted --&gt;&lt;/p&gt;
&lt;h3 id=&#34;how-botnets-works&#34;&gt;How botnets works?&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;A number of computers compromised by an attacker &lt;!-- raw HTML omitted --&gt;&lt;/li&gt;
&lt;li&gt;bots connect to a botmaster to receive commands &lt;!-- raw HTML omitted --&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id=&#34;what-is-fast-flux&#34;&gt;What is fast flux?&lt;/h3&gt;
&lt;p&gt;Host C&amp;amp;C servers in static domain names, but frequently change the IP addresses behind &lt;!-- raw HTML omitted --&gt;&lt;/p&gt;
&lt;h3 id=&#34;what-does-domain-generation-algorithm--dga--do&#34;&gt;What does domain generation algorithm(DGA) do?&lt;/h3&gt;
&lt;p&gt;constantly change the domain names of C&amp;amp;C servers, DGA is used to map domain names to C&amp;amp;C servers &lt;!-- raw HTML omitted --&gt;&lt;/p&gt;
&lt;h3 id=&#34;what-is-remote-access-tools--rats&#34;&gt;What is remote access tools(RATs)&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;usually used in commodity malware &lt;!-- raw HTML omitted --&gt;&lt;/li&gt;
&lt;li&gt;RAT operator interacts with the victim&amp;rsquo;s machine via a GUI &lt;!-- raw HTML omitted --&gt;&lt;/li&gt;
&lt;li&gt;
&lt;ul&gt;
&lt;li&gt;capture audio and video from device &lt;!-- raw HTML omitted --&gt;&lt;/li&gt;
&lt;li&gt;logging keyboard inputs &lt;!-- raw HTML omitted --&gt;&lt;/li&gt;
&lt;li&gt;browse files on machine &lt;!-- raw HTML omitted --&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id=&#34;three-main-challenges-of-criminals-evolving-in-an-arms-race&#34;&gt;Three main challenges of criminals evolving in an arms race?&lt;/h3&gt;
&lt;ol&gt;
&lt;li&gt;Modern malware does not need user interaction to install &lt;!-- raw HTML omitted --&gt;&lt;/li&gt;
&lt;li&gt;Malware uses advanced techniques to avoid detection &lt;!-- raw HTML omitted --&gt;&lt;/li&gt;
&lt;li&gt;Botnets are constantly evolving their communication model to become more resilient &lt;!-- raw HTML omitted --&gt;&lt;/li&gt;
&lt;/ol&gt;
&lt;h3 id=&#34;ways-of-monetising-botnets-include&#34;&gt;Ways of monetising botnets include:&lt;/h3&gt;
&lt;ol&gt;
&lt;li&gt;Send email spam &lt;!-- raw HTML omitted --&gt;&lt;/li&gt;
&lt;li&gt;Post malicious content on social networks &lt;!-- raw HTML omitted --&gt;&lt;/li&gt;
&lt;li&gt;Perform advertisement fraud &lt;!-- raw HTML omitted --&gt;&lt;/li&gt;
&lt;li&gt;Encrypt victim data and ask for ransom &lt;!-- raw HTML omitted --&gt;&lt;/li&gt;
&lt;li&gt;Steal the victim&amp;rsquo;s financial information &lt;!-- raw HTML omitted --&gt;&lt;/li&gt;
&lt;/ol&gt;
&lt;h3 id=&#34;differences-between-legitimate-and-malicious-affiliate-programmes&#34;&gt;Differences between legitimate and malicious affiliate programmes&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;they deal with products that are illegal &lt;!-- raw HTML omitted --&gt;&lt;/li&gt;
&lt;li&gt;they endorse criminal promotion techniques(botnets, black-hat SEO) &lt;!-- raw HTML omitted --&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id=&#34;what-is-blackhat-search-engine-optimisation--seo--and-how-it-works&#34;&gt;What is blackhat search engine optimisation(SEO), and how it works?&lt;/h3&gt;
&lt;p&gt;To attract victims, malicious websites are pushed high in search engine ranking for keywords that are unrelated to the website &lt;!-- raw HTML omitted --&gt;&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;Find popular trends on Google &lt;!-- raw HTML omitted --&gt;&lt;/li&gt;
&lt;li&gt;Generate content related to the trends and link to the malicious site &lt;!-- raw HTML omitted --&gt;&lt;/li&gt;
&lt;li&gt;Upload the content on a forum, or on a compromised websites &lt;!-- raw HTML omitted --&gt;&lt;/li&gt;
&lt;/ol&gt;
&lt;h3 id=&#34;what-are-two-tiers-in-spam-operations&#34;&gt;What are two tiers in spam operations&lt;/h3&gt;
&lt;dl&gt;
&lt;dt&gt;Front-end&lt;/dt&gt;
&lt;dd&gt;Deals with sending spam emails: &lt;!-- raw HTML omitted --&gt;
&lt;ul&gt;
&lt;li&gt;Email harvesters &lt;!-- raw HTML omitted --&gt;&lt;/li&gt;
&lt;li&gt;Botmasters &lt;!-- raw HTML omitted --&gt;&lt;/li&gt;
&lt;li&gt;Spammers &lt;!-- raw HTML omitted --&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/dd&gt;
&lt;dt&gt;Back-end&lt;/dt&gt;
&lt;dd&gt;Deals with converting spam traffic into money: &lt;!-- raw HTML omitted --&gt;
&lt;ul&gt;
&lt;li&gt;affiliate programmes &lt;!-- raw HTML omitted --&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/dd&gt;
&lt;/dl&gt;
&lt;h3 id=&#34;actors-in-underground-economy&#34;&gt;Actors in underground economy&lt;/h3&gt;
&lt;dl&gt;
&lt;dt&gt;Botmasters&lt;/dt&gt;
&lt;dd&gt;infect computers, create botnets, and rent them &lt;!-- raw HTML omitted --&gt;&lt;/dd&gt;
&lt;dt&gt;Harvesters&lt;/dt&gt;
&lt;dd&gt;crawl the internet looking for valid email addresses &lt;!-- raw HTML omitted --&gt;&lt;/dd&gt;
&lt;dt&gt;Search engine optimisation(SEO) experts&lt;/dt&gt;
&lt;dd&gt;make sure that malicious sites are highly ranked on search engines &lt;!-- raw HTML omitted --&gt;&lt;/dd&gt;
&lt;dt&gt;Spam affiliate programs&lt;/dt&gt;
&lt;dd&gt;Set up sites selling goods - spammers can sign up to these programs and receive their cut &lt;!-- raw HTML omitted --&gt;&lt;/dd&gt;
&lt;/dl&gt;
</description>
        </item>
        <item>
        <title>CFC Week 4: Cybercrime mitigations</title>
        <link>https://ginkgo.org.cn/posts/cfc_week_4_cybercrime_mitigations/</link>
        <pubDate>Sat, 07 May 2022 00:00:00 +0000</pubDate>
        
        <guid>https://ginkgo.org.cn/posts/cfc_week_4_cybercrime_mitigations/</guid>
        <description>&lt;h2 id=&#34;cfc-week-4-cybercrime-mitigations&#34;&gt;CFC Week 4: Cybercrime mitigations&lt;/h2&gt;
&lt;h3 id=&#34;learning-outcomes&#34;&gt;Learning outcomes&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;List and describe the various mitigation strategies. &lt;!-- raw HTML omitted --&gt;&lt;/li&gt;
&lt;li&gt;Understand that there is a constant arms race between criminals and investigators. &lt;!-- raw HTML omitted --&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id=&#34;list-four-mitigation-strategies&#34;&gt;List four mitigation strategies&lt;/h3&gt;
&lt;dl&gt;
&lt;dt&gt;Engineering&lt;/dt&gt;
&lt;dd&gt;Securing computers and networks crippling botnet operations. &lt;!-- raw HTML omitted --&gt;&lt;/dd&gt;
&lt;dt&gt;Law&lt;/dt&gt;
&lt;dd&gt;Effectively prosecuting malware authors and their associates. &lt;!-- raw HTML omitted --&gt;&lt;/dd&gt;
&lt;dt&gt;Economics&lt;/dt&gt;
&lt;dd&gt;Making sure that cybercriminals don&amp;rsquo;t make money. &lt;!-- raw HTML omitted --&gt;&lt;/dd&gt;
&lt;dt&gt;Education&lt;/dt&gt;
&lt;dd&gt;Increasing user awareness of cybercrime threats. &lt;!-- raw HTML omitted --&gt;&lt;/dd&gt;
&lt;/dl&gt;
&lt;h3 id=&#34;two-types-of-intrusion-detection-system--ids&#34;&gt;Two types of Intrusion detection system (IDS)&lt;/h3&gt;
&lt;dl&gt;
&lt;dt&gt;Misuse-based IDS&lt;/dt&gt;
&lt;dd&gt;rely on models of malicious behaviour to identify matching entries in the event stream &lt;!-- raw HTML omitted --&gt;&lt;/dd&gt;
&lt;dt&gt;Anomaly-based IDS&lt;/dt&gt;
&lt;dd&gt;rely on models of normal behaviour to identify anomalous entries in the event stream &lt;!-- raw HTML omitted --&gt;&lt;/dd&gt;
&lt;/dl&gt;
&lt;h3 id=&#34;list-engineering-mitigations-techniques&#34;&gt;List engineering mitigations techniques&lt;/h3&gt;
&lt;ol&gt;
&lt;li&gt;antivirus software &lt;!-- raw HTML omitted --&gt;&lt;/li&gt;
&lt;li&gt;intrusion detection &lt;!-- raw HTML omitted --&gt;&lt;/li&gt;
&lt;li&gt;patch vulnerabilities &lt;!-- raw HTML omitted --&gt;&lt;/li&gt;
&lt;li&gt;Blacklist &lt;!-- raw HTML omitted --&gt;&lt;/li&gt;
&lt;li&gt;mitigate blackhat search engine optimisation &lt;!-- raw HTML omitted --&gt;&lt;/li&gt;
&lt;li&gt;DNS sinkholing (ISPs can avoid directing their clients to domains that are known to be malicious) &lt;!-- raw HTML omitted --&gt;&lt;/li&gt;
&lt;li&gt;Dynamically allocating the resources (against DDoS) &lt;!-- raw HTML omitted --&gt;&lt;/li&gt;
&lt;/ol&gt;
&lt;h3 id=&#34;how-to-take-down-a-botnet&#34;&gt;How to take down a botnet?&lt;/h3&gt;
&lt;ol&gt;
&lt;li&gt;seize active C&amp;amp;C servers (law enforcement/ ISPs) &lt;!-- raw HTML omitted --&gt;&lt;/li&gt;
&lt;li&gt;mitigate existing infections (DNS sinkholing) &lt;!-- raw HTML omitted --&gt;&lt;/li&gt;
&lt;li&gt;clean up infected computers (redirect the user and teach them how to) &lt;!-- raw HTML omitted --&gt;&lt;/li&gt;
&lt;/ol&gt;
&lt;h3 id=&#34;how-to-improve-user-awareness-for-reducing-the-rate-of-malware-infections&#34;&gt;How to improve user awareness for reducing the rate of malware infections&lt;/h3&gt;
&lt;p&gt;Educations on: &lt;!-- raw HTML omitted --&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Social engineering, how to avoid installing scareware &lt;!-- raw HTML omitted --&gt;&lt;/li&gt;
&lt;li&gt;Software updates, how to keep systems up to date to avoid driven-by download attacks &lt;!-- raw HTML omitted --&gt;&lt;/li&gt;
&lt;li&gt;Scams, how not to be money mule or reshipping mule scams &lt;!-- raw HTML omitted --&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id=&#34;why-arrest-criminals-is-more-effective&#34;&gt;Why arrest criminals is more effective&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;Attackers could always set up a new operation &lt;!-- raw HTML omitted --&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Botnet is easy to set up &lt;!-- raw HTML omitted --&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Attackers learn from the takedown and make the operation more resilient &lt;!-- raw HTML omitted --&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id=&#34;two-reasons-for-taking-down-c-and-c-servers&#34;&gt;Two reasons for taking down C&amp;amp;C servers:&lt;/h3&gt;
&lt;ol&gt;
&lt;li&gt;Because the act of misusing computers through malware is illegal &lt;!-- raw HTML omitted --&gt;&lt;/li&gt;
&lt;li&gt;Because the operations that the botnet carried out are illegal &lt;!-- raw HTML omitted --&gt;&lt;/li&gt;
&lt;/ol&gt;
&lt;h3 id=&#34;list-economics-mitigation-strategies&#34;&gt;List economics mitigation strategies&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;Raise domain cost to curb misuse &lt;!-- raw HTML omitted --&gt;&lt;/li&gt;
&lt;li&gt;ISPs need to keep good relations with each other &lt;!-- raw HTML omitted --&gt;&lt;/li&gt;
&lt;li&gt;Banks need to keep good relationships with other financial institutions which force rogue banks to stop doing business with cybercriminals &lt;!-- raw HTML omitted --&gt;&lt;/li&gt;
&lt;/ul&gt;
</description>
        </item>
        <item>
        <title>CFC Week 5: Legal Framework</title>
        <link>https://ginkgo.org.cn/posts/cfc_week_5_legal_framework/</link>
        <pubDate>Fri, 06 May 2022 00:00:00 +0000</pubDate>
        
        <guid>https://ginkgo.org.cn/posts/cfc_week_5_legal_framework/</guid>
        <description>&lt;h2 id=&#34;cfc-week-5-legal-framework&#34;&gt;CFC Week 5: Legal Framework&lt;/h2&gt;
&lt;h3 id=&#34;learning-outcomes&#34;&gt;Learning outcomes&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;&lt;input checked=&#34;&#34; disabled=&#34;&#34; type=&#34;checkbox&#34;&gt; Briefly describe the legal aspects of cybersecurity. &lt;!-- raw HTML omitted --&gt;&lt;/li&gt;
&lt;li&gt;&lt;input checked=&#34;&#34; disabled=&#34;&#34; type=&#34;checkbox&#34;&gt; Summarise the main pieces of computer misuse legislation. &lt;!-- raw HTML omitted --&gt;&lt;/li&gt;
&lt;li&gt;&lt;input checked=&#34;&#34; disabled=&#34;&#34; type=&#34;checkbox&#34;&gt; Identify the different pieces of legislation governing intellectual property, copyright and data protection. &lt;!-- raw HTML omitted --&gt;&lt;/li&gt;
&lt;li&gt;&lt;input checked=&#34;&#34; disabled=&#34;&#34; type=&#34;checkbox&#34;&gt; Identify the three ACPO principles and explain their implications for computer forensics. &lt;!-- raw HTML omitted --&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id=&#34;11-dot-describe-the-three-main-sections-of-the-uk-computer-misuse-act-1990-as-modified-by-the-police-and-justice-act-2006-dot&#34;&gt;11. Describe the three main sections of the UK Computer Misuse Act 1990, as modified by the Police and Justice Act 2006.&lt;/h3&gt;
&lt;ol&gt;
&lt;li&gt;
&lt;p&gt;&lt;code&gt;unauthorised access&lt;/code&gt; to computer material, punishable by 24 months&amp;rsquo; imprisonment and/or an unlimited fine &lt;!-- raw HTML omitted --&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;updated (2006): punishable by up to 2 years in prison or a fine or both &lt;!-- raw HTML omitted --&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;code&gt;unauthorised access with intent&lt;/code&gt; to commit or facilitate commission of further offence(s), punishable by 24 months’ imprisonment and/or an unlimited fine on summary conviction and/or 5 years imprisonment and/or an unlimited fine on indictment; &lt;!-- raw HTML omitted --&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;code&gt;unauthorised modification&lt;/code&gt; of computer material, punishable by 24 months’ imprisonment and/or an unlimited fine on summary conviction and/or 10 years imprisonment and/or an unlimited fine on indictment; &lt;!-- raw HTML omitted --&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;updated (2006) by &lt;code&gt;unauthorised acts&lt;/code&gt; with intent to impair operation of computer, etc. &lt;!-- raw HTML omitted --&gt;
&lt;ul&gt;
&lt;li&gt;punishable by up to 10 years in prison or a fine or both to cover Denial of Service (DoS) attacks. &lt;!-- raw HTML omitted --&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;h3 id=&#34;12-dot-describe-the-main-provisions-of-the-investigatory-powers-act-2017-and-explain-how-the-act-can-benefit-certain-digital-forensic-investigations-dot&#34;&gt;12. Describe the main provisions of the Investigatory Powers Act 2017 and explain how the Act can benefit certain digital forensic investigations.&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;Provides for UK intelligence agencies and UK law enforcement to carry out targeted interception of communications, bulk collection of communications data, and bulk interception of communications; &lt;!-- raw HTML omitted --&gt;&lt;/li&gt;
&lt;li&gt;permits access to CSP(communication service providers) and ISP(Internet Service Provider) logs, and right to demand decryption keys to encrypted data. &lt;!-- raw HTML omitted --&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id=&#34;how-would-law-enforcement-go-about-prosecuting-terrorism-in-the-uk-and-outside-of-the-uk&#34;&gt;How would law enforcement go about prosecuting terrorism in the UK and outside of the UK?&lt;/h3&gt;
&lt;p&gt;Apply Mutual Legal Assistance Treaties applicable for specific country &lt;!-- raw HTML omitted --&gt;&lt;/p&gt;
&lt;h3 id=&#34;two-tiers-of-administrative-fines-that-can-be-levied-as-penalties-for-non-compliance-in-general-data-protection-regulations--2018&#34;&gt;Two tiers of administrative fines that can be levied as penalties for non-compliance in General Data Protection Regulations (2018)&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;Up to €10 million, or 2 per cent annual global turnover – whichever is higher. &lt;!-- raw HTML omitted --&gt;&lt;/li&gt;
&lt;li&gt;Up to €20 million, or 4 per cent annual global turnover – whichever is higher. &lt;!-- raw HTML omitted --&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id=&#34;what-type-of-data-and-individual-s-fundamental-rights-are-protected-under-the-gdpr--general-data-protection-regulation&#34;&gt;What type of data and individual&amp;rsquo;s fundamental rights are protected under the GDPR(General Data Protection Regulation)?&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;Type &lt;!-- raw HTML omitted --&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;Data minimisation: only collect and use what is needed for the processing activity being undertaken &lt;!-- raw HTML omitted --&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Rights &lt;!-- raw HTML omitted --&gt;&lt;/li&gt;
&lt;li&gt;Retention: keep it only for as long as required &lt;!-- raw HTML omitted --&gt;&lt;/li&gt;
&lt;li&gt;Accountability: record keeping of data processing &lt;!-- raw HTML omitted --&gt;&lt;/li&gt;
&lt;li&gt;Security: protect data against breaches or unlawful processing of personal data &lt;!-- raw HTML omitted --&gt;&lt;/li&gt;
&lt;li&gt;Purpose limitation – data can only be used for the purpose it was collected for &lt;!-- raw HTML omitted --&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id=&#34;10-dot-describe-the-four-uk-acpo--association-of-chief-police-officers--principles-on-handling-digital-evidence-explaining-the-rationale-underlying-them-dot&#34;&gt;10. Describe the four UK ACPO(Association of Chief Police Officers) principles on handling digital evidence, explaining the rationale underlying them.&lt;/h3&gt;
&lt;ol&gt;
&lt;li&gt;No action taken by law enforcement agencies or their agents should change data held on a computer or storage media which may subsequently be relied upon in court. &lt;!-- raw HTML omitted --&gt;&lt;/li&gt;
&lt;li&gt;In circumstances where a person finds it necessary to access original data held on a computer or on storage media, that person must be competent to do so and be able to give evidence explaining the relevance and the implications of their actions. &lt;!-- raw HTML omitted --&gt;&lt;/li&gt;
&lt;li&gt;An audit trail or other record of all processes applied to computer-based electronic evidence should be created and preserved. An independent third party should be able to examine those processes and achieve the same result. &lt;!-- raw HTML omitted --&gt;&lt;/li&gt;
&lt;li&gt;The person in charge of the investigation (the case officer) has overall responsibility for ensuring that the law and these principles are adhered to. &lt;!-- raw HTML omitted --&gt;&lt;/li&gt;
&lt;/ol&gt;
&lt;h3 id=&#34;proportionality-issues-relating-to-seizure&#34;&gt;Proportionality issues relating to seizure&lt;/h3&gt;
&lt;ol&gt;
&lt;li&gt;Does the item may hold evidence? &lt;!-- raw HTML omitted --&gt;&lt;/li&gt;
&lt;li&gt;Where the item is found? &lt;!-- raw HTML omitted --&gt;&lt;/li&gt;
&lt;li&gt;When the offfence was committed? &lt;!-- raw HTML omitted --&gt;&lt;/li&gt;
&lt;li&gt;Seize the items current in usage first. &lt;!-- raw HTML omitted --&gt;&lt;/li&gt;
&lt;li&gt;Every seizure of item should be reasonable &lt;!-- raw HTML omitted --&gt;&lt;/li&gt;
&lt;li&gt;Follow the Human Rights &lt;!-- raw HTML omitted --&gt;&lt;/li&gt;
&lt;/ol&gt;
&lt;h3 id=&#34;what-should-be-prepared-before-attending-a-scene-to-capture-digital-evidence&#34;&gt;What should be prepared before attending a scene to capture digital evidence?&lt;/h3&gt;
&lt;ol&gt;
&lt;li&gt;Necessary equipment &lt;!-- raw HTML omitted --&gt;&lt;/li&gt;
&lt;li&gt;Consider potential sources of evidence: what, where? &lt;!-- raw HTML omitted --&gt;&lt;/li&gt;
&lt;li&gt;Consider seize cameras for taking digital photographs when evidence involve user-created digital images &lt;!-- raw HTML omitted --&gt;&lt;/li&gt;
&lt;li&gt;Take force&amp;rsquo;s speciallist advice in advance &lt;!-- raw HTML omitted --&gt;&lt;/li&gt;
&lt;/ol&gt;
&lt;h3 id=&#34;what-should-do-when-attending-a-scene&#34;&gt;What should do when attending a scene?&lt;/h3&gt;
&lt;ol&gt;
&lt;li&gt;All actions should be recorded &lt;!-- raw HTML omitted --&gt;&lt;/li&gt;
&lt;li&gt;Avoid unwanted changes, be aware of volatile data, accessed by trained personnel, e.g. powered on/running systems &lt;!-- raw HTML omitted --&gt;&lt;/li&gt;
&lt;/ol&gt;
&lt;h3 id=&#34;capturing-online-evidence&#34;&gt;Capturing online evidence&lt;/h3&gt;
&lt;dl&gt;
&lt;dt&gt;Online evidence&lt;/dt&gt;
&lt;dd&gt;&lt;ol&gt;
&lt;li&gt;publicly available (e.g. forum postins, do not need to login), be aware of potential issues. &lt;!-- raw HTML omitted --&gt;&lt;/li&gt;
&lt;li&gt;private (login required) &lt;!-- raw HTML omitted --&gt;&lt;/li&gt;
&lt;li&gt;make records of all actions &lt;!-- raw HTML omitted --&gt;&lt;/li&gt;
&lt;/ol&gt;
&lt;/dd&gt;
&lt;/dl&gt;
&lt;h3 id=&#34;what-could-be-included-in-source-data&#34;&gt;What could be included in source data&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;Internet history records; &lt;!-- raw HTML omitted --&gt;&lt;/li&gt;
&lt;li&gt;E-mails; &lt;!-- raw HTML omitted --&gt;&lt;/li&gt;
&lt;li&gt;Instan Messaging logs; &lt;!-- raw HTML omitted --&gt;&lt;/li&gt;
&lt;li&gt;Media files (images and videos); &lt;!-- raw HTML omitted --&gt;&lt;/li&gt;
&lt;li&gt;Text Messages; &lt;!-- raw HTML omitted --&gt;&lt;/li&gt;
&lt;li&gt;Text documents; &lt;!-- raw HTML omitted --&gt;&lt;/li&gt;
&lt;li&gt;Spreadsheets; &lt;!-- raw HTML omitted --&gt;&lt;/li&gt;
&lt;li&gt;CCTV &lt;!-- raw HTML omitted --&gt;&lt;/li&gt;
&lt;/ul&gt;
</description>
        </item>
        <item>
        <title>CFC Week 9: Incident Management</title>
        <link>https://ginkgo.org.cn/posts/cfc_week_9_incident_management/</link>
        <pubDate>Wed, 04 May 2022 00:00:00 +0000</pubDate>
        
        <guid>https://ginkgo.org.cn/posts/cfc_week_9_incident_management/</guid>
        <description>&lt;h2 id=&#34;cfc-week-9-incident-management&#34;&gt;CFC Week 9: Incident Management&lt;/h2&gt;
&lt;h3 id=&#34;learning-outcomes&#34;&gt;Learning outcomes&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;Explain the Incident Management process. &lt;!-- raw HTML omitted --&gt;&lt;/li&gt;
&lt;li&gt;List the elements of the logging process. &lt;!-- raw HTML omitted --&gt;&lt;/li&gt;
&lt;li&gt;Describe the life cycle of events. &lt;!-- raw HTML omitted --&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id=&#34;what-is-the-incident&#34;&gt;What is the incident?&lt;/h3&gt;
&lt;p&gt;is an unexpected event that disrupts the normal operation of a system &lt;!-- raw HTML omitted --&gt;&lt;/p&gt;
&lt;h3 id=&#34;what-is-the-objective-of-the-incident-management-process&#34;&gt;What is the objective of the incident management process?&lt;/h3&gt;
&lt;p&gt;is to return the service to normal operation as quickly as possbile after disruption &lt;!-- raw HTML omitted --&gt;&lt;/p&gt;
&lt;h3 id=&#34;what-is-the-aim-of-incident-management-process&#34;&gt;What is the aim of incident management process?&lt;/h3&gt;
&lt;p&gt;create as little negative impact as possbile on the business &lt;!-- raw HTML omitted --&gt;&lt;/p&gt;
&lt;h3 id=&#34;what-are-two-modes-of-operations-in-incident-management-process&#34;&gt;What are two modes of operations in incident management process?&lt;/h3&gt;
&lt;ol&gt;
&lt;li&gt;
&lt;p&gt;In practice
: find a temporal workaround to ensure services are up and running &lt;!-- raw HTML omitted --&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;In parallel
: -   investigate the incident &lt;!-- raw HTML omitted --&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;identify the cause root &lt;!-- raw HTML omitted --&gt;&lt;/li&gt;
&lt;li&gt;find a permanent fix &lt;!-- raw HTML omitted --&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;h3 id=&#34;what-are-frameworks-used-to-tackle-incidents&#34;&gt;What are frameworks used to tackle incidents?&lt;/h3&gt;
&lt;dl&gt;
&lt;dt&gt;ITIL&lt;/dt&gt;
&lt;dd&gt;&lt;ul&gt;
&lt;li&gt;Information technology infrastructure library &lt;!-- raw HTML omitted --&gt;&lt;/li&gt;
&lt;li&gt;uses a workflow for efficient resolution &lt;!-- raw HTML omitted --&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/dd&gt;
&lt;/dl&gt;
&lt;h3 id=&#34;what-are-incident-management-workflow&#34;&gt;What are incident management workflow?&lt;/h3&gt;
&lt;p&gt;&lt;figure&gt;&lt;img src=&#34;https://ginkgo.org.cn/ox-hugo/2022-05-04_09-51-29_screenshot.png&#34; width=&#34;700px&#34;/&gt;
&lt;/figure&gt;
 &lt;!-- raw HTML omitted --&gt;&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;Incident management &lt;!-- raw HTML omitted --&gt;&lt;/li&gt;
&lt;li&gt;Logging &lt;!-- raw HTML omitted --&gt;&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;Streamlined processes &lt;!-- raw HTML omitted --&gt;&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;Categorisation &lt;!-- raw HTML omitted --&gt;&lt;/li&gt;
&lt;li&gt;Prioritisation &lt;!-- raw HTML omitted --&gt;&lt;/li&gt;
&lt;li&gt;Response &lt;!-- raw HTML omitted --&gt;&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;Follow corporations&amp;rsquo; guidelines &lt;!-- raw HTML omitted --&gt;&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;
&lt;p&gt;Diagnosis &lt;!-- raw HTML omitted --&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Escalation &lt;!-- raw HTML omitted --&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Resolution and recovery &lt;!-- raw HTML omitted --&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;closure &lt;!-- raw HTML omitted --&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;h3 id=&#34;what-is-incident-identification-in-incident-management-workflow&#34;&gt;What is Incident identification in incident management workflow?&lt;/h3&gt;
&lt;p&gt;Incidents are generally reported when attacks or incidents have been identified &lt;!-- raw HTML omitted --&gt;&lt;/p&gt;
&lt;dl&gt;
&lt;dt&gt;Unreported incidents&lt;/dt&gt;
&lt;dd&gt;False negative, pose a systematic risk to the organisation &lt;!-- raw HTML omitted --&gt;&lt;/dd&gt;
&lt;dt&gt;Mistakenly reported incidents&lt;/dt&gt;
&lt;dd&gt;False positives, when the system begin to report anomalous behaviours? &lt;!-- raw HTML omitted --&gt;&lt;/dd&gt;
&lt;/dl&gt;
&lt;h3 id=&#34;where-does-incident-identification-start-with&#34;&gt;Where does incident identification start with?&lt;/h3&gt;
&lt;p&gt;It start with identify through the automated/manual analysis of digital artefacts and logs &lt;!-- raw HTML omitted --&gt;&lt;/p&gt;
&lt;h3 id=&#34;what-is-logging-process-in-incident-management-workflow&#34;&gt;What is logging process in incident management workflow?&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;Logging is the process in which systems and applications inform about &amp;ldquo;what they do.&amp;rdquo; &lt;!-- raw HTML omitted --&gt;&lt;/li&gt;
&lt;li&gt;Useful to administrators to check when something goes wrong &lt;!-- raw HTML omitted --&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id=&#34;does-incident-management-workflow-always-start-with-analysis-of-digital-artefacts-and-logs&#34;&gt;Does incident management workflow always start with analysis of digital artefacts and logs?&lt;/h3&gt;
&lt;p&gt;Incidents are often discovered by the user of the system &lt;!-- raw HTML omitted --&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;they notice that something is abnormal &lt;!-- raw HTML omitted --&gt;&lt;/li&gt;
&lt;li&gt;they simply see evidence of an attack &lt;!-- raw HTML omitted --&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id=&#34;what-are-the-most-important-elements-of-the-logging-process&#34;&gt;What are the most important elements of the logging process?&lt;/h3&gt;
&lt;p&gt;The most important one is the event. &lt;!-- raw HTML omitted --&gt;&lt;/p&gt;
&lt;dl&gt;
&lt;dt&gt;Event&lt;/dt&gt;
&lt;dd&gt;a single occurrence within an environment &lt;!-- raw HTML omitted --&gt;
&lt;ul&gt;
&lt;li&gt;consists of event fields and event records &lt;!-- raw HTML omitted --&gt;&lt;/li&gt;
&lt;li&gt;event fields describe  characteristic of the event &lt;!-- raw HTML omitted --&gt;&lt;/li&gt;
&lt;li&gt;event records describe a collection of event fields &lt;!-- raw HTML omitted --&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/dd&gt;
&lt;/dl&gt;
&lt;h3 id=&#34;what-is-log-in-logging-process&#34;&gt;What is Log in logging process?&lt;/h3&gt;
&lt;dl&gt;
&lt;dt&gt;Log&lt;/dt&gt;
&lt;dd&gt;a collection of event records &lt;!-- raw HTML omitted --&gt;
&lt;ul&gt;
&lt;li&gt;data logs &lt;!-- raw HTML omitted --&gt;&lt;/li&gt;
&lt;li&gt;log files &lt;!-- raw HTML omitted --&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/dd&gt;
&lt;/dl&gt;
&lt;h3 id=&#34;what-is-audit-in-logging-process&#34;&gt;What is Audit in logging process?&lt;/h3&gt;
&lt;dl&gt;
&lt;dt&gt;Audit&lt;/dt&gt;
&lt;dd&gt;process of evaluating logs &lt;!-- raw HTML omitted --&gt;&lt;/dd&gt;
&lt;/dl&gt;
&lt;h3 id=&#34;what-is-recording-in-logging-process&#34;&gt;What is Recording in logging process?&lt;/h3&gt;
&lt;dl&gt;
&lt;dt&gt;Recording&lt;/dt&gt;
&lt;dd&gt;Process of tracking event fields (&amp;ldquo;I am going to track an IP address&amp;rdquo;) &lt;!-- raw HTML omitted --&gt;&lt;/dd&gt;
&lt;/dl&gt;
&lt;h3 id=&#34;what-is-logging-in-logging-process&#34;&gt;What is Logging in logging process&lt;/h3&gt;
&lt;dl&gt;
&lt;dt&gt;Logging&lt;/dt&gt;
&lt;dd&gt;is the process of saving events into logs &lt;!-- raw HTML omitted --&gt;&lt;/dd&gt;
&lt;/dl&gt;
&lt;h3 id=&#34;what-is-security-incident-in-logging-process&#34;&gt;What is Security incident in logging process&lt;/h3&gt;
&lt;dl&gt;
&lt;dt&gt;Security incident&lt;/dt&gt;
&lt;dd&gt;is the occurrence of a security event (intrusion attempt or data leakage) &lt;!-- raw HTML omitted --&gt;&lt;/dd&gt;
&lt;/dl&gt;
&lt;h3 id=&#34;what-is-the-lifecycle-of-events&#34;&gt;What is the lifecycle of events?&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;turn information from unstructured logs with low-level descriptions of the characteristics of events &lt;!-- raw HTML omitted --&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;into a high-level representation of actionable events, namely alarms &lt;!-- raw HTML omitted --&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;The first funnel filters &lt;!-- raw HTML omitted --&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;ol&gt;
&lt;li&gt;decentralised logs into centralised logs &lt;!-- raw HTML omitted --&gt;&lt;/li&gt;
&lt;/ol&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;ol start=&#34;2&#34;&gt;
&lt;li&gt;then turn into normalised logs &lt;!-- raw HTML omitted --&gt;&lt;/li&gt;
&lt;/ol&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;ol start=&#34;3&#34;&gt;
&lt;li&gt;then into the second funnel &lt;!-- raw HTML omitted --&gt;&lt;/li&gt;
&lt;/ol&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;The second funnel produces alarms through &lt;!-- raw HTML omitted --&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;log filtering &lt;!-- raw HTML omitted --&gt;&lt;/li&gt;
&lt;li&gt;aggregation, &lt;!-- raw HTML omitted --&gt;&lt;/li&gt;
&lt;li&gt;correlation &lt;!-- raw HTML omitted --&gt;&lt;/li&gt;
&lt;li&gt;finally trigger the alarms &lt;!-- raw HTML omitted --&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Final alarms supported by &lt;!-- raw HTML omitted --&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;false alarm reduction &lt;!-- raw HTML omitted --&gt;&lt;/li&gt;
&lt;li&gt;attack strategy analysis &lt;!-- raw HTML omitted --&gt;&lt;/li&gt;
&lt;li&gt;prioritisation &lt;!-- raw HTML omitted --&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;figure&gt;&lt;img src=&#34;https://ginkgo.org.cn/ox-hugo/2022-05-04_11-18-57_screenshot.png&#34; width=&#34;700px&#34;/&gt;
&lt;/figure&gt;
 &lt;!-- raw HTML omitted --&gt;&lt;/p&gt;
&lt;p&gt;&lt;figure&gt;&lt;img src=&#34;https://ginkgo.org.cn/ox-hugo/2022-05-04_11-31-16_screenshot.png&#34; width=&#34;700px&#34;/&gt;
&lt;/figure&gt;
 &lt;!-- raw HTML omitted --&gt;&lt;/p&gt;
&lt;h3 id=&#34;what-are-alarms&#34;&gt;What are Alarms?&lt;/h3&gt;
&lt;dl&gt;
&lt;dt&gt;Alarms&lt;/dt&gt;
&lt;dd&gt;&lt;ul&gt;
&lt;li&gt;are meant to be reported to humans &lt;!-- raw HTML omitted --&gt;&lt;/li&gt;
&lt;li&gt;alarms help security operator analyse the strategy of an attack and prioritise responses. &lt;!-- raw HTML omitted --&gt;&lt;/li&gt;
&lt;/ul&gt;
Intrusion detection system should be configured in such a way that false alarms are minimised &lt;!-- raw HTML omitted --&gt;&lt;/dd&gt;
&lt;/dl&gt;
&lt;h3 id=&#34;what-is-normalisation-of-logs&#34;&gt;What is normalisation of logs?&lt;/h3&gt;
&lt;p&gt;is the procedure in which &lt;!-- raw HTML omitted --&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;all logs that are processed by an intrusion detection system &lt;!-- raw HTML omitted --&gt;&lt;/li&gt;
&lt;li&gt;are processed and stored in a common format &lt;!-- raw HTML omitted --&gt;&lt;/li&gt;
&lt;li&gt;and all relevant attributes of the event are identified and processed &lt;!-- raw HTML omitted --&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id=&#34;what-is-event-correlation&#34;&gt;What is event correlation?&lt;/h3&gt;
&lt;p&gt;Event correlation brings a higher level of intelligence to the process &lt;!-- raw HTML omitted --&gt;&lt;/p&gt;
&lt;p&gt;It teaches the system to consider various conditions before trigger the alarm &lt;!-- raw HTML omitted --&gt;&lt;/p&gt;
&lt;h3 id=&#34;what-is-the-security-information-management--sim&#34;&gt;What is the Security information management (SIM)?&lt;/h3&gt;
&lt;p&gt;The practice of collecting, monitoring and analysing security-related data from computer logs. &lt;!-- raw HTML omitted --&gt;&lt;/p&gt;
&lt;h3 id=&#34;what-is-the-security-information-management-system--sims&#34;&gt;What is the Security information management system (SIMS)?&lt;/h3&gt;
&lt;ol&gt;
&lt;li&gt;It automates the collection of event log data from security devices &lt;!-- raw HTML omitted --&gt;&lt;/li&gt;
&lt;li&gt;It translates the logged data into correlated and simplified formats &lt;!-- raw HTML omitted --&gt;&lt;/li&gt;
&lt;li&gt;It has strong log management capabilities (compress logs for storing over long periods of time) &lt;!-- raw HTML omitted --&gt;&lt;/li&gt;
&lt;/ol&gt;
&lt;h3 id=&#34;what-is-the-security-event-management--sem--systems&#34;&gt;What is the Security event management (SEM) systems?&lt;/h3&gt;
&lt;p&gt;It provides strong: &lt;!-- raw HTML omitted --&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;event management &lt;!-- raw HTML omitted --&gt;&lt;/li&gt;
&lt;li&gt;real time threat analysis &lt;!-- raw HTML omitted --&gt;&lt;/li&gt;
&lt;li&gt;visualisation &lt;!-- raw HTML omitted --&gt;&lt;/li&gt;
&lt;li&gt;ticketing &lt;!-- raw HTML omitted --&gt;&lt;/li&gt;
&lt;li&gt;incident response &lt;!-- raw HTML omitted --&gt;&lt;/li&gt;
&lt;li&gt;and security operations &lt;!-- raw HTML omitted --&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;Based on enterprise SQL databases &lt;!-- raw HTML omitted --&gt;&lt;/p&gt;
&lt;p&gt;Not ideal for log management and long-term storage of excessive amounts of logs (poor at log compression) &lt;!-- raw HTML omitted --&gt;&lt;/p&gt;
&lt;h3 id=&#34;what-is-the--ossim&#34;&gt;What is the  (OSSIM)?&lt;/h3&gt;
&lt;h3 id=&#34;how-open-source-security-information-management--ossim--evaluates-the-risks&#34;&gt;How Open Source Security Information Management (OSSIM) evaluates the risks?&lt;/h3&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;div class=&#34;chroma&#34;&gt;
&lt;table class=&#34;lntable&#34;&gt;&lt;tr&gt;&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code&gt;&lt;span class=&#34;lnt&#34;&gt;1
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;
&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-latex&#34; data-lang=&#34;latex&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;Risk = (Asset * Priority * Reliability) /25
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;&lt;dl&gt;
&lt;dt&gt;Asset&lt;/dt&gt;
&lt;dd&gt;&lt;ul&gt;
&lt;li&gt;is the quantitative measure of the importance &lt;!-- raw HTML omitted --&gt;&lt;/li&gt;
&lt;li&gt;and/or a notion of how vulnerable a given asset is &lt;!-- raw HTML omitted --&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/dd&gt;
&lt;dt&gt;Priority&lt;/dt&gt;
&lt;dd&gt;is the threat or impact of the attack &lt;!-- raw HTML omitted --&gt;&lt;/dd&gt;
&lt;dt&gt;Reliability&lt;/dt&gt;
&lt;dd&gt;is the probability that a given set of events  will actually be an attack &lt;!-- raw HTML omitted --&gt;&lt;/dd&gt;
&lt;/dl&gt;
&lt;!-- raw HTML omitted --&gt;
&lt;ul&gt;
&lt;li&gt;Asset - 0 - 5 &lt;!-- raw HTML omitted --&gt;&lt;/li&gt;
&lt;li&gt;Priority - 0 - 5 &lt;!-- raw HTML omitted --&gt;&lt;/li&gt;
&lt;li&gt;Reliability - 0 - 10 &lt;!-- raw HTML omitted --&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;!-- raw HTML omitted --&gt;
&lt;ul&gt;
&lt;li&gt;0 - 2 = Low &lt;!-- raw HTML omitted --&gt;&lt;/li&gt;
&lt;li&gt;3 - 4 = Medium &lt;!-- raw HTML omitted --&gt;&lt;/li&gt;
&lt;li&gt;5 - 6 = Medium-high &lt;!-- raw HTML omitted --&gt;&lt;/li&gt;
&lt;li&gt;7 - 8 = High &lt;!-- raw HTML omitted --&gt;&lt;/li&gt;
&lt;li&gt;9 - 10 = Very high &lt;!-- raw HTML omitted --&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id=&#34;how-forensics-cooperate-with-siem&#34;&gt;How forensics cooperate with SIEM?&lt;/h3&gt;
&lt;p&gt;forensic investigator would collect the evidence from the source, the native logs. &lt;!-- raw HTML omitted --&gt;&lt;/p&gt;
&lt;h3 id=&#34;what-is-the-sensing-strategies&#34;&gt;What is the Sensing strategies?&lt;/h3&gt;
&lt;p&gt;It defines how the SIEM is deployed. &lt;!-- raw HTML omitted --&gt;&lt;/p&gt;
&lt;p&gt;It details: &lt;!-- raw HTML omitted --&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;Where to place the different sensors &lt;!-- raw HTML omitted --&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;how these sensors are interconnected &lt;!-- raw HTML omitted --&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;what the security measures are &lt;!-- raw HTML omitted --&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;who the people in charge of each sensor are &lt;!-- raw HTML omitted --&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;ul&gt;
&lt;li&gt;collectors, &lt;!-- raw HTML omitted --&gt;&lt;/li&gt;
&lt;li&gt;normalisers &lt;!-- raw HTML omitted --&gt;&lt;/li&gt;
&lt;li&gt;aggregators &lt;!-- raw HTML omitted --&gt;&lt;/li&gt;
&lt;li&gt;Intrusion Detection Systems and correlation and report engines &lt;!-- raw HTML omitted --&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;figure&gt;&lt;img src=&#34;https://ginkgo.org.cn/ox-hugo/2022-05-04_11-49-41_screenshot.png&#34; width=&#34;700px&#34;/&gt;
&lt;/figure&gt;
 &lt;!-- raw HTML omitted --&gt;&lt;/p&gt;
</description>
        </item>
        <item>
        <title>CFC Week 7: Memory and network forensics</title>
        <link>https://ginkgo.org.cn/posts/cfc_week_7_memory_and_network_forensics/</link>
        <pubDate>Tue, 03 May 2022 00:00:00 +0000</pubDate>
        
        <guid>https://ginkgo.org.cn/posts/cfc_week_7_memory_and_network_forensics/</guid>
        <description>&lt;h2 id=&#34;cfc-week-7-memory-and-network-forensics&#34;&gt;CFC Week 7: Memory and network forensics&lt;/h2&gt;
&lt;h3 id=&#34;learning-outcomes&#34;&gt;Learning outcomes&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;Define the fundamental aspects of computer and network forensics. &lt;!-- raw HTML omitted --&gt;&lt;/li&gt;
&lt;li&gt;Describe the data collection processes through the different abstraction layers. &lt;!-- raw HTML omitted --&gt;&lt;/li&gt;
&lt;li&gt;List the kind of evidence that can be obtained from volatile memory and non-persistent network data. &lt;!-- raw HTML omitted --&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id=&#34;device-forensics&#34;&gt;Device forensics&lt;/h3&gt;
&lt;p&gt;target the OS and the data structures present in the system &lt;!-- raw HTML omitted --&gt;&lt;/p&gt;
&lt;h3 id=&#34;what-are-primary-sources-of-evidence-in-device-forensics&#34;&gt;What are primary sources of evidence in device forensics?&lt;/h3&gt;
&lt;p&gt;are storage devices: &lt;!-- raw HTML omitted --&gt;&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;Hard disk drives (HDDs) &lt;!-- raw HTML omitted --&gt;&lt;/li&gt;
&lt;li&gt;Solid state drives (SSDs) &lt;!-- raw HTML omitted --&gt;&lt;/li&gt;
&lt;li&gt;External media (USB sticks) &lt;!-- raw HTML omitted --&gt;&lt;/li&gt;
&lt;/ol&gt;
&lt;h3 id=&#34;how-to-understand-the-data-stored-on-devices&#34;&gt;How to understand the data stored on devices?&lt;/h3&gt;
&lt;p&gt;Use Data abstraction layers: &lt;!-- raw HTML omitted --&gt;&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;
&lt;p&gt;Physical media
: -   lowest level examinations &lt;!-- raw HTML omitted --&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Access through host bus adapter (HBA) interface &lt;!-- raw HTML omitted --&gt;&lt;/li&gt;
&lt;li&gt;which implement low-level operations: SATA and SCSI &lt;!-- raw HTML omitted --&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Block devices
: block device is an abstract device of fixed size block &lt;!-- raw HTML omitted --&gt;&lt;/p&gt;
&lt;p&gt;use term sector as unites for magnetic hard disks &lt;!-- raw HTML omitted --&gt;&lt;/p&gt;
&lt;p&gt;Data acquisition at the block level is done through imaging &lt;!-- raw HTML omitted --&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;File system
: aims to organise the block storage into a file-based store &lt;!-- raw HTML omitted --&gt;&lt;/p&gt;
&lt;p&gt;provide files with attributes (name, size, owner, timestamps, access permissions, etc.) &lt;!-- raw HTML omitted --&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Application artefacts
: where we find executable binaries, libraries, configuration and log files and registry entries &lt;!-- raw HTML omitted --&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;h3 id=&#34;what-is-the-physical-data-acquisition-in-device-forensics&#34;&gt;What is the &lt;code&gt;physical data acquisition&lt;/code&gt; in device forensics?&lt;/h3&gt;
&lt;p&gt;is the process of obtaining data directly from hardware media, &lt;!-- raw HTML omitted --&gt;&lt;/p&gt;
&lt;p&gt;without the mediation of any potentially untrusted third-party software &lt;!-- raw HTML omitted --&gt;&lt;/p&gt;
&lt;p&gt;we also use &lt;code&gt;logical data acquisitions&lt;/code&gt; which relies on one or more software layers as intermediaries &lt;!-- raw HTML omitted --&gt;&lt;/p&gt;
&lt;h3 id=&#34;characteristics-of-ssds&#34;&gt;Characteristics of SSDs&lt;/h3&gt;
&lt;p&gt;SSDs use semiconductors to store data &lt;!-- raw HTML omitted --&gt;&lt;/p&gt;
&lt;p&gt;two memory areas: &lt;!-- raw HTML omitted --&gt;&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;one area is used to save data &lt;!-- raw HTML omitted --&gt;&lt;/li&gt;
&lt;li&gt;one area is used as a cache &lt;!-- raw HTML omitted --&gt;&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;SSD blocks need to be written twice in order to be reused: &lt;!-- raw HTML omitted --&gt;&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;First write to reset the state &lt;!-- raw HTML omitted --&gt;&lt;/li&gt;
&lt;li&gt;Second write to store the data &lt;!-- raw HTML omitted --&gt;&lt;/li&gt;
&lt;/ol&gt;
&lt;h3 id=&#34;file-content-carving&#34;&gt;File content carving&lt;/h3&gt;
&lt;p&gt;aims to recover the data by reassembling file contents from fragments &lt;!-- raw HTML omitted --&gt;&lt;/p&gt;
&lt;p&gt;why this works? &lt;!-- raw HTML omitted --&gt;
Most file formats have specific beginning and end tags &lt;!-- raw HTML omitted --&gt;&lt;/p&gt;
&lt;p&gt;Four types of file content, require different carving approaches: &lt;!-- raw HTML omitted --&gt;&lt;/p&gt;
&lt;p&gt;&lt;figure&gt;&lt;img src=&#34;https://ginkgo.org.cn/ox-hugo/2022-05-03_10-09-37_screenshot.png&#34; width=&#34;700px&#34;/&gt;
&lt;/figure&gt;
 &lt;!-- raw HTML omitted --&gt;&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;
&lt;p&gt;Contiguous
: The header of file A is followed by the contents of file A and ends with a footer of that file &lt;!-- raw HTML omitted --&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Nested
: The header of file A is followed by a part of that file&amp;rsquo;s content, then the header of file B is present followed by the content and footer of that file. A finished after B. &lt;!-- raw HTML omitted --&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Bifragmented
: The Header and some part of file A followed by some unrealted data then followed by remains &lt;!-- raw HTML omitted --&gt;&lt;/p&gt;
&lt;p&gt;The recovery of this file will depend on how easily the unrealted data is recognised &lt;!-- raw HTML omitted --&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Interleaved
: The content of file A is mixed with File B, A finished before B &lt;!-- raw HTML omitted --&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;h3 id=&#34;why-we-are-interested-in-doing-memory-forensics&#34;&gt;Why we are interested in doing Memory forensics?&lt;/h3&gt;
&lt;p&gt;Data can persist for quite a long time in volatile memory &lt;!-- raw HTML omitted --&gt;
Volatile memory can contain useful information which hard disk does not (en/decryption key) &lt;!-- raw HTML omitted --&gt;&lt;/p&gt;
&lt;h3 id=&#34;how-to-perform-offline-memory-forensics&#34;&gt;How to perform offline memory forensics&lt;/h3&gt;
&lt;p&gt;Freeze the RAM of a computer &lt;!-- raw HTML omitted --&gt;&lt;/p&gt;
&lt;h3 id=&#34;what-a-forensic-analyst-must-know-about-memory-forensics&#34;&gt;What a forensic analyst must know about memory forensics?&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;What are the things that might change across time? &lt;!-- raw HTML omitted --&gt;&lt;/li&gt;
&lt;li&gt;What are the things that will not? &lt;!-- raw HTML omitted --&gt;&lt;/li&gt;
&lt;li&gt;How presenting evidence from memory can impact your investigation &lt;!-- raw HTML omitted --&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id=&#34;what-are-the-challenges-behind-live-forensics&#34;&gt;What are the challenges behind live forensics?&lt;/h3&gt;
&lt;ol&gt;
&lt;li&gt;In live forensics, we&amp;rsquo;re unsure whether evidence will be accepted or not. &lt;!-- raw HTML omitted --&gt;&lt;/li&gt;
&lt;li&gt;Extract evidence from memory is not easy and takes long time &lt;!-- raw HTML omitted --&gt;&lt;/li&gt;
&lt;/ol&gt;
&lt;h3 id=&#34;what-does-generally-change&#34;&gt;What does generally change?&lt;/h3&gt;
&lt;dl&gt;
&lt;dt&gt;Process information&lt;/dt&gt;
&lt;dd&gt;identifying correlated user actions and file system activities, potentially demonstrating their intent &lt;!-- raw HTML omitted --&gt;
&lt;ul&gt;
&lt;li&gt;Running processes &lt;!-- raw HTML omitted --&gt;&lt;/li&gt;
&lt;li&gt;Threads and loaded systems modules &lt;!-- raw HTML omitted --&gt;&lt;/li&gt;
&lt;li&gt;Copy of the individual processes&amp;rsquo; code, stack, heap, code and data segments &lt;!-- raw HTML omitted --&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/dd&gt;
&lt;dt&gt;Artefacts and fragments&lt;/dt&gt;
&lt;dd&gt;Caching disk and network data tends to leave traces in memory for a long time &lt;!-- raw HTML omitted --&gt;&lt;/dd&gt;
&lt;dt&gt;File information&lt;/dt&gt;
&lt;dd&gt;&lt;ul&gt;
&lt;li&gt;open files &lt;!-- raw HTML omitted --&gt;&lt;/li&gt;
&lt;li&gt;shared libraries &lt;!-- raw HTML omitted --&gt;&lt;/li&gt;
&lt;li&gt;shared memory &lt;!-- raw HTML omitted --&gt;&lt;/li&gt;
&lt;li&gt;anonymously mapped memory &lt;!-- raw HTML omitted --&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/dd&gt;
&lt;dt&gt;Network connections&lt;/dt&gt;
&lt;dd&gt;&lt;ul&gt;
&lt;li&gt;closed network connections &lt;!-- raw HTML omitted --&gt;&lt;/li&gt;
&lt;li&gt;protocol information &lt;!-- raw HTML omitted --&gt;&lt;/li&gt;
&lt;li&gt;sending and receiving queues of data not yet send or delivered &lt;!-- raw HTML omitted --&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/dd&gt;
&lt;/dl&gt;
&lt;h3 id=&#34;network-forensics&#34;&gt;Network forensics&lt;/h3&gt;
&lt;p&gt;monitor and analyse the computer network traffic for information gathering, legal evidence or intrusion detection &lt;!-- raw HTML omitted --&gt;&lt;/p&gt;
&lt;h3 id=&#34;why-is-the-difference-between-network-forensics-with-other-digital-forensics&#34;&gt;Why is the difference between network forensics with other digital forensics&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;network investigations focus on volatile and dynamic information &lt;!-- raw HTML omitted --&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;because network traffic is transmitted and then lost &lt;!-- raw HTML omitted --&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Thus the data would be actively collected &lt;!-- raw HTML omitted --&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id=&#34;what-are-two-common-scenarios-in-network-forensics&#34;&gt;What are two common scenarios in network forensics?&lt;/h3&gt;
&lt;dl&gt;
&lt;dt&gt;Security&lt;/dt&gt;
&lt;dd&gt;&lt;ul&gt;
&lt;li&gt;monitor a network for anomalous traffic and identify intrusion. &lt;!-- raw HTML omitted --&gt;&lt;/li&gt;
&lt;li&gt;when attacker has erased all log files on a compromised host &lt;!-- raw HTML omitted --&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/dd&gt;
&lt;dt&gt;Law enforcement&lt;/dt&gt;
&lt;dd&gt;&lt;ul&gt;
&lt;li&gt;reassemble transferred files &lt;!-- raw HTML omitted --&gt;&lt;/li&gt;
&lt;li&gt;search for keywords &lt;!-- raw HTML omitted --&gt;&lt;/li&gt;
&lt;li&gt;parse human communication &lt;!-- raw HTML omitted --&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/dd&gt;
&lt;/dl&gt;
&lt;h3 id=&#34;what-are-two-strategies-in-network-forensics&#34;&gt;What are two strategies in network forensics?&lt;/h3&gt;
&lt;ol&gt;
&lt;li&gt;&amp;ldquo;catch-it-as-you-can&amp;rdquo; &lt;!-- raw HTML omitted --&gt;
&lt;ul&gt;
&lt;li&gt;all packets are captured and written to storage for analysis &lt;!-- raw HTML omitted --&gt;&lt;/li&gt;
&lt;li&gt;require large amounts of storage &lt;!-- raw HTML omitted --&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;&amp;ldquo;stop, look, listen&amp;rdquo; &lt;!-- raw HTML omitted --&gt;
&lt;ul&gt;
&lt;li&gt;each packet is analysed in a rudimentary way in memory &lt;!-- raw HTML omitted --&gt;&lt;/li&gt;
&lt;li&gt;only certain meta information is saved &lt;!-- raw HTML omitted --&gt;&lt;/li&gt;
&lt;li&gt;require more processing capabilities &lt;!-- raw HTML omitted --&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;h3 id=&#34;what-method-we-apply-to-network-forensics-on-ethernet-layer&#34;&gt;What method we apply to network forensics on ethernet layer?&lt;/h3&gt;
&lt;p&gt;Use &lt;code&gt;sniffer&lt;/code&gt; to eavedrop the beta stream: Wireshark and tcpdump &lt;!-- raw HTML omitted --&gt;&lt;/p&gt;
&lt;h3 id=&#34;wireless-forensics&#34;&gt;Wireless forensics&lt;/h3&gt;
&lt;p&gt;collect and analyse wireless network traffic that can correspond to plain data or with a broad usage of. &lt;!-- raw HTML omitted --&gt;&lt;/p&gt;
</description>
        </item>
        <item>
        <title>CFC Week 8: Anti-forensics</title>
        <link>https://ginkgo.org.cn/posts/cfc_week_8_anti_forensics/</link>
        <pubDate>Tue, 03 May 2022 00:00:00 +0000</pubDate>
        
        <guid>https://ginkgo.org.cn/posts/cfc_week_8_anti_forensics/</guid>
        <description>&lt;h2 id=&#34;cfc-week-8-anti-forensics&#34;&gt;CFC Week 8: Anti-forensics&lt;/h2&gt;
&lt;h3 id=&#34;learning-outcomes&#34;&gt;Learning outcomes&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;Describe the most relevant anti-forensic techniques. &lt;!-- raw HTML omitted --&gt;&lt;/li&gt;
&lt;li&gt;Explain the challenges behind handling encrypted devices. &lt;!-- raw HTML omitted --&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id=&#34;what-is-anti-forensics-goal&#34;&gt;What is Anti-forensics&amp;rsquo; goal?&lt;/h3&gt;
&lt;p&gt;It aims to evade and thwart the forensic process through the implementation of attacks and adoption of adversarial actions. &lt;!-- raw HTML omitted --&gt;&lt;/p&gt;
&lt;h3 id=&#34;what-are-four-most-adversarial-actions-adoptted-in-anti-forensics&#34;&gt;What are four most adversarial actions adoptted in Anti-forensics&lt;/h3&gt;
&lt;ol&gt;
&lt;li&gt;
&lt;p&gt;Destroy
: destroy potentially useful digital forensic evidence of their activities (like wiping log files) &lt;!-- raw HTML omitted --&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Divert by
: Plant misleading digital forensic evidence &lt;!-- raw HTML omitted --&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;spoofing the source IP address of a cyber attack &lt;!-- raw HTML omitted --&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Deceive by
: hide potentially useful digital forensic evidence, use &lt;!-- raw HTML omitted --&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;steganography &lt;!-- raw HTML omitted --&gt;&lt;/li&gt;
&lt;li&gt;onion-routing &lt;!-- raw HTML omitted --&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Deny
: Deny the access of potentially useful digital forensic evidence &lt;!-- raw HTML omitted --&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;use cryptography and conceal the evidence &lt;!-- raw HTML omitted --&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;h3 id=&#34;what-is-meant-by-full-disk-encryption&#34;&gt;What is meant by Full disk encryption?&lt;/h3&gt;
&lt;p&gt;Secure the disk and other volumes with strong encryption key (2048 bits by &lt;code&gt;TrueCrypt&lt;/code&gt;) &lt;!-- raw HTML omitted --&gt;&lt;/p&gt;
&lt;h3 id=&#34;how-may-a-digital-forensic-examiner-attempt-to-overcome-fde--full-disk-encryption--in-a-reasonably-short-time&#34;&gt;How may a digital forensic examiner attempt to overcome FDE (full disk encryption) in a reasonably short time?&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;In order to operate full disk encryption, the decryption key must be stored in main memory or in a separate device. &lt;!-- raw HTML omitted --&gt;
&lt;ul&gt;
&lt;li&gt;Use live forensic techniques to retrieve the decryption key to decrypt the disks. &lt;!-- raw HTML omitted --&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;FDE is not in operation: &lt;!-- raw HTML omitted --&gt;
&lt;ul&gt;
&lt;li&gt;key might stored in a TPM (trusted platform module), a hidden partition or a dongle &lt;!-- raw HTML omitted --&gt;&lt;/li&gt;
&lt;li&gt;use &lt;code&gt;cold boot attack&lt;/code&gt; which freeze the RAM to get stored encryption keys &lt;!-- raw HTML omitted --&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id=&#34;how-to-make-a-sound-forensic-analysis--soundness&#34;&gt;How to make a sound forensic analysis (soundness)?&lt;/h3&gt;
&lt;ol&gt;
&lt;li&gt;Acquisition of data should change the regional evidence as little as possible &lt;!-- raw HTML omitted --&gt;
&lt;ul&gt;
&lt;li&gt;changes needed to be explained and documented &lt;!-- raw HTML omitted --&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;Documentation &lt;!-- raw HTML omitted --&gt;
&lt;ul&gt;
&lt;li&gt;where the evidence originated? &lt;!-- raw HTML omitted --&gt;&lt;/li&gt;
&lt;li&gt;how it was handled? &lt;!-- raw HTML omitted --&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;h3 id=&#34;when-credentials-for-decrpyting-are-not-available-what-we-can-do-with-full-disk-encryption-system&#34;&gt;When credentials for decrpyting are not available, what we can do with Full-disk encryption system?&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;Attempt decryption &lt;!-- raw HTML omitted --&gt;
&lt;ul&gt;
&lt;li&gt;brute force attack &lt;!-- raw HTML omitted --&gt;&lt;/li&gt;
&lt;li&gt;dictionary attack &lt;!-- raw HTML omitted --&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;Load duplicate into a virtual environment &lt;!-- raw HTML omitted --&gt;
&lt;ul&gt;
&lt;li&gt;decrypted later in a number of ways &lt;!-- raw HTML omitted --&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;Restore to a working hard disk &lt;!-- raw HTML omitted --&gt;&lt;/li&gt;
&lt;li&gt;Boot a restored clone of the original disk &lt;!-- raw HTML omitted --&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id=&#34;how-to-avoid-an-online-suspect-who-is-also-technically-sophisticated-to-tamper-or-erase-the-digital-evidence&#34;&gt;How to avoid an online suspect who is also technically sophisticated to tamper or erase the digital evidence?&lt;/h3&gt;
&lt;dl&gt;
&lt;dt&gt;Distraction&lt;/dt&gt;
&lt;dd&gt;&lt;ul&gt;
&lt;li&gt;Hoax parcel delivery &lt;!-- raw HTML omitted --&gt;&lt;/li&gt;
&lt;li&gt;Meter reader &lt;!-- raw HTML omitted --&gt;&lt;/li&gt;
&lt;li&gt;kiss-o-gram &lt;!-- raw HTML omitted --&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/dd&gt;
&lt;dt&gt;Disablement&lt;/dt&gt;
&lt;dd&gt;&lt;ul&gt;
&lt;li&gt;disconnect electrical power supply &lt;!-- raw HTML omitted --&gt;&lt;/li&gt;
&lt;li&gt;pipe CS gas &lt;!-- raw HTML omitted --&gt;&lt;/li&gt;
&lt;li&gt;use a taser &lt;!-- raw HTML omitted --&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/dd&gt;
&lt;/dl&gt;
&lt;h3 id=&#34;reverse-engineering&#34;&gt;Reverse engineering&lt;/h3&gt;
&lt;p&gt;aims to understand both: &lt;!-- raw HTML omitted --&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;how malware technically behaves and &lt;!-- raw HTML omitted --&gt;&lt;/li&gt;
&lt;li&gt;how opaque system function prior to a forensic investigation &lt;!-- raw HTML omitted --&gt;&lt;/li&gt;
&lt;/ul&gt;
</description>
        </item>
        <item>
        <title>CFC Week 6: The forensics process</title>
        <link>https://ginkgo.org.cn/posts/cfc_week_6_the_forensics_process/</link>
        <pubDate>Mon, 02 May 2022 00:00:00 +0000</pubDate>
        
        <guid>https://ginkgo.org.cn/posts/cfc_week_6_the_forensics_process/</guid>
        <description>&lt;h2 id=&#34;cfc-week-6-the-forensics-process&#34;&gt;CFC Week 6: The forensics process&lt;/h2&gt;
&lt;h3 id=&#34;before-the-forensics&#34;&gt;Before the forensics&lt;/h3&gt;
&lt;h4 id=&#34;why-we-said-that-computer-information-is-a-double-edged-sword-in-forensic&#34;&gt;Why we said that computer information is a double-edged sword in forensic?&lt;/h4&gt;
&lt;p&gt;One the one hand, this information can provide compelling evidence in an investigation &lt;!-- raw HTML omitted --&gt;&lt;/p&gt;
&lt;p&gt;One the other hand, it also introduce complexity that can trouble experienced practitioners &lt;!-- raw HTML omitted --&gt;&lt;/p&gt;
&lt;h4 id=&#34;8-dot-how-does-digital-forensics-differ-in-practice-from-conventional-forensics&#34;&gt;8. How does digital forensics differ in practice from conventional forensics?&lt;/h4&gt;
&lt;!-- raw HTML omitted --&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;Conventional forensics&lt;/p&gt;
&lt;p&gt;&lt;code&gt;Conventional forensics&lt;/code&gt; is based on &lt;code&gt;Locard&#39;s Exchange Principle&lt;/code&gt; &lt;!-- raw HTML omitted --&gt;&lt;/p&gt;
&lt;p&gt;Locard&amp;rsquo;s Exchange Principle
: Every contact leaves a trace. &lt;!-- raw HTML omitted --&gt;
Physical contact leaves exchange of physical material. &lt;!-- raw HTML omitted --&gt;&lt;/p&gt;
&lt;p&gt;Conventional forensics also called &lt;code&gt;wet forensics&lt;/code&gt;
: Human body sweats, fingers are greasy -&amp;gt; touch and walk leave fingerprints and footprints &lt;!-- raw HTML omitted --&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;h4 id=&#34;why-we-need-to-isolate-the-crime-scene-and-how&#34;&gt;Why we need to isolate the crime scene, and How?&lt;/h4&gt;
&lt;p&gt;To save a great number of logs which provide actions and interactions and avoid: &lt;!-- raw HTML omitted --&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Cover digital tracks &lt;!-- raw HTML omitted --&gt;&lt;/li&gt;
&lt;li&gt;and commit the perfect cybercrime &lt;!-- raw HTML omitted --&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;h4 id=&#34;what-are-the-paramount-challenges-of-crime-scene-isolation&#34;&gt;What are the paramount challenges of crime scene isolation?&lt;/h4&gt;
&lt;p&gt;More and more devices are hyper-connected &lt;!-- raw HTML omitted --&gt;&lt;/p&gt;
&lt;h4 id=&#34;why-the-crime-scene-need-to-be-frozen-and-how&#34;&gt;Why the crime scene need to be frozen, and How?&lt;/h4&gt;
&lt;p&gt;Services are connected to network or Internet, to define the crime scene, we have to freeze the scene and control the range. &lt;!-- raw HTML omitted --&gt;&lt;/p&gt;
&lt;p&gt;freeze the memory RAM of a device,and also cut the network (Faraday cage to cancel wireless signal) &lt;!-- raw HTML omitted --&gt;&lt;/p&gt;
&lt;h3 id=&#34;define-digital-forensics-process&#34;&gt;Define digital forensics process&lt;/h3&gt;
&lt;p&gt;A set of methods driven towards the acquisition of legal evidence, which is possible for presentation in a court of law. &lt;!-- raw HTML omitted --&gt;&lt;/p&gt;
&lt;h4 id=&#34;i-dot-acquisition-process&#34;&gt;i. Acquisition process&lt;/h4&gt;
&lt;p&gt;&amp;ldquo;Going there and getting the stuff&amp;rdquo; &lt;!-- raw HTML omitted --&gt;&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;Judges have reasonable suspicion &lt;!-- raw HTML omitted --&gt;&lt;/li&gt;
&lt;li&gt;A &lt;code&gt;warrant&lt;/code&gt; indicates what type of devices that a forensic can seize (which corresponding to suspicions due to &lt;code&gt;principle of proportionality&lt;/code&gt;  &lt;!-- raw HTML omitted --&gt;&lt;/li&gt;
&lt;li&gt;The place of a device is found is important to determine whether it&amp;rsquo;s relevant or not (like the one hidden in secret compartment of a drawer, even the type of mobile phone is not on the list) &lt;!-- raw HTML omitted --&gt;&lt;/li&gt;
&lt;li&gt;Careful documentation of the acquisition process: &lt;!-- raw HTML omitted --&gt;
&lt;ul&gt;
&lt;li&gt;take photographs &lt;!-- raw HTML omitted --&gt;&lt;/li&gt;
&lt;li&gt;tag all the bags with all details &lt;!-- raw HTML omitted --&gt;&lt;/li&gt;
&lt;li&gt;watch out for hidden devices in plain sight &lt;!-- raw HTML omitted --&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;h4 id=&#34;ii-dot-preservation&#34;&gt;ii. Preservation&lt;/h4&gt;
&lt;ol&gt;
&lt;li&gt;
&lt;p&gt;Provenance and change of custody are paramount (based on ACPO principles) &lt;!-- raw HTML omitted --&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Making bit-for-bit images of all seized media &lt;!-- raw HTML omitted --&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Use Write-blocker to make all drive devices read-only &lt;!-- raw HTML omitted --&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Use cryptographic hashes to verify the integrity of the files (MD5 of SHA2) &lt;!-- raw HTML omitted --&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;In traditional forensics, you can destroy part of the evidence once you done with interventions like DNA testing &lt;!-- raw HTML omitted --&gt;&lt;/p&gt;
&lt;p&gt;the sample used in testing could be destroyed after the test &lt;!-- raw HTML omitted --&gt;&lt;/p&gt;
&lt;p&gt;However in computer forensics, 2,3 are required for the future &lt;!-- raw HTML omitted --&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;h4 id=&#34;iii-dot-searching&#34;&gt;iii. Searching&lt;/h4&gt;
&lt;p&gt;aims to reduce the data volume to a manageable and reviewable level, but it has potential to impact the completeness and accuracy of an investigation &lt;!-- raw HTML omitted --&gt;&lt;/p&gt;
&lt;dl&gt;
&lt;dt&gt;Search Method&lt;/dt&gt;
&lt;dd&gt;&lt;/dd&gt;
&lt;/dl&gt;
&lt;p&gt;&lt;code&gt;Keyword-searching&lt;/code&gt; (not works on encoded or encrypted files, there are other tools) &lt;!-- raw HTML omitted --&gt;&lt;/p&gt;
&lt;p&gt;Other tools for special files(compressed, encoded, encrypted or password protected files) &lt;!-- raw HTML omitted --&gt;&lt;/p&gt;
&lt;!-- raw HTML omitted --&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;What if you find a evidence of another crime?&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;Start an independent process with warrant &lt;!-- raw HTML omitted --&gt;&lt;/li&gt;
&lt;li&gt;Not allowed to collect evidence for that crime &lt;!-- raw HTML omitted --&gt;&lt;/li&gt;
&lt;/ol&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;h4 id=&#34;iv-dot-analysis-of-evidence&#34;&gt;iv. Analysis of evidence&lt;/h4&gt;
&lt;p&gt;aims explain what does the evidence signify? &lt;!-- raw HTML omitted --&gt;&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;correlate evidence to your hypothesis &lt;!-- raw HTML omitted --&gt;&lt;/li&gt;
&lt;li&gt;explain their timeline &lt;!-- raw HTML omitted --&gt;&lt;/li&gt;
&lt;li&gt;identify what has happened &lt;!-- raw HTML omitted --&gt;&lt;/li&gt;
&lt;/ol&gt;
&lt;h4 id=&#34;v-dot-evaluation-of-evidence&#34;&gt;v. Evaluation of evidence&lt;/h4&gt;
&lt;p&gt;aims to confront the evidence &lt;!-- raw HTML omitted --&gt;&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;Assess how strong that evidence is &lt;!-- raw HTML omitted --&gt;&lt;/li&gt;
&lt;li&gt;Challenge your own hypothesis using the evidence &lt;!-- raw HTML omitted --&gt;&lt;/li&gt;
&lt;li&gt;Be able to know how compelling evidence is &lt;!-- raw HTML omitted --&gt;&lt;/li&gt;
&lt;/ol&gt;
&lt;h4 id=&#34;vi-dot-reporting&#34;&gt;vi. Reporting&lt;/h4&gt;
&lt;p&gt;aims to inform how the forensic analysis has reached a conclusion &lt;!-- raw HTML omitted --&gt;&lt;/p&gt;
&lt;p&gt;It should be done in a form and style that lets both: &lt;!-- raw HTML omitted --&gt;&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;&lt;code&gt;Technical experts&lt;/code&gt; validate their findings &lt;!-- raw HTML omitted --&gt;&lt;/li&gt;
&lt;li&gt;&lt;code&gt;Legal personnel and juries&lt;/code&gt; can understand it &lt;!-- raw HTML omitted --&gt;&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;Put &lt;code&gt;layman&#39;s terms&lt;/code&gt; what the evidence means on executive summary would help &lt;!-- raw HTML omitted --&gt;&lt;/p&gt;
&lt;h3 id=&#34;characteristics-of-legal-evidence--in-uk&#34;&gt;Characteristics of Legal Evidence (in UK)&lt;/h3&gt;
&lt;h4 id=&#34;admissibility&#34;&gt;Admissibility&lt;/h4&gt;
&lt;p&gt;Evidence has to be first-hand information, original and not hearsay. &lt;!-- raw HTML omitted --&gt;&lt;/p&gt;
&lt;h4 id=&#34;authenticity&#34;&gt;Authenticity&lt;/h4&gt;
&lt;p&gt;Evidence should be genuine with clearly authentication to authenticate what it claims to be. &lt;!-- raw HTML omitted --&gt;&lt;/p&gt;
&lt;p&gt;The correctness would be determined by court and judge later based on the evidence (we just try to use evidence to tell the hypothesis and evidence are correct) &lt;!-- raw HTML omitted --&gt;&lt;/p&gt;
&lt;h4 id=&#34;accuracy&#34;&gt;Accuracy&lt;/h4&gt;
&lt;p&gt;Evidence should provide precise, clear and not vague information &lt;!-- raw HTML omitted --&gt;&lt;/p&gt;
&lt;h4 id=&#34;completeness&#34;&gt;Completeness&lt;/h4&gt;
&lt;p&gt;Evidence should be self-contained and not partial &lt;!-- raw HTML omitted --&gt;&lt;/p&gt;
&lt;h4 id=&#34;probative-value&#34;&gt;Probative value&lt;/h4&gt;
&lt;p&gt;Evidence should be probative, if evidence&amp;rsquo;s danger outweight the value, the court can exclude it &lt;!-- raw HTML omitted --&gt;&lt;/p&gt;
&lt;dl&gt;
&lt;dt&gt;Danger of evidence&lt;/dt&gt;
&lt;dd&gt;&lt;ol&gt;
&lt;li&gt;introduce an unfair prejudice &lt;!-- raw HTML omitted --&gt;&lt;/li&gt;
&lt;li&gt;confuse the issues &lt;!-- raw HTML omitted --&gt;&lt;/li&gt;
&lt;li&gt;mislead the jury &lt;!-- raw HTML omitted --&gt;&lt;/li&gt;
&lt;li&gt;introduce undue delay or waste time, or just simply present cumulative evidence &lt;!-- raw HTML omitted --&gt;&lt;/li&gt;
&lt;/ol&gt;
&lt;/dd&gt;
&lt;/dl&gt;
&lt;h3 id=&#34;list-and-describe-the-key-steps-of-the-investigative-methodology&#34;&gt;List and describe the key steps of the investigative methodology&lt;/h3&gt;
&lt;dl&gt;
&lt;dt&gt;Fundamental questions relating to a crime&lt;/dt&gt;
&lt;dd&gt;&lt;ol&gt;
&lt;li&gt;Sequencing (when things happend?) &lt;!-- raw HTML omitted --&gt;&lt;/li&gt;
&lt;li&gt;Linkage (who interacted with whom?) &lt;!-- raw HTML omitted --&gt;&lt;/li&gt;
&lt;li&gt;Evaluation of source (the origin of items) &lt;!-- raw HTML omitted --&gt;&lt;/li&gt;
&lt;li&gt;Attribution (who is responsible?) &lt;!-- raw HTML omitted --&gt;&lt;/li&gt;
&lt;/ol&gt;
&lt;/dd&gt;
&lt;/dl&gt;
&lt;h4 id=&#34;what-is-the-scientific-method&#34;&gt;What is the scientific method?&lt;/h4&gt;
&lt;p&gt;Scientific method is a cyclic process, aims to repeat the steps to get the conclusion &lt;!-- raw HTML omitted --&gt;&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;
&lt;p&gt;Gather information and make observations
: aims to provide all evidence which you have access to &lt;!-- raw HTML omitted --&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;Process legal evidence:&lt;/strong&gt; 1.  Acquire &lt;!-- raw HTML omitted --&gt;
2.  Preserve &lt;!-- raw HTML omitted --&gt;
3.  Search &lt;!-- raw HTML omitted --&gt;
4.  Verify integrity &lt;!-- raw HTML omitted --&gt;
5.  Authentication &lt;!-- raw HTML omitted --&gt;&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;Process digital evidence:&lt;/strong&gt; 1.  preprocess &lt;!-- raw HTML omitted --&gt;
2.  salvage deleted data &lt;!-- raw HTML omitted --&gt;
3.  handle special files &lt;!-- raw HTML omitted --&gt;
4.  filter out irrelevant data &lt;!-- raw HTML omitted --&gt;
5.  extract embedded metadata &lt;!-- raw HTML omitted --&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Form a hypothesis to explain observations
: Develop possible explanations &lt;!-- raw HTML omitted --&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Evaluate the hypothesis
: Aims to suppress biases and hunches and try to disprove current working hypothesis through &lt;!-- raw HTML omitted --&gt;experiment&lt;!-- raw HTML omitted --&gt; &lt;!-- raw HTML omitted --&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;Avoid &lt;code&gt;confirmation bias&lt;/code&gt;:&lt;/strong&gt; -   do not skew our thinking and analysis in favour of the working hypothesis &lt;!-- raw HTML omitted --&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Draw conclusions and communicate findings
: Communicate the explanations which supported by evidence with decision makers &lt;!-- raw HTML omitted --&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;dl&gt;
&lt;dt&gt;Understand the capabilities of the tools&lt;/dt&gt;
&lt;dd&gt;&lt;ol&gt;
&lt;li&gt;Understand the capabilities of the tools &lt;!-- raw HTML omitted --&gt;&lt;/li&gt;
&lt;li&gt;Use multiple tools when possible &lt;!-- raw HTML omitted --&gt;&lt;/li&gt;
&lt;/ol&gt;
&lt;/dd&gt;
&lt;/dl&gt;
&lt;h4 id=&#34;list-the-functions-of-forensic-analysis&#34;&gt;List the functions of forensic analysis&lt;/h4&gt;
&lt;ol&gt;
&lt;li&gt;
&lt;p&gt;Attribution of activities
: aims to attribute computer activities to a particular person &lt;!-- raw HTML omitted --&gt;&lt;/p&gt;
&lt;p&gt;To avoid a person to deny the responsibilities for the illegal activities, we could use &lt;!-- raw HTML omitted --&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;personal communication &lt;!-- raw HTML omitted --&gt;&lt;/li&gt;
&lt;li&gt;access to online banking or e-commerce accounts &lt;!-- raw HTML omitted --&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Assessing alibis
: use evidence from multiple sources &lt;!-- raw HTML omitted --&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Determining intent
: analyse: &lt;!-- raw HTML omitted --&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;internet search history &lt;!-- raw HTML omitted --&gt;&lt;/li&gt;
&lt;li&gt;suspicious behaviours &lt;!-- raw HTML omitted --&gt;&lt;/li&gt;
&lt;li&gt;notes and plans &lt;!-- raw HTML omitted --&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Evaluating sources
: reveal the source of the evidence, and where it is produced or altered. &lt;!-- raw HTML omitted --&gt;&lt;/p&gt;
&lt;p&gt;Compare the evidence with an exemplar can reveal useful information &lt;!-- raw HTML omitted --&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Document authentication
: -   Look for nuances on date-time stamps &lt;!-- raw HTML omitted --&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;look for metadata within files &lt;!-- raw HTML omitted --&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;extract attributes buried within storage media &lt;!-- raw HTML omitted --&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;h3 id=&#34;the-e-discovery-process&#34;&gt;The e-discovery process&lt;/h3&gt;
&lt;h4 id=&#34;what-is-the-e-discovery-process&#34;&gt;What is the e-discovery process&lt;/h4&gt;
&lt;p&gt;Exchange of data between parties in civil or criminal litigation &lt;!-- raw HTML omitted --&gt;&lt;/p&gt;
&lt;p&gt;The process is largely controlled by attorneys who determine what data should be produced based on relevance, or withheld based on claims of privilege &lt;!-- raw HTML omitted --&gt;&lt;/p&gt;
&lt;h4 id=&#34;electronic-discovery-reference-model&#34;&gt;Electronic Discovery Reference Model&lt;/h4&gt;
&lt;!-- raw HTML omitted --&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;ol&gt;
&lt;li&gt;Preservation&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;Ensuring that ESI is protected against inappropriate alteration or destruction. &lt;!-- raw HTML omitted --&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;!-- raw HTML omitted --&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;ol start=&#34;2&#34;&gt;
&lt;li&gt;Collection&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;Gathering ESI for further use in the e-discovery process (processing, review, etc). &lt;!-- raw HTML omitted --&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;!-- raw HTML omitted --&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;ol start=&#34;3&#34;&gt;
&lt;li&gt;Processing&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;Reducing the volume of ESI and converting it, if necessary, to forms more suitable for review and analysis. &lt;!-- raw HTML omitted --&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;!-- raw HTML omitted --&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;ol start=&#34;4&#34;&gt;
&lt;li&gt;Review&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;Evaluating ESI for relevance and privilege. &lt;!-- raw HTML omitted --&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;!-- raw HTML omitted --&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;ol start=&#34;5&#34;&gt;
&lt;li&gt;Analysis&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;Evaluating ESI for content and context, including key patterns, topics, people and discussion. &lt;!-- raw HTML omitted --&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;!-- raw HTML omitted --&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;ol start=&#34;6&#34;&gt;
&lt;li&gt;Production&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;Delivering ESI to others in appropriate forms and using appropriate delivery mechanisms. &lt;!-- raw HTML omitted --&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;!-- raw HTML omitted --&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;ol start=&#34;7&#34;&gt;
&lt;li&gt;Presentation&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;Displaying ESI before audiences (at depositions, hearings, trials, etc), to elicit further information, validate existing facts or positions, or persuade an audience. &lt;!-- raw HTML omitted --&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
</description>
        </item>
        <item>
        <title>NSE Week5: Firewalls</title>
        <link>https://ginkgo.org.cn/posts/nse_week5_firewalls/</link>
        <pubDate>Fri, 29 Apr 2022 00:00:00 +0000</pubDate>
        
        <guid>https://ginkgo.org.cn/posts/nse_week5_firewalls/</guid>
        <description>&lt;h2 id=&#34;nse-week5-firwalls&#34;&gt;NSE Week5: Firwalls&lt;/h2&gt;
&lt;h3 id=&#34;how-to-protect-edges-of-the-internet-or-internal-network&#34;&gt;How to protect edges of the Internet or Internal network?&lt;/h3&gt;
&lt;p&gt;&lt;code&gt;Local area networks (LANs)&lt;/code&gt;, &lt;code&gt;personal area networks (PANs)&lt;/code&gt;, &lt;code&gt;wireless local area networks (WLANs)&lt;/code&gt;, 以及 &lt;code&gt;wireless sensor networks (WSNs)&lt;/code&gt; 都属于Internet的最边缘，大多都是个人组织或者家庭所拥有的内部网络，我们可以把保护这样的互联网边缘网络或者内部网络比喻成保卫一座城市，通过三层的保护措施来防止入侵: &lt;!-- raw HTML omitted --&gt;&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;Perimeter Security (边界安全): 通过减少入口来控制进出，派遣武装守卫把守，同时要求进出的人员拥有预先设定的证明 &lt;!-- raw HTML omitted --&gt;&lt;/li&gt;
&lt;li&gt;Street patrolling (街道巡逻): 派遣武装守卫定期上街巡逻，来识别入侵者 &lt;!-- raw HTML omitted --&gt;&lt;/li&gt;
&lt;li&gt;House cleaning (入室排查): 派遣专业的安全专家挨家挨户的排查外来危险品以及安全漏洞 &lt;!-- raw HTML omitted --&gt;&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;这三道对于城邦的包围也就可以对应网络安全中的三项技术： &lt;!-- raw HTML omitted --&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Perimeter Security &amp;lt;-&amp;gt; Firewall: 防火墙 &lt;!-- raw HTML omitted --&gt;&lt;/li&gt;
&lt;li&gt;Street patrolling &amp;lt;-&amp;gt; Intrusion detection systems: 入侵检测 &lt;!-- raw HTML omitted --&gt;&lt;/li&gt;
&lt;li&gt;House cleaning &amp;lt;-&amp;gt; Anti-malicious-software: 杀毒软件 &lt;!-- raw HTML omitted --&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;而我们今天要讲的，就是内网的第一道防线，防火墙。 &lt;!-- raw HTML omitted --&gt;&lt;/p&gt;
&lt;p&gt;在正式介绍防火墙之前，我们最后再介绍一下针对边界攻击的防御理念：5Ds of Perimeter Security: &lt;!-- raw HTML omitted --&gt;&lt;/p&gt;
&lt;p&gt;Deter -&amp;gt; Detect -&amp;gt; Deny -&amp;gt; Delay -&amp;gt; Defend &lt;!-- raw HTML omitted --&gt;&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;
&lt;p&gt;Deter
: -   组织入侵的发生（在其发生之前进行组织），即使用 &lt;code&gt;fencing 围栏&lt;/code&gt;, &lt;code&gt;lighting 完全照明&lt;/code&gt;, &lt;code&gt;signs 出入签名&lt;/code&gt; 等方式对犯罪者进行被动威慑，从最开始就扼杀入侵的念头 &lt;!-- raw HTML omitted --&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;使攻击变得困难，让attacker主动放弃 &lt;!-- raw HTML omitted --&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Detect
: -   检测入侵的行为，例如 &lt;code&gt;CCTV 监控&lt;/code&gt;, 用来监控和记录所有的入侵行为 &lt;!-- raw HTML omitted --&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Intrusion detection software &lt;!-- raw HTML omitted --&gt;&lt;/li&gt;
&lt;li&gt;Traffic analysis and machine learning to detect abnormities &lt;!-- raw HTML omitted --&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Deny
: -   拒绝未经授权的访问，通过一些认证系统来主动拒绝入侵的行为，其中防火墙就属于 &lt;code&gt;Deny&lt;/code&gt; &lt;!-- raw HTML omitted --&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Authentication, authorisation, freshness &lt;!-- raw HTML omitted --&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Delay
: -   延缓入侵的速度，通过设置障碍来延长入侵的时间，迫使入侵者放弃或者给予安全团队更多的时间 &lt;!-- raw HTML omitted --&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;增加密钥的长度 &lt;!-- raw HTML omitted --&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Defend
: -   主动地对入侵者进行打击，通过安全团队或者警方的行动来组织入侵 &lt;!-- raw HTML omitted --&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;h3 id=&#34;what-is-a-firewall&#34;&gt;What is a firewall?&lt;/h3&gt;
&lt;p&gt;什么是防火墙，它有什么作用呢？ &lt;!-- raw HTML omitted --&gt;&lt;/p&gt;
&lt;p&gt;防火墙是一台主机或者一个网络服务，架设于 &lt;code&gt;内网&lt;/code&gt; 和 &lt;code&gt;外部网络&lt;/code&gt; 之间，用来： &lt;!-- raw HTML omitted --&gt;&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;防止坏事发生 (内部泄露机密到外部，外部攻击内部系统) &lt;!-- raw HTML omitted --&gt;&lt;/li&gt;
&lt;li&gt;同时使正常的行为不收到影响(员工正常访问外网交互) &lt;!-- raw HTML omitted --&gt;&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;&lt;figure&gt;&lt;img src=&#34;https://ginkgo.org.cn/ox-hugo/2022-04-29_10-26-51_screenshot.png&#34; width=&#34;700px&#34;/&gt;
&lt;/figure&gt;
 &lt;!-- raw HTML omitted --&gt;&lt;/p&gt;
&lt;h4 id=&#34;防火墙的主要功能&#34;&gt;防火墙的主要功能&lt;/h4&gt;
&lt;p&gt;主要工作：Access control 访问控制 &lt;!-- raw HTML omitted --&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;建立一道屏障，所有方向上的网络流量都需要经过防火墙 &lt;!-- raw HTML omitted --&gt;&lt;/li&gt;
&lt;li&gt;防火墙会预设一系列安全协议来对所有这些经过的流量进行审计和控制（可以对异常的行为设置警报） &lt;!-- raw HTML omitted --&gt;&lt;/li&gt;
&lt;li&gt;可以对IP packet或者更早层的数据进行过滤 &lt;!-- raw HTML omitted --&gt;&lt;/li&gt;
&lt;li&gt;同时也可以部署NAT(network Address Translation)服务以及使用监控等服务 &lt;!-- raw HTML omitted --&gt;&lt;/li&gt;
&lt;li&gt;也可以通过IPSec来实现VPNs &lt;!-- raw HTML omitted --&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;h4 id=&#34;防火墙的技术&#34;&gt;防火墙的技术&lt;/h4&gt;
&lt;dl&gt;
&lt;dt&gt;What? -&amp;gt; Service Control&lt;/dt&gt;
&lt;dd&gt;通过 &lt;code&gt;transport layer ports&lt;/code&gt; 决定 &lt;!-- raw HTML omitted --&gt;
&lt;p&gt;决定 &lt;!-- raw HTML omitted --&gt;What types of Internet services&lt;!-- raw HTML omitted --&gt; 可以通过 &lt;!-- raw HTML omitted --&gt;&lt;/p&gt;
&lt;/dd&gt;
&lt;dt&gt;Where? -&amp;gt; Direction control&lt;/dt&gt;
&lt;dd&gt;通过 &lt;code&gt;{Source adddress -&amp;gt; Destination address}&lt;/code&gt; 决定 &lt;!-- raw HTML omitted --&gt;
&lt;p&gt;决定特定方向的流量是否可以通过 &lt;!-- raw HTML omitted --&gt;&lt;/p&gt;
&lt;/dd&gt;
&lt;dt&gt;Who? -&amp;gt; User control&lt;/dt&gt;
&lt;dd&gt;通过 &lt;code&gt;{IP address -&amp;gt; Transport layer port}&lt;/code&gt; 决定 &lt;!-- raw HTML omitted --&gt;
&lt;p&gt;决定什么服务可以被什么用户所访问 &lt;!-- raw HTML omitted --&gt;&lt;/p&gt;
&lt;/dd&gt;
&lt;dt&gt;How? -&amp;gt; Behaviour control&lt;/dt&gt;
&lt;dd&gt;控制服务应该被如何使用，比如一些核心的服务只能在特定的时间被使用 &lt;!-- raw HTML omitted --&gt;&lt;/dd&gt;
&lt;/dl&gt;
&lt;h4 id=&#34;防火墙的类型&#34;&gt;防火墙的类型&lt;/h4&gt;
&lt;dl&gt;
&lt;dt&gt;Positive filter&lt;/dt&gt;
&lt;dd&gt;主动过滤，白名单过滤，只允许符合规则的数据通过，其他都不可以通过 &lt;!-- raw HTML omitted --&gt;
&lt;p&gt;假设所有人都是坏人 &lt;!-- raw HTML omitted --&gt;&lt;/p&gt;
&lt;p&gt;主动地选定谁是好人，允许其通过 &lt;!-- raw HTML omitted --&gt;&lt;/p&gt;
&lt;/dd&gt;
&lt;dt&gt;Negative filter&lt;/dt&gt;
&lt;dd&gt;被动过滤，黑名单过滤，不允许不符合规则的数据通过，其他都可以通过 &lt;!-- raw HTML omitted --&gt;
&lt;p&gt;假设所有人都是好人 &lt;!-- raw HTML omitted --&gt;&lt;/p&gt;
&lt;p&gt;被动地，在发现了坏人之后，将其过滤 &lt;!-- raw HTML omitted --&gt;&lt;/p&gt;
&lt;/dd&gt;
&lt;/dl&gt;
&lt;p&gt;根据防火墙的类型，过滤的策略也会不一样: &lt;!-- raw HTML omitted --&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;一个或多个协议头 &lt;!-- raw HTML omitted --&gt;&lt;/li&gt;
&lt;li&gt;Payload的内容 &lt;!-- raw HTML omitted --&gt;&lt;/li&gt;
&lt;li&gt;一串数据包的pattern &lt;!-- raw HTML omitted --&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;h4 id=&#34;防火墙的限制&#34;&gt;防火墙的限制&lt;/h4&gt;
&lt;p&gt;防火墙也存在很多的限制，要不怎么需要多道的保护呢 &lt;!-- raw HTML omitted --&gt;
其无法保护: &lt;!-- raw HTML omitted --&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;绕过过滤规则的进攻 &lt;!-- raw HTML omitted --&gt;&lt;/li&gt;
&lt;li&gt;在外部被感染的设备 &lt;!-- raw HTML omitted --&gt;&lt;/li&gt;
&lt;li&gt;通过外部的WiFi网络进行的攻击 &lt;!-- raw HTML omitted --&gt;&lt;/li&gt;
&lt;li&gt;来自内部的威胁 &lt;!-- raw HTML omitted --&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;!-- raw HTML omitted --&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;sneakernet&lt;/p&gt;
&lt;p&gt;球鞋网络，顾名思义就是使用物理媒介运输数据，而非通过网络，记得以前上计算机网络的时候，老师就提到过，在网络不稳定或者质量较差的时候，往往还是使用物理传输更为高效 &lt;!-- raw HTML omitted --&gt;&lt;/p&gt;
&lt;p&gt;那么这种时候 &lt;code&gt;Firewall&lt;/code&gt; 就完全失效了，因为其所针对的都是网络数据包，物理传输完全不在范畴之内 &lt;!-- raw HTML omitted --&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;!-- raw HTML omitted --&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;WiFi&lt;/p&gt;
&lt;p&gt;WiFi之前的数据共享没办法集中到Firewall进行管理 &lt;!-- raw HTML omitted --&gt;&lt;/p&gt;
&lt;p&gt;&lt;figure&gt;&lt;img src=&#34;https://ginkgo.org.cn/ox-hugo/2022-04-29_11-24-28_screenshot.png&#34; width=&#34;700px&#34;/&gt;
    &lt;/figure&gt;
 &lt;!-- raw HTML omitted --&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id=&#34;packet-filtering-firewall&#34;&gt;Packet filtering firewall&lt;/h3&gt;
&lt;p&gt;What is a packet filtering firewall? &lt;!-- raw HTML omitted --&gt;
&lt;code&gt;基于数据包过滤的防火墙&lt;/code&gt; 是最基础也是最普遍使用的防火墙，其作用在两种数据包上： &lt;!-- raw HTML omitted --&gt;&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;Ingress packets: 从外网到内网的数据包 &lt;!-- raw HTML omitted --&gt;&lt;/li&gt;
&lt;li&gt;Egress packets: 从内网到外网的数据包 &lt;!-- raw HTML omitted --&gt;&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;同时也对应 &lt;code&gt;ingress filtering&lt;/code&gt;, &lt;code&gt;egress filtering&lt;/code&gt; 两种过滤手段： &lt;!-- raw HTML omitted --&gt;&lt;/p&gt;
&lt;p&gt;&lt;code&gt;Packet filtering firewall&lt;/code&gt; 通过预设一系列的规则来决定是否让某一种数据包通过，而这些规则都是用来检测 &lt;code&gt;IP headers&lt;/code&gt; 以及 &lt;code&gt;TCP headers&lt;/code&gt;, 对于应用层所放入的payload一点都不感兴趣 &lt;!-- raw HTML omitted --&gt;&lt;/p&gt;
&lt;p&gt;&lt;code&gt;Packet filtering firewall&lt;/code&gt; 也分成 &lt;code&gt;stateless filtering&lt;/code&gt; 以及 &lt;code&gt;stateful filter&lt;/code&gt;,主要的区别就在于应用的规则是否会审计网络连接的状态，即判断一个数据包的去留是否会参考之前的记录，也可以说是考虑了上下文 &lt;!-- raw HTML omitted --&gt;&lt;/p&gt;
&lt;p&gt;&lt;figure&gt;&lt;img src=&#34;https://ginkgo.org.cn/ox-hugo/2022-04-29_22-07-19_screenshot.png&#34; width=&#34;700px&#34;/&gt;
&lt;/figure&gt;
 &lt;!-- raw HTML omitted --&gt;&lt;/p&gt;
&lt;h4 id=&#34;stateless-filtering-无状态过滤&#34;&gt;Stateless filtering 无状态过滤&lt;/h4&gt;
&lt;p&gt;其无状态的过滤主要体现在： &lt;!-- raw HTML omitted --&gt;&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;对所有收到的包都一视同仁，单独决断是否放过 &lt;!-- raw HTML omitted --&gt;&lt;/li&gt;
&lt;li&gt;以前的记录不会影响对改数据包的判断 &lt;!-- raw HTML omitted --&gt;&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;我们之前提到过 &lt;code&gt;Packet filtering firewall&lt;/code&gt; 主要是通过审查 &lt;code&gt;IP headers&lt;/code&gt; 以及 &lt;code&gt;TCP headers&lt;/code&gt;, 那么细化来说 &lt;!-- raw HTML omitted --&gt;&lt;/p&gt;
&lt;p&gt;是IP header中的： &lt;!-- raw HTML omitted --&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Source IP address &lt;!-- raw HTML omitted --&gt;&lt;/li&gt;
&lt;li&gt;Destination IP address &lt;!-- raw HTML omitted --&gt;&lt;/li&gt;
&lt;li&gt;other fields: defines the transport protocol &lt;!-- raw HTML omitted --&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;以及 TCP/UDP header 中的： &lt;!-- raw HTML omitted --&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Source port &lt;!-- raw HTML omitted --&gt;&lt;/li&gt;
&lt;li&gt;Destination port &lt;!-- raw HTML omitted --&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;通过设定对以上信息的规则来实现过滤审查，那么所有的这些规则都会被记录到 &lt;code&gt;ACL (access control list)&lt;/code&gt; 访问控制列表上. &lt;!-- raw HTML omitted --&gt;&lt;/p&gt;
&lt;p&gt;&lt;figure&gt;&lt;img src=&#34;https://ginkgo.org.cn/ox-hugo/2022-04-29_20-46-55_screenshot.png&#34; width=&#34;700px&#34;/&gt;
&lt;/figure&gt;
 &lt;!-- raw HTML omitted --&gt;&lt;/p&gt;
&lt;!-- raw HTML omitted --&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;过滤规则&lt;/p&gt;
&lt;p&gt;通常来说，ACL上定义的规则会被 &lt;code&gt;从上至下&lt;/code&gt; 依次与审查的数据包进行匹配，然后执行对应的动作。 &lt;!-- raw HTML omitted --&gt;&lt;/p&gt;
&lt;!-- raw HTML omitted --&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;默认规则&lt;/p&gt;
&lt;p&gt;之前我们提到过主动过滤和被动过滤，在这里我们展开讲讲 &lt;!-- raw HTML omitted --&gt;&lt;/p&gt;
&lt;p&gt;Default = discard 默认丢包
: -   主动过滤（主动的选择可以通过的名单） &lt;!-- raw HTML omitted --&gt;
-   白名单过滤 &lt;!-- raw HTML omitted --&gt;
-   禁止未经明确许可的行为 (That which is not expressively permitted is prohibited) &lt;!-- raw HTML omitted --&gt;
-   更为稳健和保守的政策 &lt;!-- raw HTML omitted --&gt;
-   所有被允许的服务都需要一个个添加 &lt;!-- raw HTML omitted --&gt;
-   对用户不太友好（就像我们之前所提到的，用户的端口更为灵活，利用白名单一个个加很不明显） &lt;!-- raw HTML omitted --&gt;
-   用户的可见性随着规则的增加而降低 &lt;!-- raw HTML omitted --&gt;
-   相对的，对企业和政府来说更加友好 &lt;!-- raw HTML omitted --&gt;&lt;/p&gt;
&lt;p&gt;Default = forward 默认放行
: -   被动过滤（默认不用过滤，直到被动的知道了有威胁才过滤） &lt;!-- raw HTML omitted --&gt;
-   黑名单过滤 &lt;!-- raw HTML omitted --&gt;
-   没有明确禁止的就是允许的（That which is not expressively prohibited is permitted） &lt;!-- raw HTML omitted --&gt;
-   较于白名单更不安全 &lt;!-- raw HTML omitted --&gt;
-   每当出现新的威胁需要更新记录到黑名单上 &lt;!-- raw HTML omitted --&gt;
-   通常被开发的组织采纳，比如大学 &lt;!-- raw HTML omitted --&gt;&lt;/p&gt;
&lt;p&gt;Granularity of filtering 过滤的颗粒度
: 除了前面提到那几个常见的匹配规则，还有一些内容可以实现更精确的过滤，根据firewall使用的不同的routers来决定 &lt;!-- raw HTML omitted --&gt;
-   在入站时进行过滤 &lt;!-- raw HTML omitted --&gt;
-   在出站时进行过滤 &lt;!-- raw HTML omitted --&gt;
-   在入站和出站同时进行过滤 &lt;!-- raw HTML omitted --&gt;
-   检查数据包的其他控制区域 &lt;!-- raw HTML omitted --&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;!-- raw HTML omitted --&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;ACL实例&lt;/p&gt;
&lt;!-- raw HTML omitted --&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;Rule set A&lt;/p&gt;
&lt;p&gt;&lt;figure&gt;&lt;img src=&#34;https://ginkgo.org.cn/ox-hugo/2022-04-29_22-39-21_screenshot.png&#34; width=&#34;700px&#34;/&gt;
            &lt;/figure&gt;
 &lt;!-- raw HTML omitted --&gt;&lt;/p&gt;
&lt;p&gt;我们先来看这第一组规则 &lt;!-- raw HTML omitted --&gt;
&amp;rsquo; * &amp;rsquo; = ANY &lt;!-- raw HTML omitted --&gt;&lt;/p&gt;
&lt;p&gt;第一条
: 所有与 &lt;code&gt;SPIGOT&lt;/code&gt; 的通信都被禁止了 &lt;!-- raw HTML omitted --&gt;
1.  两个端口号都没有指定，说明这条规则没有方向（端口号的大小指示了客户端和服务端） &lt;!-- raw HTML omitted --&gt;
2.  只指定了 &lt;code&gt;SPIGOT&lt;/code&gt; 的IP地址，说明到SPIGOT的数据包和从SPIGOT来的数据包都会被禁止，也许是以前有过恶意行为，所以被整一个禁止了 &lt;!-- raw HTML omitted --&gt;&lt;/p&gt;
&lt;p&gt;第二条
: 所有内网开启的SMTP服务都允许被外网所连接 &lt;!-- raw HTML omitted --&gt;
1.  指定了IP地址以及对应的端口号25， 是SMTP服务所对应的端口 &lt;!-- raw HTML omitted --&gt;
2.  这里是允许内网的邮件系统收取邮件 &lt;!-- raw HTML omitted --&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;!-- raw HTML omitted --&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;Rule set B&lt;/p&gt;
&lt;p&gt;&lt;!-- raw HTML omitted --&gt; &lt;!-- raw HTML omitted --&gt;
默认丢弃所有的数据包 &lt;!-- raw HTML omitted --&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;这是一条默认丢弃规则，一般来说是放在最下面 &lt;!-- raw HTML omitted --&gt;&lt;/li&gt;
&lt;li&gt;默认丢弃就是我们之前说的主动过滤，白名单过滤 &lt;!-- raw HTML omitted --&gt;&lt;/li&gt;
&lt;li&gt;在此之上就是定义的可以通过的规则 &lt;!-- raw HTML omitted --&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;!-- raw HTML omitted --&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;Rule set C&lt;/p&gt;
&lt;p&gt;&lt;figure&gt;&lt;img src=&#34;https://ginkgo.org.cn/ox-hugo/2022-04-30_09-53-39_screenshot.png&#34; width=&#34;700px&#34;/&gt;
            &lt;/figure&gt;
 &lt;!-- raw HTML omitted --&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;与rule set A类似，这次是允许内网所有的主机向外发邮件 &lt;!-- raw HTML omitted --&gt;&lt;/li&gt;
&lt;li&gt;但是存在两个漏洞 &lt;!-- raw HTML omitted --&gt;
&lt;ol&gt;
&lt;li&gt;攻击者也可以修改他们服务端口号到25，这样就可以使泄密的数据绕过防火墙策略 &lt;!-- raw HTML omitted --&gt;&lt;/li&gt;
&lt;li&gt;attacker也可以修改他们的客户端端口号到25，从而绕过防火墙策略实现入侵，连接内网的服务 &lt;!-- raw HTML omitted --&gt;&lt;/li&gt;
&lt;/ol&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;!-- raw HTML omitted --&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;Rule set D&lt;/p&gt;
&lt;p&gt;&lt;figure&gt;&lt;img src=&#34;https://ginkgo.org.cn/ox-hugo/2022-04-30_09-55-57_screenshot.png&#34; width=&#34;700px&#34;/&gt;
            &lt;/figure&gt;
 &lt;!-- raw HTML omitted --&gt;&lt;/p&gt;
&lt;p&gt;与之前三条不同的是，Rule set D多了flags的信息，主要运用于TCP的连接的判断 &lt;!-- raw HTML omitted --&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;第一条和之前Rule set C一样，是允许内网的主机发送邮件到外网 &lt;!-- raw HTML omitted --&gt;&lt;/li&gt;
&lt;li&gt;第二条则做了更多的限制，要求进入内网的邮件需要是TCP ACK数据包 &lt;!-- raw HTML omitted --&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;!-- raw HTML omitted --&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;Rule set E&lt;/p&gt;
&lt;p&gt;&lt;figure&gt;&lt;img src=&#34;https://ginkgo.org.cn/ox-hugo/2022-04-30_09-58-55_screenshot.png&#34; width=&#34;700px&#34;/&gt;
            &lt;/figure&gt;
 &lt;!-- raw HTML omitted --&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;第一条，允许内网的主机向外发送数据 &lt;!-- raw HTML omitted --&gt;&lt;/li&gt;
&lt;li&gt;第二条，允许回复的ACK包 &lt;!-- raw HTML omitted --&gt;&lt;/li&gt;
&lt;li&gt;第三条，允许内网的服务对外网的客户端进行回复 (port &amp;gt; 1024) &lt;!-- raw HTML omitted --&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;!-- raw HTML omitted --&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;其他常见过滤规则&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;
&lt;p&gt;Ingress packet 的source IP address 是内网的地址
: 我们知道防火墙是建立在内网和外网之前的，因此 &lt;code&gt;Ingress packet&lt;/code&gt; 只有可能是从外网的地址到内网的地址，这类不寻常的数据包通常都是被恶意修改的数据包 &lt;!-- raw HTML omitted --&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;指定了路由器的数据包
: 这类数据包通常也是被恶意修改的来绕过防火墙规则的 &lt;!-- raw HTML omitted --&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Payload特别小的数据包
: 这类特别小的数据包，很有可能是用来分离会被审查的信息，以此来绕过防火墙规则 &lt;!-- raw HTML omitted --&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;来自外网地址的用于控制的数据包
: 有一些数据包是专门用来进行内网设备管理和控制的，比如DHCP, Bootp, TFTP, NFS, 都是来给内网下发指令或者发送配置的，这些数据包如果来自外网很有可能就是恶意的，应该丢弃 &lt;!-- raw HTML omitted --&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;!-- raw HTML omitted --&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;Stateless filtering的优劣势以及漏洞&lt;/p&gt;
&lt;!-- raw HTML omitted --&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;Advantages&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;实现 &lt;code&gt;stateless filtering&lt;/code&gt; 比较方便 &lt;!-- raw HTML omitted --&gt;&lt;/li&gt;
&lt;li&gt;规则对用户比较透明，速度也很快 &lt;!-- raw HTML omitted --&gt;&lt;/li&gt;
&lt;/ol&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;!-- raw HTML omitted --&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;Disadvantages&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;没办法对更高层的数据进行过滤，因此没办法部署对于应用层的漏洞的过滤 &lt;!-- raw HTML omitted --&gt;
&lt;ul&gt;
&lt;li&gt;一些恶意的指令（存在于payload中）无法被过滤 &lt;!-- raw HTML omitted --&gt;&lt;/li&gt;
&lt;li&gt;如果一个客户端端口号被允许通过（&amp;gt;1024）,那么其所有的数据包都会被放行 &lt;!-- raw HTML omitted --&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;日志记录的信息较少（因为本来指定规则以及审核数据包所需要用到的数据就很少） &lt;!-- raw HTML omitted --&gt;&lt;/li&gt;
&lt;li&gt;无法部署高级的认证系统 &lt;!-- raw HTML omitted --&gt;
&lt;ul&gt;
&lt;li&gt;同样因为缺乏高层的审核功能 &lt;!-- raw HTML omitted --&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;!-- raw HTML omitted --&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;Vulnerabilities&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;无法检测出TCP/IP被修改过的数据，spoofing attack &lt;!-- raw HTML omitted --&gt;
&lt;ul&gt;
&lt;li&gt;无法应用更高层的审核机制，导致数据内容被修改后即可绕过规则 &lt;!-- raw HTML omitted --&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;由于用于过滤规则制定的变量较少，因此错误的配置很容易就发生了，从而招致入侵 &lt;!-- raw HTML omitted --&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;!-- raw HTML omitted --&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;攻防实例&lt;/p&gt;
&lt;p&gt;接下来我们来看一些攻防的实例，来看看stateless filtering能抵御哪些攻击 &lt;!-- raw HTML omitted --&gt;&lt;/p&gt;
&lt;!-- raw HTML omitted --&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;IP address spoofing&lt;/p&gt;
&lt;p&gt;&lt;code&gt;IP address spoofing&lt;/code&gt; 通常都是通过修改IP地址来欺骗服务器其真正的主机地址 &lt;!-- raw HTML omitted --&gt;&lt;/p&gt;
&lt;p&gt;Countermeasure
: -   我们可以制定一些规则来避免一些不合理的数据包，例如 &lt;!-- raw HTML omitted --&gt;
-   Ingress（从连接外网的interface传向连接内网的interface）的数据包本来应该是外网到内网的地址，可如果source IP address变成了外网的地址，那就有问题了 &lt;!-- raw HTML omitted --&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;!-- raw HTML omitted --&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;Source routing attack&lt;/p&gt;
&lt;p&gt;Source routing是一种特殊的路由机制，即发送方可以指定到达接收方的路由（通常来说，我们只是指定gateway，然后让路由器去寻找路由） &lt;!-- raw HTML omitted --&gt;&lt;/p&gt;
&lt;p&gt;那么Attacker可以利用这个机制来伪造数据包的IP address绕过过滤规则，同时使用source routing指示数据包真正的路径和方向 &lt;!-- raw HTML omitted --&gt;&lt;/p&gt;
&lt;p&gt;Countermeasure
: -   丢弃所有使用source routing的数据包 &lt;!-- raw HTML omitted --&gt;
-   禁止这些指定了路由的数据包 &lt;!-- raw HTML omitted --&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;!-- raw HTML omitted --&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;Tiny fragment attacks&lt;/p&gt;
&lt;p&gt;就像我们之前提到过的，攻击者可以将数据包分离成多个小的数据包，将所需要的信息分散到小的数据包当中，而防火墙往往只会检查最开始的数据包片段，由此可以绕过检测规则 &lt;!-- raw HTML omitted --&gt;&lt;/p&gt;
&lt;p&gt;Countermeasure
: -   防火墙可以设定一些规则比如，丢弃所有分散化的TCP数据包，或者在进行审核之前先重组这些数据包片段 &lt;!-- raw HTML omitted --&gt;
-   规定第一个数据包片段必须含有足够多的数据便于防火墙审核 &lt;!-- raw HTML omitted --&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;!-- raw HTML omitted --&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;补充知识&lt;/p&gt;
&lt;!-- raw HTML omitted --&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;TCP port numbers&lt;/p&gt;
&lt;p&gt;我们再来复习一下 &lt;code&gt;TCP port numbers&lt;/code&gt; &lt;!-- raw HTML omitted --&gt;&lt;/p&gt;
&lt;p&gt;TCP port number 一般用来指示运行的应用或者服务： &lt;!-- raw HTML omitted --&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;服务器端（本地的）应用的端口号一般小于1024，这些端口号一般都已经被占用了，我们自己在写程序的时候应该避免使用 &lt;!-- raw HTML omitted --&gt;&lt;/li&gt;
&lt;li&gt;而其他1024~66535的端口号一般被用于客户端（外部的）程序 (16 bits端口号) &lt;!-- raw HTML omitted --&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;还记得我们之前的送快递的例子吗，我们说传输层是上保险，IP地址是送货地址，网络层是找送货的地图，MAC地址是邮编，物理层是送货，那么这个端口号就是写的名字，表明是什么服务传输数据给什么服务 &lt;!-- raw HTML omitted --&gt;&lt;/p&gt;
&lt;p&gt;&lt;figure&gt;&lt;img src=&#34;https://ginkgo.org.cn/ox-hugo/2022-04-29_21-04-52_screenshot.png&#34; width=&#34;400px&#34;/&gt;
        &lt;/figure&gt;
 &lt;!-- raw HTML omitted --&gt;&lt;/p&gt;
&lt;p&gt;从中，我们又看出了一些 &lt;code&gt;stateless filtering&lt;/code&gt; 的局限，用户的端口号千变万化，那么就会设置一下较为宽松的规则，从而引发漏洞 &lt;!-- raw HTML omitted --&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;!-- raw HTML omitted --&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;How to block an entire subnet?&lt;/p&gt;
&lt;p&gt;Use subnet address with CIDR prefix or subnet masks，使用子网划分的后缀 &lt;!-- raw HTML omitted --&gt;&lt;/p&gt;
&lt;p&gt;&lt;figure&gt;&lt;img src=&#34;https://ginkgo.org.cn/ox-hugo/2022-04-29_22-09-37_screenshot.png&#34; width=&#34;700px&#34;/&gt;
        &lt;/figure&gt;
 &lt;!-- raw HTML omitted --&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;h4 id=&#34;stateful-firewall&#34;&gt;Stateful firewall&lt;/h4&gt;
&lt;p&gt;&lt;code&gt;Stateful filtering&lt;/code&gt;, 也叫做 &lt;code&gt;connection-state filtering&lt;/code&gt;,通过追踪外部和内部的主机的连接来决定出入规则 &lt;!-- raw HTML omitted --&gt;&lt;/p&gt;
&lt;dl&gt;
&lt;dt&gt;Connection state&lt;/dt&gt;
&lt;dd&gt;当我们说连接的是，指的就是一个TCP连接的状态，是否已经建立（UDP不建立连接） &lt;!-- raw HTML omitted --&gt;&lt;/dd&gt;
&lt;/dl&gt;
&lt;p&gt;所有这些建立的TCP连接都会存入 &lt;code&gt;state table&lt;/code&gt; (但如果保存了大量的连接，就会出现TCP SYN Flooding 这样的攻击) &lt;!-- raw HTML omitted --&gt;&lt;/p&gt;
&lt;p&gt;&lt;figure&gt;&lt;img src=&#34;https://ginkgo.org.cn/ox-hugo/2022-04-29_21-33-38_screenshot.png&#34; width=&#34;700px&#34;/&gt;
&lt;/figure&gt;
 &lt;!-- raw HTML omitted --&gt;&lt;/p&gt;
&lt;!-- raw HTML omitted --&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;How stateful firewall works?&lt;/p&gt;
&lt;p&gt;当有ingress或者egress的数据包通过的时候，firwall会查找 &lt;code&gt;state table&lt;/code&gt; 来判断他们是否属于被记录的connection &lt;!-- raw HTML omitted --&gt;&lt;/p&gt;
&lt;p&gt;如果属于一个连接，发行，并记录信息（比如TCP sequence number，可以用来防御 &lt;code&gt;TCP session hijacking&lt;/code&gt; ） &lt;!-- raw HTML omitted --&gt;&lt;/p&gt;
&lt;p&gt;如果不属于，再判断这是否是一个 &lt;code&gt;TCP SYN packet&lt;/code&gt; 用来建立一个连接: &lt;!-- raw HTML omitted --&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;如果是的话就新开一条记录用来记录这个新的连接 &lt;!-- raw HTML omitted --&gt;&lt;/li&gt;
&lt;li&gt;如果不是的话，那就丢弃 &lt;!-- raw HTML omitted --&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;!-- raw HTML omitted --&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;Drawbacks of stateful firewall?&lt;/p&gt;
&lt;p&gt;我们可以同时使用 &lt;code&gt;stateful filtering&lt;/code&gt; 以及 &lt;code&gt;stateless filtering&lt;/code&gt;,因为从上面的描述中，也许有一些朋友已经嗅到了一丝漏洞的味道，存储 -&amp;gt; Emm -&amp;gt;flooding lol. &lt;!-- raw HTML omitted --&gt;&lt;/p&gt;
&lt;p&gt;查询连接，判断从属，记录信息等等这些动作都需要消耗大量的存储空间和CPU资源，因此很容易遭受攻击，因此可以选择只保存有限的信息，以及一段时间内的连接来减少消耗 &lt;!-- raw HTML omitted --&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;!-- raw HTML omitted --&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;IPTables&lt;/p&gt;
&lt;p&gt;IPtables是Linux的 stateful packet filtering工具，其主要的功能有两个： &lt;!-- raw HTML omitted --&gt;&lt;/p&gt;
&lt;p&gt;Tables
:&lt;/p&gt;
&lt;p&gt;Chains
: 定义了一系列的过滤规则用来处理经过的数据包，然后做出响应的决定（accept or drop） &lt;!-- raw HTML omitted --&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id=&#34;stateful-firwall-and-proxy-firewall&#34;&gt;Stateful firwall and proxy firewall&lt;/h3&gt;
&lt;h4 id=&#34;circuit-level-gateway-proxy-firewall&#34;&gt;Circuit-level gateway/proxy firewall&lt;/h4&gt;
&lt;p&gt;Circuit-level gateway/proxy firewall 位于 &lt;code&gt;session layer&lt;/code&gt; 会话层，根据网络模型的不同，有一些教材也有说是跑在 &lt;code&gt;Transport layer&lt;/code&gt; 传输层的。 &lt;!-- raw HTML omitted --&gt;&lt;/p&gt;
&lt;p&gt;也被称为 &lt;code&gt;circuit gateways&lt;/code&gt;, &lt;code&gt;transparent proxy firewall&lt;/code&gt; &lt;!-- raw HTML omitted --&gt;
其主要的目标是对内外网想要建立的连接进行审核，通过 &lt;code&gt;packet filters&lt;/code&gt; 与 &lt;code&gt;circuit gateways&lt;/code&gt; 的结合可以构造起一个 &lt;code&gt;dynamic packet filter&lt;/code&gt;  &lt;!-- raw HTML omitted --&gt;&lt;/p&gt;
&lt;!-- raw HTML omitted --&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;如何实现连接的过滤呢？&lt;/p&gt;
&lt;p&gt;主要是通过 &lt;code&gt;relay/proxy&lt;/code&gt; 连接，gateway会分别与 &lt;code&gt;server side&lt;/code&gt; 以及 &lt;code&gt;client-side&lt;/code&gt; 建立独立的连接 &lt;!-- raw HTML omitted --&gt;&lt;/p&gt;
&lt;p&gt;在packet filter，无论是 &lt;code&gt;stateful&lt;/code&gt; 或者是 &lt;code&gt;stateless&lt;/code&gt; 中，服务端和客户端的连接都是直连的，而在 circuit-level gateway中实现的relay可以很好的隐藏server和client的信息，外网只能观察到gateway的IP地址，而不知道具体连接的内网设备的信息 &lt;!-- raw HTML omitted --&gt;&lt;/p&gt;
&lt;p&gt;&lt;figure&gt;&lt;img src=&#34;https://ginkgo.org.cn/ox-hugo/2022-05-27_15-27-07_screenshot.png&#34; width=&#34;700px&#34;/&gt;
    &lt;/figure&gt;
 &lt;!-- raw HTML omitted --&gt;&lt;/p&gt;
&lt;p&gt;上图就是当外网的client想要连接内网的服务，就会先与gateway建立连接，gateway会维护一个有效连接的表，如果连接是被允许的，那么就会继续建立连接，gateway会用公网IP地址与外网的client建立一个TCP连接，再与内网的设备用内网IP建立TCP连接，之后就不再过滤数据，只是做煎蛋的转发。 &lt;!-- raw HTML omitted --&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;h4 id=&#34;application-level-proxy-firewall&#34;&gt;Application-level proxy firewall&lt;/h4&gt;
&lt;p&gt;&lt;code&gt;Application gateways&lt;/code&gt;, also referred to as &lt;code&gt;application-level gateways (ALG)&lt;/code&gt; or &lt;code&gt;proxy servers&lt;/code&gt;, 是安装在指定设备上的软件包，像proxy一样，用来为内网用户处理来自外网的服务请求。 &lt;!-- raw HTML omitted --&gt;&lt;/p&gt;
&lt;p&gt;ALG可以被配置为应用的特定特征进行过滤，例如MIME，或者SQL格式来决定数据包的payload是否合法。 &lt;!-- raw HTML omitted --&gt;&lt;/p&gt;
&lt;p&gt;通过监测分析这些payload，ALG可以检测出恶意代码还有可疑的数据包，进而屏蔽可以的IP地址以及端口号，这些处理将会要求ALG服务器有大量的运算处理和存储的需求。 &lt;!-- raw HTML omitted --&gt;&lt;/p&gt;
&lt;p&gt;ALG采用白名单的形式，需要为不同的applications配置不同的审核机制，否则就不能进行传输 &lt;!-- raw HTML omitted --&gt;
If gateway does not implement the proxy code for a specific application, then the service is not supported and cannot be forwarded across the firewall &lt;!-- raw HTML omitted --&gt;&lt;/p&gt;
&lt;!-- raw HTML omitted --&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;如何连接到ALG服务?&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;用户使用TCP/IP应用来进行连接，例如Telnet/FTP &lt;!-- raw HTML omitted --&gt;&lt;/li&gt;
&lt;li&gt;ALG会要求用户提供想要连接远程用户的名字 &lt;!-- raw HTML omitted --&gt;&lt;/li&gt;
&lt;li&gt;用户提供有效的user ID以及相关的认证信息 &lt;!-- raw HTML omitted --&gt;&lt;/li&gt;
&lt;li&gt;ALG会relay TCP segment来进行监测并转发 &lt;!-- raw HTML omitted --&gt;&lt;/li&gt;
&lt;/ol&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;!-- raw HTML omitted --&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;ALG的优点&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;相较于 &lt;code&gt;packet filtering firewalls&lt;/code&gt; 更为安全 &lt;!-- raw HTML omitted --&gt;&lt;/li&gt;
&lt;li&gt;只需要监测一小部分特定的应用即可 &lt;!-- raw HTML omitted --&gt;&lt;/li&gt;
&lt;li&gt;更方便的记录日志以及监测应用层的payload &lt;!-- raw HTML omitted --&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;!-- raw HTML omitted --&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;ALG的缺点&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;每一个服务都需要进行proxy &lt;!-- raw HTML omitted --&gt;&lt;/li&gt;
&lt;li&gt;需要大量的计算处理以及消耗大量的存储空间 &lt;!-- raw HTML omitted --&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id=&#34;bastion-hosts-and-gateways&#34;&gt;Bastion hosts and Gateways&lt;/h3&gt;
&lt;p&gt;我们之前提到的 &lt;code&gt;Application gateway&lt;/code&gt; 出于内外网之前充当转发的作用，但是相对的，ALG暴露在外网这种，因此我们需要对其提供更多的保护，一种就是 &lt;code&gt;Tursted Operating Systems (TOS)&lt;/code&gt;, 还有一种就是我们本章将要提到的 &lt;code&gt;Bastion hosts&lt;/code&gt; 堡垒机。 &lt;!-- raw HTML omitted --&gt;&lt;/p&gt;
&lt;p&gt;Bastion hosts堡垒机将提供强大的防御措施，包括联合使用我们之前所提到过的 &lt;code&gt;application gateways&lt;/code&gt;, &lt;code&gt;circuit gatways&lt;/code&gt; 以及各种类型的firewalls，同时堡垒机安装了可以信任的操作系统TOS，只提供必要的程序功能，例如SSH, DNS, SMTP, authentication programs。 &lt;!-- raw HTML omitted --&gt;&lt;/p&gt;
&lt;p&gt;Bastion上的Proxy必须满足以下条件 &lt;!-- raw HTML omitted --&gt;&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;Gateway software的开发必须使用小型的module，因为小型的module更加容易检查漏洞，并方便重复使用 &lt;!-- raw HTML omitted --&gt;&lt;/li&gt;
&lt;li&gt;堡垒机必须对网络层的用户进行单独的身份认证，例如通过IP packet 中的 source IP address以及destination IP address，这将与更高层的验证分离开来进行身份认证 &lt;!-- raw HTML omitted --&gt;&lt;/li&gt;
&lt;li&gt;堡垒机需要尽可能少得去连接内网的主机，这样一旦堡垒机出现问题，波及到的主机也会减少 &lt;!-- raw HTML omitted --&gt;&lt;/li&gt;
&lt;li&gt;堡垒机需要记录所有的系统日志，包括TCP会话连接状态，这将帮助管理员发现问题 &lt;!-- raw HTML omitted --&gt;&lt;/li&gt;
&lt;li&gt;所有跑在堡垒机上的代理服务都需要独立运行，一旦一个gateway发生问题，只需要单独关闭即可 &lt;!-- raw HTML omitted --&gt;&lt;/li&gt;
&lt;li&gt;堡垒机应该避免将数据写入硬盘保存（只写入内存中？），避免恶意软件的写入 &lt;!-- raw HTML omitted --&gt;&lt;/li&gt;
&lt;li&gt;堡垒机上运行的gateway软件不需要给予管理员权限 &lt;!-- raw HTML omitted --&gt;&lt;/li&gt;
&lt;/ol&gt;
&lt;h4 id=&#34;bastion-host-case-study&#34;&gt;Bastion host case study&lt;/h4&gt;
&lt;p&gt;&lt;!-- raw HTML omitted --&gt; &lt;!-- raw HTML omitted --&gt;
AWS就是通过设置堡垒机以及其中的Gateway来对危险的SSH进行relay，避免暴露真正的Linux instance &lt;!-- raw HTML omitted --&gt;&lt;/p&gt;
&lt;h3 id=&#34;firewall-location-and-configuration&#34;&gt;Firewall location and configuration&lt;/h3&gt;
&lt;h4 id=&#34;personal-firewall&#34;&gt;Personal firewall&lt;/h4&gt;
&lt;p&gt;个人防火墙的主要目的是控制用户电脑与外网的网络流量 &lt;!-- raw HTML omitted --&gt;&lt;/p&gt;
&lt;p&gt;位置：通常是安装在个人电脑或者路由器上的软件包 &lt;!-- raw HTML omitted --&gt;&lt;/p&gt;
&lt;p&gt;主要作用： &lt;!-- raw HTML omitted --&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;拒绝未经许可的外部访问 &lt;!-- raw HTML omitted --&gt;&lt;/li&gt;
&lt;li&gt;监控出站流量来分析恶意软件的活动 &lt;!-- raw HTML omitted --&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;h4 id=&#34;host-based-firewall&#34;&gt;Host-based firewall&lt;/h4&gt;
&lt;p&gt;&lt;!-- raw HTML omitted --&gt; &lt;!-- raw HTML omitted --&gt;
Host-based firewall其实与personal firewall十分相似，区别我觉得就是personal firewall一般是用在普通用户所使用的操作系统上的，而Host-based firewall则更多的是服务器上的使用，但特点都是一机一wall &lt;!-- raw HTML omitted --&gt;&lt;/p&gt;
&lt;p&gt;而我们之前提到的用来分割内外网的firewall我们称为network-based firewall，区别就在于起作用域不一样 &lt;!-- raw HTML omitted --&gt;&lt;/p&gt;
&lt;p&gt;位置：通常被安装在一个web服务器上 &lt;!-- raw HTML omitted --&gt;&lt;/p&gt;
&lt;!-- raw HTML omitted --&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;Advantages&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;可以根据主机的情况进行过滤规则的定制 &lt;!-- raw HTML omitted --&gt;&lt;/li&gt;
&lt;li&gt;可以根据企业不同的安全政策进行定制 &lt;!-- raw HTML omitted --&gt;&lt;/li&gt;
&lt;li&gt;可以防御内部以及外部的网络 &lt;!-- raw HTML omitted --&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;h4 id=&#34;dmz-networks&#34;&gt;DMZ networks&lt;/h4&gt;
&lt;!-- raw HTML omitted --&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;DMZ&lt;/p&gt;
&lt;p&gt;&lt;!-- raw HTML omitted --&gt; &lt;!-- raw HTML omitted --&gt;
位于两个防火墙中间的子网我们称为Demilitarised Zones (DMZ 非军事化区域？), 其可以是物理的也可以是逻辑子王 &lt;!-- raw HTML omitted --&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;外部的firewall保护DMZ网络来自外网的威胁 &lt;!-- raw HTML omitted --&gt;
&lt;ul&gt;
&lt;li&gt;针对外网的连接 &lt;!-- raw HTML omitted --&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;内部的firewall保护DMZ网络来自内部的威胁 &lt;!-- raw HTML omitted --&gt;
&lt;ul&gt;
&lt;li&gt;保护那些直接从DMZ网络中发出的攻击，例如worms, rootkit, bots &lt;!-- raw HTML omitted --&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;DMZ中还可以嵌套DMZ形成多层的DMZ，那么连接在最末端firewall的子网就是最安全的，相反，连接在最外侧的firewall就是最不安全的，因为他们只有一个firewall的保护，随着结构的增加和复杂化，安全系数也在提高，攻击者需要绕过一层层的过滤规则才能到达最末端的设备。 &lt;!-- raw HTML omitted --&gt;&lt;/p&gt;
&lt;p&gt;通常来说，一些不需要特别强的保护的服务器电脑和其他设备会被放到DMZ网络中，他们起码可以避免暴露在外网当中。 &lt;!-- raw HTML omitted --&gt;&lt;/p&gt;
&lt;p&gt;例如我们可以把WAF和负载均衡这些功能性的服务器给放置在DMZ网络中 &lt;!-- raw HTML omitted --&gt;&lt;/p&gt;
&lt;p&gt;还有一些用于促进内外连接的服务器也会防止在DMZ中，例如企业网站，邮件以及DNS服务器 &lt;!-- raw HTML omitted --&gt;&lt;/p&gt;
&lt;p&gt;&lt;figure&gt;&lt;img src=&#34;https://ginkgo.org.cn/ox-hugo/2022-05-27_17-23-08_screenshot.png&#34; width=&#34;700px&#34;/&gt;
    &lt;/figure&gt;
 &lt;!-- raw HTML omitted --&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;h4 id=&#34;distributed-firewalls&#34;&gt;Distributed firewalls&lt;/h4&gt;
&lt;p&gt;&lt;!-- raw HTML omitted --&gt; &lt;!-- raw HTML omitted --&gt;
分布式的防火墙框架，将综合使用多种防火墙，比如单独的防火墙设备以及安装在各个server上的host-based firewall 以及 安装在各个用户系统上的 personal firewall &lt;!-- raw HTML omitted --&gt;&lt;/p&gt;
&lt;dl&gt;
&lt;dt&gt;Security monitoring&lt;/dt&gt;
&lt;dd&gt;&lt;ul&gt;
&lt;li&gt;日志记录 &lt;!-- raw HTML omitted --&gt;&lt;/li&gt;
&lt;li&gt;防火墙统计数据 &lt;!-- raw HTML omitted --&gt;&lt;/li&gt;
&lt;li&gt;对于单独的用户的监控 &lt;!-- raw HTML omitted --&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/dd&gt;
&lt;/dl&gt;
&lt;h4 id=&#34;cloud-firwalls&#34;&gt;Cloud firwalls&lt;/h4&gt;
&lt;p&gt;Virtual private cloud (VPC) &lt;!-- raw HTML omitted --&gt;&lt;/p&gt;
&lt;p&gt;&lt;!-- raw HTML omitted --&gt; &lt;!-- raw HTML omitted --&gt;
&lt;a class=&#34;link&#34; href=&#34;https://docs.microsoft.com/en-us/azure/firewall/features&#34;  target=&#34;_blank&#34; rel=&#34;noopener&#34;
    &gt;Azure Firewall&lt;/a&gt; &lt;!-- raw HTML omitted --&gt;&lt;/p&gt;
&lt;h3 id=&#34;firewall-summary&#34;&gt;Firewall summary&lt;/h3&gt;
&lt;p&gt;&lt;figure&gt;&lt;img src=&#34;https://ginkgo.org.cn/ox-hugo/2022-05-27_16-26-23_screenshot.png&#34; width=&#34;700px&#34;/&gt;
&lt;/figure&gt;
 &lt;!-- raw HTML omitted --&gt;&lt;/p&gt;
</description>
        </item>
        <item>
        <title>NSE Week4: Hijacking and poisoning</title>
        <link>https://ginkgo.org.cn/posts/nse_week_4_hijacking_and_poisoning/</link>
        <pubDate>Thu, 28 Apr 2022 00:00:00 +0000</pubDate>
        
        <guid>https://ginkgo.org.cn/posts/nse_week_4_hijacking_and_poisoning/</guid>
        <description>&lt;h2 id=&#34;nse-week4-hijacking-and-poisoning&#34;&gt;NSE Week4: Hijacking and poisoning&lt;/h2&gt;
&lt;h3 id=&#34;tcp-session-hijacking&#34;&gt;TCP Session Hijacking&lt;/h3&gt;
&lt;h4 id=&#34;what-is-hijacking-劫持&#34;&gt;What is Hijacking 劫持?&lt;/h4&gt;
&lt;p&gt;指的是劫取其他人的东西，特别是在运行的时候。 &lt;!-- raw HTML omitted --&gt;&lt;/p&gt;
&lt;p&gt;Hijacking 劫持与spoofing的不同点在于： &lt;!-- raw HTML omitted --&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Hijacking 是劫持一个已经存在的TCP连接 &lt;!-- raw HTML omitted --&gt;&lt;/li&gt;
&lt;li&gt;而Spoffing则是通过修改IP header来发起新的连接进行欺骗 &lt;!-- raw HTML omitted --&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;!-- raw HTML omitted --&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;Off-path v.s. On-path adversaries&lt;/p&gt;
&lt;p&gt;顾名思义，就是判断发起劫持的主机是否在连接的两台主机的路由上： &lt;!-- raw HTML omitted --&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;如果在路由上，那么就是On-path, 这种劫持更为强大，可以直接注入错误的信息，但是却很难扩大规模 &lt;!-- raw HTML omitted --&gt;&lt;/li&gt;
&lt;li&gt;如果不在路由上，那么就是Off-path,这种劫持就无法直接注入错误的信息了 &lt;!-- raw HTML omitted --&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;h4 id=&#34;tcp-connection&#34;&gt;TCP connection&lt;/h4&gt;
&lt;p&gt;如何唯一识别一个TCP连接呢？ &lt;!-- raw HTML omitted --&gt;
(source IP address + port number) + (destination IP address + port number) &lt;!-- raw HTML omitted --&gt;&lt;/p&gt;
&lt;p&gt;Port number就指示了双方所运行的应用层的应用 &lt;!-- raw HTML omitted --&gt;&lt;/p&gt;
&lt;!-- raw HTML omitted --&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;TCP three-way handshake&lt;/p&gt;
&lt;p&gt;&lt;figure&gt;&lt;img src=&#34;https://ginkgo.org.cn/ox-hugo/2022-05-28_10-22-56_screenshot.png&#34; width=&#34;700px&#34;/&gt;
    &lt;/figure&gt;
 &lt;!-- raw HTML omitted --&gt;&lt;/p&gt;
&lt;p&gt;通过不断增加Sequence number以及Acknowledgement number来实现握手，以及后续的通信 &lt;!-- raw HTML omitted --&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;!-- raw HTML omitted --&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;How does an attacker hijack a TCP session?&lt;/p&gt;
&lt;p&gt;攻击者需要构造一个TCP segment来满足sequence number &amp;amp; acknowledgement number的回复 &lt;!-- raw HTML omitted --&gt;&lt;/p&gt;
&lt;p&gt;那么需要的信息有 &lt;!-- raw HTML omitted --&gt;&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;Source IP address + port number (easy to get) &lt;!-- raw HTML omitted --&gt;&lt;/li&gt;
&lt;li&gt;Destination IP address + port number (easy to get) &lt;!-- raw HTML omitted --&gt;&lt;/li&gt;
&lt;li&gt;Sequence number (如果攻击者在路由上的话就不会很难，因为可以通过获取到的通信数据包来推测) &lt;!-- raw HTML omitted --&gt;&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;&lt;figure&gt;&lt;img src=&#34;https://ginkgo.org.cn/ox-hugo/2022-05-28_10-33-18_screenshot.png&#34; width=&#34;700px&#34;/&gt;
    &lt;/figure&gt;
 &lt;!-- raw HTML omitted --&gt;&lt;/p&gt;
&lt;p&gt;Sequence number可以是捕捉到的数据包的sequence number + 1 亦或是+ n，只要n不要太大，接收者都会将这些数据包保存在buffer中，等待中间“未接收到”的数据包 &lt;!-- raw HTML omitted --&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;h4 id=&#34;tcp-on-path-connection-hijacking&#34;&gt;TCP on-path connection hijacking&lt;/h4&gt;
&lt;p&gt;TCP on-path connection hijacking, attacker可以更方便的接收到通信的sequence number和acknowledgement number &lt;!-- raw HTML omitted --&gt;&lt;/p&gt;
&lt;p&gt;只需要合理增加数字，就可以实现劫持，并发出恶意修改的数据： &lt;!-- raw HTML omitted --&gt;&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;嗅探数据包 &lt;!-- raw HTML omitted --&gt;&lt;/li&gt;
&lt;li&gt;预测sequence number (client -&amp;gt; server; server -&amp;gt; client) &lt;!-- raw HTML omitted --&gt;&lt;/li&gt;
&lt;li&gt;注入恶意数据 &lt;!-- raw HTML omitted --&gt;&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;&lt;figure&gt;&lt;img src=&#34;https://ginkgo.org.cn/ox-hugo/2022-05-28_10-35-07_screenshot.png&#34; width=&#34;700px&#34;/&gt;
&lt;/figure&gt;
 &lt;!-- raw HTML omitted --&gt;&lt;/p&gt;
&lt;p&gt;&lt;figure&gt;&lt;img src=&#34;https://ginkgo.org.cn/ox-hugo/2022-05-28_10-35-18_screenshot.png&#34; width=&#34;700px&#34;/&gt;
&lt;/figure&gt;
 &lt;!-- raw HTML omitted --&gt;&lt;/p&gt;
&lt;h4 id=&#34;tcp-off-path-connection-hijacking&#34;&gt;TCP off-path connection hijacking&lt;/h4&gt;
&lt;p&gt;由于攻击者的主机并不在连接的路由上，因此attacker没有办法获取任何当前连接的信息，因此其需要主动发起一个连接，然后在劫持这个连接，同时返回合法的sequence number,但这一次因为无法进行嗅探，只能进行猜测 &lt;!-- raw HTML omitted --&gt;&lt;/p&gt;
&lt;p&gt;&lt;figure&gt;&lt;img src=&#34;https://ginkgo.org.cn/ox-hugo/2022-05-28_10-39-24_screenshot.png&#34; width=&#34;700px&#34;/&gt;
&lt;/figure&gt;
 &lt;!-- raw HTML omitted --&gt;&lt;/p&gt;
&lt;!-- raw HTML omitted --&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;How to guess the initial sequence number&lt;/p&gt;
&lt;p&gt;这里利用的就是一些操作系统没有使用规范的标准来实现TCP连接 &lt;!-- raw HTML omitted --&gt;&lt;/p&gt;
&lt;p&gt;RFC 793 (TCP specification)
:&lt;/p&gt;
&lt;p&gt;When new connections are created, an &lt;code&gt;initial sequence number (ISN)&lt;/code&gt; generator is employed which selects a new &lt;code&gt;32 bit ISN&lt;/code&gt;. The generator is bound to a 32 bit clock whose low order bit is incremented roughly every 4 microseconds. &lt;!-- raw HTML omitted --&gt;&lt;/p&gt;
&lt;p&gt;Thus, the ISN cycles approximately &lt;code&gt;every 4.55 hours&lt;/code&gt;. (4 microseconds x 2^32) &lt;!-- raw HTML omitted --&gt;&lt;/p&gt;
&lt;p&gt;Since we assume that segments will stay in the network &lt;code&gt;no more than the Maximum Segment Lifetime&lt;/code&gt; (MSL, defined as 2 minutes in RFC 793) and that the MSL is less than 4.55 hours we can reasonably assume that ISN’s will be &lt;code&gt;unique&lt;/code&gt;. [i.e., sequence numbers should not repeat for at least 4.55 hours] &lt;!-- raw HTML omitted --&gt;&lt;/p&gt;
&lt;p&gt;The purpose is to ensure undelivered packets from previous connection that arrive late do not overlap with current connection &lt;!-- raw HTML omitted --&gt;&lt;/p&gt;
&lt;p&gt;总结：在RFC 793的标准下，sequence number的递增周期就是4.55 hours，这超出了最长的连接时间(2mins),因此无论怎么递增，都基本不会从头开始，可以将所有的sequence number看作是unique唯一的 &lt;!-- raw HTML omitted --&gt;&lt;/p&gt;
&lt;p&gt;Unfortunately, BSD Unix TCP/IP stack did not adhere to these recommendations
: -   The sequence number for BSD TCP/IP stacks increases by 128,000 every second and by 64,000 for every new TCP connection. &lt;!-- raw HTML omitted --&gt;
-   Such a sequence is relatively easy to predict and can be much more readily exploited than one which follows the RFC standard &lt;!-- raw HTML omitted --&gt;&lt;/p&gt;
&lt;p&gt;可是在BSD Unix中，却没有按照标准实现，而是变成了sequence number每秒增加128,000，每一个新的连接增加 64,000, 这放宽了预测的时间以及缩小了范围，使sequence number很容易被预测 &lt;!-- raw HTML omitted --&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;!-- raw HTML omitted --&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;TCP initial sequence number attack&lt;/p&gt;
&lt;p&gt;&lt;figure&gt;&lt;img src=&#34;https://ginkgo.org.cn/ox-hugo/2022-05-28_10-46-15_screenshot.png&#34; width=&#34;700px&#34;/&gt;
    &lt;/figure&gt;
 &lt;!-- raw HTML omitted --&gt;&lt;/p&gt;
&lt;p&gt;Attacker首先通过flooding使client无法正常工作，然后发起一个新的TCP连接给server，然后通过预测sequence number来伪装成client来进行通信 &lt;!-- raw HTML omitted --&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id=&#34;bgp-route-hijacking&#34;&gt;BGP Route Hijacking&lt;/h3&gt;
&lt;h4 id=&#34;bgp-and-as&#34;&gt;BGP and AS&lt;/h4&gt;
&lt;p&gt;Border Gateway Procol 也被认为是最重要的Internet协议之一，因为其能够把多个ISPs组织在一起运作 &lt;!-- raw HTML omitted --&gt;&lt;/p&gt;
&lt;p&gt;BGP是一个inter-Autonomous System (ASs) 路由协议（用于自治区内部的设备之前通信） &lt;!-- raw HTML omitted --&gt;&lt;/p&gt;
&lt;p&gt;&lt;figure&gt;&lt;img src=&#34;https://ginkgo.org.cn/ox-hugo/2022-05-28_16-05-47_screenshot.png&#34; width=&#34;700px&#34;/&gt;
&lt;/figure&gt;
 &lt;!-- raw HTML omitted --&gt;&lt;/p&gt;
&lt;dl&gt;
&lt;dt&gt;Autonomous system (AS, 自治系统)&lt;/dt&gt;
&lt;dd&gt;&lt;ul&gt;
&lt;li&gt;AS是路由策略中的基本单位，由同一个组织的管理员所管理的所有网络都属于一个AS来作为路由协议的基础 &lt;!-- raw HTML omitted --&gt;&lt;/li&gt;
&lt;li&gt;每一个AS内部都有很多设备相连，也会有很多的网络 &lt;!-- raw HTML omitted --&gt;&lt;/li&gt;
&lt;li&gt;sometimes referred to as a &lt;code&gt;routing domain&lt;/code&gt; &lt;!-- raw HTML omitted --&gt;&lt;/li&gt;
&lt;li&gt;&lt;code&gt;Autonomous System Number (ASN)&lt;/code&gt;, 每一个AS都有一个，全球唯一 &lt;!-- raw HTML omitted --&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/dd&gt;
&lt;/dl&gt;
&lt;h4 id=&#34;bgp-routing-table-and-cidr-prefix&#34;&gt;BGP routing table and CIDR prefix&lt;/h4&gt;
&lt;p&gt;在BGP中，路由并不是直接指定如何到达一个IP地址，而是如何达到一个网段， Classless Inter-Domain Routing (CIDR) prefixes &lt;!-- raw HTML omitted --&gt;&lt;/p&gt;
&lt;!-- raw HTML omitted --&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;CIDR prefix&lt;/p&gt;
&lt;p&gt;CIDR prefix就是subnet mask中含有1的数量 &lt;!-- raw HTML omitted --&gt;&lt;/p&gt;
&lt;p&gt;&lt;!-- raw HTML omitted --&gt; &lt;!-- raw HTML omitted --&gt;
172.16.122.204/16 就位于172.16.0.0/16网段当中，前面16bits为network段，用来指示网段;后面为host段，用来指示具体的主机 &lt;!-- raw HTML omitted --&gt;
CIDR prefix = 16 &lt;!-- raw HTML omitted --&gt;&lt;/p&gt;
&lt;p&gt;BGP Routing table 由两部分组成一个entry (x, l)： &lt;!-- raw HTML omitted --&gt;&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;
&lt;p&gt;x就是网段 &lt;!-- raw HTML omitted --&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;l就是路由器的接口interface，指向下一跳的地址 &lt;!-- raw HTML omitted --&gt;&lt;/p&gt;
&lt;p&gt;&lt;figure&gt;&lt;img src=&#34;https://ginkgo.org.cn/ox-hugo/2022-05-28_16-12-24_screenshot.png&#34; width=&#34;300px&#34;/&gt;
        &lt;/figure&gt;
 &lt;!-- raw HTML omitted --&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;!-- raw HTML omitted --&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;BGP 的功能&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;从周边的ASs中获取不同的网段的reachability &lt;!-- raw HTML omitted --&gt;
&lt;ul&gt;
&lt;li&gt;BGP允许所有的子网都能宣告自己的存在 &lt;!-- raw HTML omitted --&gt;&lt;/li&gt;
&lt;li&gt;BGP接着会确保所有的路由器都能知道这个子网的存在 &lt;!-- raw HTML omitted --&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;决定每一个路由器到达不同子网的最优路径 &lt;!-- raw HTML omitted --&gt;
&lt;ul&gt;
&lt;li&gt;Policy &lt;!-- raw HTML omitted --&gt;&lt;/li&gt;
&lt;li&gt;Prefix reachability information &lt;!-- raw HTML omitted --&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;ASs使用最长掩码匹配机制（longest prefix matching）来选择路径 &lt;!-- raw HTML omitted --&gt;
&lt;ul&gt;
&lt;li&gt;例如当需要决定192.168.20.19的路由时，有两个子网需要选择 &lt;!-- raw HTML omitted --&gt;&lt;/li&gt;
&lt;li&gt;192.168.20.16/28; 192.168.0.0/16 &lt;!-- raw HTML omitted --&gt;&lt;/li&gt;
&lt;li&gt;选择192.168.20.16/28，因为其子网掩码长，更具体 &lt;!-- raw HTML omitted --&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;h4 id=&#34;bgp-route-advertisement-and-propagation&#34;&gt;BGP route advertisement and propagation&lt;/h4&gt;
&lt;p&gt;接着我们具体展开来讲上面提到过的BGP的功能 &lt;!-- raw HTML omitted --&gt;&lt;/p&gt;
&lt;p&gt;首先是宣告子网的功能 &lt;!-- raw HTML omitted --&gt;&lt;/p&gt;
&lt;p&gt;例如下图，AS22394中有66.174.161.0/24这个子网，于是其开始向外宣告自己有这个子网 &lt;!-- raw HTML omitted --&gt;&lt;/p&gt;
&lt;p&gt;然后按照相邻的顺序，AS6167首先收到了这个宣告，然后记录下来6167,22394这个顺序 &lt;!-- raw HTML omitted --&gt;&lt;/p&gt;
&lt;p&gt;然后依次继续宣告，并不断记录次序，方便将来路由 &lt;!-- raw HTML omitted --&gt;&lt;/p&gt;
&lt;p&gt;&lt;figure&gt;&lt;img src=&#34;https://ginkgo.org.cn/ox-hugo/2022-05-28_16-22-21_screenshot.png&#34; width=&#34;700px&#34;/&gt;
&lt;/figure&gt;
 &lt;!-- raw HTML omitted --&gt;&lt;/p&gt;
&lt;h4 id=&#34;ebgp-and-ibgp-connections&#34;&gt;eBGP and iBGP connections&lt;/h4&gt;
&lt;p&gt;那么AS中也有很多的路由器属于不同的网络，他们之前也会交换子网的信息方便AS内部的路由，因此有内外两种BGP协议来进行路由 &lt;!-- raw HTML omitted --&gt;&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;
&lt;p&gt;eBGP, external BGP (TCP),用于不同的AS之前的路由器之间的通信 &lt;!-- raw HTML omitted --&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;iEBGP, internal BGP (TCP), 用于同一个AS中的路由器之间的通信 &lt;!-- raw HTML omitted --&gt;&lt;/p&gt;
&lt;p&gt;&lt;figure&gt;&lt;img src=&#34;https://ginkgo.org.cn/ox-hugo/2022-05-28_16-27-38_screenshot.png&#34; width=&#34;700px&#34;/&gt;
    &lt;/figure&gt;
 &lt;!-- raw HTML omitted --&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;h4 id=&#34;bgp-route-prefix-sub-prefix-hijacking&#34;&gt;BGP route/prefix/sub-prefix hijacking&lt;/h4&gt;
&lt;p&gt;那么有信息交换，就有hijacking，本质上BGP的hijacking的目的就是通过宣告攻击者的AS能够到达目标子网，来诱使其他的AS将原本将要发送到目标子网的数据发送到攻击者的AS中来。其中也有两种不同的方式 &lt;!-- raw HTML omitted --&gt;&lt;/p&gt;
&lt;!-- raw HTML omitted --&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;BGP route/prefix hijacking&lt;/p&gt;
&lt;p&gt;一种是通过直接宣告目标子网在攻击者的AS中的错误信息来误导其他AS将数据发送过来 &lt;!-- raw HTML omitted --&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;!-- raw HTML omitted --&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;BGP sub-prefix hijacking&lt;/p&gt;
&lt;p&gt;就是利用我们之前提到的过的longest matching原则，通过加长子网掩码的长度，诱导AS选择更为确切的子网 &lt;!-- raw HTML omitted --&gt;
例如目标子网为10.100.0.0/16，攻击者就宣告，10.100.0.0/24 来误导其他的AS &lt;!-- raw HTML omitted --&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;h4 id=&#34;bgp-routing-blackhole-and-two-incidents&#34;&gt;BGP routing blackhole and two incidents&lt;/h4&gt;
&lt;p&gt;How to create a routing blackhole? &lt;!-- raw HTML omitted --&gt;
如果ASs开始宣告无法提供的子网，那么整一个Internet就会陷入混乱，因为数据包永远无法到达应该发送的位置，也收不到任何的回复 &lt;!-- raw HTML omitted --&gt;&lt;/p&gt;
&lt;h3 id=&#34;dns-cache-poisoning&#34;&gt;DNS Cache Poisoning&lt;/h3&gt;
&lt;h4 id=&#34;dns-and-dns-structure&#34;&gt;DNS and DNS structure&lt;/h4&gt;
&lt;p&gt;Domain Name System, DNS &lt;!-- raw HTML omitted --&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;一个分布式的数据库用来存储DNS信息，从而完成一个DNS服务器架构 &lt;!-- raw HTML omitted --&gt;&lt;/li&gt;
&lt;li&gt;一个应用层的协议来向所有主机提供数据库信息 &lt;!-- raw HTML omitted --&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;为什么我们需要DNS？ &lt;!-- raw HTML omitted --&gt;
理由也很简单，好记！现在IPv4已经被用完了，取而代之的是更长的IPv6，如果每访问一个网站都需要记住IP地址就太麻烦了 &lt;!-- raw HTML omitted --&gt;&lt;/p&gt;
&lt;p&gt;&lt;!-- raw HTML omitted --&gt; &lt;!-- raw HTML omitted --&gt;
DNS服务器采用树状结构 &lt;!-- raw HTML omitted --&gt;&lt;/p&gt;
&lt;p&gt;全世界一共有13个root server &lt;!-- raw HTML omitted --&gt;&lt;/p&gt;
&lt;p&gt;顶级域名Top level domain (TLD) &lt;!-- raw HTML omitted --&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;com,edu, org, net, gov .etc &lt;!-- raw HTML omitted --&gt;&lt;/li&gt;
&lt;li&gt;cn, uk, de, eu, etc. &lt;!-- raw HTML omitted --&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;本博客目前的域名后缀后缀就是org.cn &lt;!-- raw HTML omitted --&gt;&lt;/p&gt;
&lt;h4 id=&#34;dns-name-resolution--iterative-and-recursive&#34;&gt;DNS name resolution (iterative and recursive)&lt;/h4&gt;
&lt;p&gt;DNS主要的作用就是map &lt;!-- raw HTML omitted --&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Domain names to IP addresses &lt;!-- raw HTML omitted --&gt;&lt;/li&gt;
&lt;li&gt;IP addresses to Domain names &lt;!-- raw HTML omitted --&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;DNS resolver向 nameservers 进行mapping请求，一般我们将查询请求分为两种 &lt;!-- raw HTML omitted --&gt;&lt;/p&gt;
&lt;!-- raw HTML omitted --&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;Iterative DNS query with caching 迭代查询&lt;/p&gt;
&lt;p&gt;顾名思义就是一个个DNS服务器查过来，一个查不到就下一个 &lt;!-- raw HTML omitted --&gt;&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;Local DNS server &lt;!-- raw HTML omitted --&gt;&lt;/li&gt;
&lt;li&gt;root DNS server &lt;!-- raw HTML omitted --&gt;&lt;/li&gt;
&lt;li&gt;Top level DNS server &lt;!-- raw HTML omitted --&gt;&lt;/li&gt;
&lt;li&gt;Authoritative DNS server &lt;!-- raw HTML omitted --&gt;&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;&lt;figure&gt;&lt;img src=&#34;https://ginkgo.org.cn/ox-hugo/2022-05-28_16-57-23_screenshot.png&#34; width=&#34;700px&#34;/&gt;
    &lt;/figure&gt;
 &lt;!-- raw HTML omitted --&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;!-- raw HTML omitted --&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;Recursive DNS query with caching 递归查询&lt;/p&gt;
&lt;p&gt;同样也是按次序查询，但是不同的地方在于，只有查到了才会原路返回给用户，否则就会继续将查询递交给下一个服务器 &lt;!-- raw HTML omitted --&gt;&lt;/p&gt;
&lt;p&gt;&lt;figure&gt;&lt;img src=&#34;https://ginkgo.org.cn/ox-hugo/2022-05-28_16-59-21_screenshot.png&#34; width=&#34;700px&#34;/&gt;
    &lt;/figure&gt;
 &lt;!-- raw HTML omitted --&gt;&lt;/p&gt;
&lt;p&gt;注：一般来说不会在实际中使用 &lt;!-- raw HTML omitted --&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;h4 id=&#34;dns-caching&#34;&gt;DNS caching&lt;/h4&gt;
&lt;p&gt;Why we need DNS caching? &lt;!-- raw HTML omitted --&gt;
通过缓存这些DNS的map信息来加速网页的访问 &lt;!-- raw HTML omitted --&gt;
比如已经查到过一次谷歌的域名和IP地址的map之后，就存在本地的DNS server上，这样下一次就不用花这么多步骤再去查询了 &lt;!-- raw HTML omitted --&gt;&lt;/p&gt;
&lt;h4 id=&#34;dns-cache-poisoning-attack&#34;&gt;DNS cache poisoning attack&lt;/h4&gt;
&lt;p&gt;那么这种偷懒的办法也就会遭到黑客的攻击，如果在DNS查询的过程中，黑客发送了伪造的DNS记录给本地的DNS server，那么既而被缓存在本地，造成长久的损害。 &lt;!-- raw HTML omitted --&gt;&lt;/p&gt;
&lt;p&gt;同时还会给同一区域的其他设备造成危害，记得之前我们在SCT中提到过的 &lt;code&gt;Water holing attack&lt;/code&gt; 就是利用了 &lt;code&gt;DNS cache poisoning attack&lt;/code&gt;, 通过获取组织内最频繁访问的页面，就可以利用DNS poisoning来将那个网站改为黑客所构建的恶意网站，既而达到其攻击目的 &lt;!-- raw HTML omitted --&gt;&lt;/p&gt;
&lt;h4 id=&#34;how-dns-poisoning-attack-works&#34;&gt;How DNS poisoning attack works？&lt;/h4&gt;
&lt;p&gt;那么具体是如何伪造的DNS query回复来使DNS server认为其是合法的查询结构并缓存的呢？ &lt;!-- raw HTML omitted --&gt;
这里也有两种手段 &lt;!-- raw HTML omitted --&gt;&lt;/p&gt;
&lt;!-- raw HTML omitted --&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;Query QID attack&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;每一个DNS query 都有一个唯一的 &lt;code&gt;QID&lt;/code&gt; &lt;!-- raw HTML omitted --&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;DNS使用UDP进行通信 &lt;!-- raw HTML omitted --&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;因此不存在连接的说法，只要能够选对正确的QID，就能成功代替真实的回复 &lt;!-- raw HTML omitted --&gt;&lt;/p&gt;
&lt;p&gt;&lt;figure&gt;&lt;img src=&#34;https://ginkgo.org.cn/ox-hugo/2022-05-28_17-07-58_screenshot.png&#34; width=&#34;700px&#34;/&gt;
        &lt;/figure&gt;
 &lt;!-- raw HTML omitted --&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;!-- raw HTML omitted --&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;RRSet attack&lt;/p&gt;
&lt;p&gt;每一个DNS query response 会包含一组记录集，Resource Record Sets, or RRSets &lt;!-- raw HTML omitted --&gt;&lt;/p&gt;
&lt;p&gt;同时，这些记录集不只包含mapping的entry，还可以增加一些其他额外的信息，对未来的mapping有所“帮助” &lt;!-- raw HTML omitted --&gt;&lt;/p&gt;
&lt;p&gt;比如在一次递归查询中，一般会包含域名的mapping可以在某一个服务器上获得之类的信息，黑客就可以选择篡改这个信息，直接改为mapping的信息，就可以达到其重定向的目的 &lt;!-- raw HTML omitted --&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
</description>
        </item>
        <item>
        <title>NSE Week 3: Spoofing, flooding and amplification</title>
        <link>https://ginkgo.org.cn/posts/nse_week_3_spoofing_flooding_and_amplification/</link>
        <pubDate>Sun, 24 Apr 2022 00:00:00 +0000</pubDate>
        
        <guid>https://ginkgo.org.cn/posts/nse_week_3_spoofing_flooding_and_amplification/</guid>
        <description>&lt;h2 id=&#34;spoofing-flooding-and-amplification&#34;&gt;Spoofing, flooding and amplification&lt;/h2&gt;
&lt;h3 id=&#34;spoofing&#34;&gt;Spoofing&lt;/h3&gt;
&lt;h4 id=&#34;arp-spoofing&#34;&gt;ARP spoofing&lt;/h4&gt;
&lt;!-- raw HTML omitted --&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;ARP&lt;/p&gt;
&lt;!-- raw HTML omitted --&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;Layer identifiers&lt;/p&gt;
&lt;p&gt;Routing是network communication中重要的一环，computer node在通信之前，需要知道自己在与谁联系，要通过什么路径去联系 &lt;!-- raw HTML omitted --&gt;&lt;/p&gt;
&lt;p&gt;那么layer identifier 就代表着每一个computer node &lt;!-- raw HTML omitted --&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Internet Layer identifier: &lt;code&gt;IP address&lt;/code&gt; (assigned by users or by software, such as DHCP) &lt;!-- raw HTML omitted --&gt;&lt;/li&gt;
&lt;li&gt;Link Layer Identifier: &lt;code&gt;MAC Address&lt;/code&gt; (hardware address, physical address) &lt;!-- raw HTML omitted --&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;!-- raw HTML omitted --&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;ARP (Address Resolution Protocol)&lt;/p&gt;
&lt;p&gt;aims to translate from IP address to MAC address &lt;!-- raw HTML omitted --&gt;&lt;/p&gt;
&lt;p&gt;&lt;figure&gt;&lt;img src=&#34;https://ginkgo.org.cn/ox-hugo/2022-04-25_11-05-46_screenshot.png&#34; width=&#34;700px&#34;/&gt;
        &lt;/figure&gt;
 &lt;!-- raw HTML omitted --&gt;&lt;/p&gt;
&lt;!-- raw HTML omitted --&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;ARP request message generation&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;当有IP packet需要发出的时候，ARP就会被hardware driver 所调用 &lt;!-- raw HTML omitted --&gt;&lt;/li&gt;
&lt;li&gt;首先获取IP destination address &lt;!-- raw HTML omitted --&gt;&lt;/li&gt;
&lt;li&gt;然后在ARP本地的 &lt;code&gt;translation table&lt;/code&gt; 中查找是否有对应得IP address : MAC address entry &lt;!-- raw HTML omitted --&gt;
&lt;ul&gt;
&lt;li&gt;有的话，就把48-bits的MAC address发送给 hardware driver &lt;!-- raw HTML omitted --&gt;&lt;/li&gt;
&lt;li&gt;没有的话，就准备发送ARP请求，填充相关信息 &lt;!-- raw HTML omitted --&gt;
&lt;ul&gt;
&lt;li&gt;sender MAC address &lt;!-- raw HTML omitted --&gt;&lt;/li&gt;
&lt;li&gt;sender IP address &lt;!-- raw HTML omitted --&gt;&lt;/li&gt;
&lt;li&gt;target IP address &lt;!-- raw HTML omitted --&gt;&lt;/li&gt;
&lt;li&gt;target MAC address (broadcast address: 00:00:00:00:00:00) &lt;!-- raw HTML omitted --&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;ARP request message在link layer被封装成frame 然后发送出去 &lt;!-- raw HTML omitted --&gt;&lt;/li&gt;
&lt;/ol&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;!-- raw HTML omitted --&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;ARP request message reception&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;目标节点将会回复其所包含的MAC address, （如果通信的是其他网络的节点，那么此处寻找的就是网关的MAC address) &lt;!-- raw HTML omitted --&gt;&lt;/li&gt;
&lt;li&gt;其他收到请求的节点会更新他们的 &lt;code&gt;translation table&lt;/code&gt; (IP address : MAC address entry) 然后丢弃这个包 &lt;!-- raw HTML omitted --&gt;&lt;/li&gt;
&lt;/ol&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;!-- raw HTML omitted --&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;ARP rely message reception&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;ARP rely 是单播，会直接发送回发送者 &lt;!-- raw HTML omitted --&gt;&lt;/li&gt;
&lt;/ol&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;!-- raw HTML omitted --&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;ARP translation table (ARP table, ARP cache)&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;通过ARP cache 来保存IP address : MAC address entry 来节省空间 &lt;!-- raw HTML omitted --&gt;&lt;/li&gt;
&lt;li&gt;表内的entry会 ageing &lt;!-- raw HTML omitted --&gt;&lt;/li&gt;
&lt;li&gt;ARP 是无状态协议，因此只要收到了request/reply 他们就会自动更新 &lt;!-- raw HTML omitted --&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;!-- raw HTML omitted --&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;RARP (Reverse ARP)&lt;/p&gt;
&lt;p&gt;aims to translate from MAC address to IP address &lt;!-- raw HTML omitted --&gt;&lt;/p&gt;
&lt;p&gt;&lt;figure&gt;&lt;img src=&#34;https://ginkgo.org.cn/ox-hugo/2022-04-25_11-06-13_screenshot.png&#34; width=&#34;700px&#34;/&gt;
        &lt;/figure&gt;
 &lt;!-- raw HTML omitted --&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;!-- raw HTML omitted --&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;ARP spoofing attack&lt;/p&gt;
&lt;p&gt;ARP spoofing主要的目的就是污染原本的ARP cache，将Computer A存放的关于 Computer B的信息，改为attacker的，这样A在给B发frame的时候，就会发给attacker &lt;!-- raw HTML omitted --&gt;&lt;/p&gt;
&lt;p&gt;&lt;figure&gt;&lt;img src=&#34;https://ginkgo.org.cn/ox-hugo/2022-04-25_10-49-32_screenshot.png&#34; width=&#34;700px&#34;/&gt;
    &lt;/figure&gt;
 &lt;!-- raw HTML omitted --&gt;&lt;/p&gt;
&lt;!-- raw HTML omitted --&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;countermeasure&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;设置 &lt;code&gt;Arp cache&lt;/code&gt; 的过期时间, expire &lt;!-- raw HTML omitted --&gt;&lt;/li&gt;
&lt;li&gt;一些系统通过unicast 来更新cache 表，而不是像之前那样无状态的更新 &lt;!-- raw HTML omitted --&gt;&lt;/li&gt;
&lt;li&gt;Against countermeasure &lt;!-- raw HTML omitted --&gt;
&lt;ul&gt;
&lt;li&gt;Attacker可以通过定期发送 ARP spoof packet (every ~40s) 来避免以上方法 &lt;!-- raw HTML omitted --&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;Static ARP table 静态ARP表 &lt;!-- raw HTML omitted --&gt;
&lt;ul&gt;
&lt;li&gt;每次启动加载到RAM中 &lt;!-- raw HTML omitted --&gt;&lt;/li&gt;
&lt;li&gt;没有ARP request主动发送 &lt;!-- raw HTML omitted --&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;!-- raw HTML omitted --&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;Man-in-the-middle attack with ARP spoofing&lt;/p&gt;
&lt;p&gt;通过ARP spoofing 污染两/多台电脑的 &lt;code&gt;ARP cache&lt;/code&gt; ，使他们的通信destination都指向attacker，从而截取通信内容(attacker node 进而转发通信，因为它知道IP address所对应的正确的MAC address) &lt;!-- raw HTML omitted --&gt;&lt;/p&gt;
&lt;p&gt;&lt;figure&gt;&lt;img src=&#34;https://ginkgo.org.cn/ox-hugo/2022-04-25_10-53-55_screenshot.png&#34; width=&#34;700px&#34;/&gt;
    &lt;/figure&gt;
 &lt;!-- raw HTML omitted --&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;!-- raw HTML omitted --&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;MAC flooding&lt;/p&gt;
&lt;p&gt;每个switch 会内置一个 &lt;code&gt;CAM (Content Addressable memory)&lt;/code&gt; 表，用于记录不同的MAC address所对应的port number &lt;!-- raw HTML omitted --&gt;
每当有frame 经过 switches, switch就会通过这个 table 来实现转发 &lt;!-- raw HTML omitted --&gt;&lt;/p&gt;
&lt;p&gt;MAC flooding就是使用大量的spoofed frame来填充switch 的转发表，从而占满 switch 所有的内存空间，使正常的frame的转发策略无法加入table，最终就会导致正常的frame 通信因为没有对应的port而 &lt;code&gt;被迫广播&lt;/code&gt; ，使attacker可以利用sniffer所监听到。 &lt;!-- raw HTML omitted --&gt;&lt;/p&gt;
&lt;p&gt;&lt;figure&gt;&lt;img src=&#34;https://ginkgo.org.cn/ox-hugo/2022-04-25_11-04-54_screenshot.png&#34; width=&#34;700px&#34;/&gt;
    &lt;/figure&gt;
 &lt;!-- raw HTML omitted --&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;h4 id=&#34;dhcp-spoofing&#34;&gt;DHCP spoofing&lt;/h4&gt;
&lt;!-- raw HTML omitted --&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;DHCP (Dynamic Host Configuration Protocol)&lt;/p&gt;
&lt;p&gt;DHCP是用来自动的给其他的用户分配IP地址以及其他相关配置的（网关，DNS服务器等）协议 &lt;!-- raw HTML omitted --&gt;&lt;/p&gt;
&lt;p&gt;Protocol operations
: 1.  Discovery &lt;!-- raw HTML omitted --&gt;
-   &lt;code&gt;client&lt;/code&gt; 广播 &lt;code&gt;DHCP Discovery message&lt;/code&gt; 来寻找server &lt;!-- raw HTML omitted --&gt;
2.  Offer &lt;!-- raw HTML omitted --&gt;
server单播提供IP给client &lt;!-- raw HTML omitted --&gt;
3.  Request &lt;!-- raw HTML omitted --&gt;
client 发送接收IP的message &lt;!-- raw HTML omitted --&gt;
4.  Acknowledge &lt;!-- raw HTML omitted --&gt;
server确认client愿意接受并发送IP以及其他的配置信息 &lt;!-- raw HTML omitted --&gt;&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;     &lt;figure&gt;&lt;img src=&#34;https://ginkgo.org.cn/ox-hugo/2022-04-26_09-31-53_screenshot.png&#34; width=&#34;700px&#34;/&gt;
            &lt;/figure&gt;
 &amp;lt;br/&amp;gt;
&lt;/code&gt;&lt;/pre&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;!-- raw HTML omitted --&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;DHCP spoofing attack&lt;/p&gt;
&lt;p&gt;DHCP spoofing 主要是通过向DHCP server发送大量的 &lt;code&gt;Spoofed DHCP request message&lt;/code&gt; 来 &lt;code&gt;占用&lt;/code&gt; IP池里的所有可分配的IP，然后再使用一台假的DHCP server来回复client所发出的DHCP discovery message，进而控制这些client的IP以及其他配置（网关，DNS server地址）。 &lt;!-- raw HTML omitted --&gt;&lt;/p&gt;
&lt;p&gt;正常的DHCP request message： &lt;!-- raw HTML omitted --&gt;&lt;/p&gt;
&lt;p&gt;&lt;figure&gt;&lt;img src=&#34;https://ginkgo.org.cn/ox-hugo/2022-04-26_09-43-14_screenshot.png&#34; width=&#34;700px&#34;/&gt;
    &lt;/figure&gt;
 &lt;!-- raw HTML omitted --&gt;&lt;/p&gt;
&lt;p&gt;Spoofed DHCP discovery message: 利用大量虚假的MAC地址来占用可分配的IP地址 &lt;!-- raw HTML omitted --&gt;&lt;/p&gt;
&lt;p&gt;&lt;figure&gt;&lt;img src=&#34;https://ginkgo.org.cn/ox-hugo/2022-04-26_09-43-53_screenshot.png&#34; width=&#34;700px&#34;/&gt;
    &lt;/figure&gt;
 &lt;!-- raw HTML omitted --&gt;&lt;/p&gt;
&lt;p&gt;DHCP starvation
:&lt;/p&gt;
&lt;p&gt;通过发送大量的带有伪造MAC Address的DHCP request message来占用所有的IP池中的IP地址，进而使用假的DHCP server给其他client分配地址和其他配置信息，对他们进行控制 &lt;!-- raw HTML omitted --&gt;&lt;/p&gt;
&lt;p&gt;&lt;figure&gt;&lt;img src=&#34;https://ginkgo.org.cn/ox-hugo/2022-04-26_09-45-24_screenshot.png&#34; width=&#34;700px&#34;/&gt;
    &lt;/figure&gt;
 &lt;!-- raw HTML omitted --&gt;&lt;/p&gt;
&lt;p&gt;&lt;figure&gt;&lt;img src=&#34;https://ginkgo.org.cn/ox-hugo/2022-04-26_09-45-38_screenshot.png&#34; width=&#34;700px&#34;/&gt;
    &lt;/figure&gt;
 &lt;!-- raw HTML omitted --&gt;&lt;/p&gt;
&lt;p&gt;&lt;figure&gt;&lt;img src=&#34;https://ginkgo.org.cn/ox-hugo/2022-04-26_09-45-50_screenshot.png&#34; width=&#34;700px&#34;/&gt;
    &lt;/figure&gt;
 &lt;!-- raw HTML omitted --&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id=&#34;flooding-and-amplification&#34;&gt;Flooding and Amplification&lt;/h3&gt;
&lt;h4 id=&#34;icmp-smurfing&#34;&gt;ICMP Smurfing&lt;/h4&gt;
&lt;!-- raw HTML omitted --&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;ICMP&lt;/p&gt;
&lt;p&gt;Ping
: 提到ICMP协议，就不得不提到ping，ping就类似于一个声纳系统，通过向特定的电脑发送 &lt;code&gt;ICMP ECHO_REQUEST&lt;/code&gt; ，来使他们通过返回 &lt;code&gt;ECHO_REPLY_REQUEST&lt;/code&gt; 来验证是否可以通信 &lt;!-- raw HTML omitted --&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;!-- raw HTML omitted --&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;ICMP Smurfing&lt;/p&gt;
&lt;p&gt;Attacker通过向一个局域网的广播域中发送大量的 &lt;code&gt;spoofed ICMP ECHO_REQUEST&lt;/code&gt; 来诱导大量的clients发送 &lt;code&gt;ICMP ECHO_REPLY_REQUEST&lt;/code&gt; 到指定的一台client进而使其崩溃 &lt;!-- raw HTML omitted --&gt;&lt;/p&gt;
&lt;p&gt;&lt;figure&gt;&lt;img src=&#34;https://ginkgo.org.cn/ox-hugo/2022-04-26_10-11-31_screenshot.png&#34; width=&#34;700px&#34;/&gt;
    &lt;/figure&gt;
 &lt;!-- raw HTML omitted --&gt;&lt;/p&gt;
&lt;p&gt;Amplification
: 我们从上面的例子可以看到，通过一个简单的广播，就可以让这么多的client进而产生巨大的流量，进而就催生出一个新的技术就是 &lt;code&gt;Amplification&lt;/code&gt; ,可以通过多层的amplifiers来实现巨大的DDoS流量 &lt;!-- raw HTML omitted --&gt;&lt;/p&gt;
&lt;pre&gt;&lt;code&gt; &lt;figure&gt;&lt;img src=&#34;https://ginkgo.org.cn/ox-hugo/2022-04-26_10-13-55_screenshot.png&#34; width=&#34;700px&#34;/&gt;
        &lt;/figure&gt;
 &amp;lt;br/&amp;gt;
&lt;/code&gt;&lt;/pre&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;h4 id=&#34;ntp-amplification-ddos-attack&#34;&gt;NTP Amplification DDoS Attack&lt;/h4&gt;
&lt;!-- raw HTML omitted --&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;NTP&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Network time protocol &lt;!-- raw HTML omitted --&gt;&lt;/li&gt;
&lt;li&gt;UDP protocol &lt;!-- raw HTML omitted --&gt;&lt;/li&gt;
&lt;li&gt;port 123 &lt;!-- raw HTML omitted --&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;NTP用来用来各个主机的时钟 &lt;!-- raw HTML omitted --&gt;&lt;/p&gt;
&lt;p&gt;NTP是一个分层的，中间层的时间资源系统 &lt;!-- raw HTML omitted --&gt;&lt;/p&gt;
&lt;p&gt;&lt;figure&gt;&lt;img src=&#34;https://ginkgo.org.cn/ox-hugo/2022-04-26_22-46-00_screenshot.png&#34; width=&#34;500px&#34;/&gt;
    &lt;/figure&gt;
 &lt;!-- raw HTML omitted --&gt;&lt;/p&gt;
&lt;p&gt;每一层我们称为 &lt;code&gt;stratum&lt;/code&gt; ,由最上层的clock一层层同步到不同 &lt;code&gt;stratum&lt;/code&gt; 的NTP server &lt;!-- raw HTML omitted --&gt;&lt;/p&gt;
&lt;!-- raw HTML omitted --&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;NTP如何工作&lt;/p&gt;
&lt;p&gt;&lt;figure&gt;&lt;img src=&#34;https://ginkgo.org.cn/ox-hugo/2022-04-26_22-50-06_screenshot.png&#34; width=&#34;700px&#34;/&gt;
        &lt;/figure&gt;
 &lt;!-- raw HTML omitted --&gt;&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;Client首先发出NTP message，并且在上面记录当前的时间戳： &lt;code&gt;T1=9:00:00am&lt;/code&gt;  &lt;!-- raw HTML omitted --&gt;&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;&lt;figure&gt;&lt;img src=&#34;https://ginkgo.org.cn/ox-hugo/2022-04-26_22-50-55_screenshot.png&#34; width=&#34;700px&#34;/&gt;
        &lt;/figure&gt;
 &lt;!-- raw HTML omitted --&gt;&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;NTP server 收到后马上打上时间戳： &lt;code&gt;T2=10:00:01am&lt;/code&gt; &lt;!-- raw HTML omitted --&gt;&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;&lt;figure&gt;&lt;img src=&#34;https://ginkgo.org.cn/ox-hugo/2022-04-26_22-52-06_screenshot.png&#34; width=&#34;700px&#34;/&gt;
        &lt;/figure&gt;
 &lt;!-- raw HTML omitted --&gt;&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;NTP sever返回一条NTP message，然后在发出之前打上时间戳： &lt;code&gt;T3=10:00:02am&lt;/code&gt; &lt;!-- raw HTML omitted --&gt;&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;&lt;figure&gt;&lt;img src=&#34;https://ginkgo.org.cn/ox-hugo/2022-04-26_22-56-25_screenshot.png&#34; width=&#34;700px&#34;/&gt;
        &lt;/figure&gt;
 &lt;!-- raw HTML omitted --&gt;&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;NTP message到达用户的时候马上打上时间戳： &lt;code&gt;T4=9:00:03am&lt;/code&gt; &lt;!-- raw HTML omitted --&gt;&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;用这四个时间戳，我们就足以同步client的时间 &lt;!-- raw HTML omitted --&gt;&lt;/p&gt;
&lt;table&gt;
&lt;thead&gt;
&lt;tr&gt;
&lt;th&gt;Timestamp&lt;/th&gt;
&lt;th&gt;Value&lt;/th&gt;
&lt;th&gt;Description&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;
&lt;tbody&gt;
&lt;tr&gt;
&lt;td&gt;T1&lt;/td&gt;
&lt;td&gt;09:00:00&lt;/td&gt;
&lt;td&gt;Client发出的时间&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;T2&lt;/td&gt;
&lt;td&gt;10:00:01&lt;/td&gt;
&lt;td&gt;Server收到的时间&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;T3&lt;/td&gt;
&lt;td&gt;10:00:02&lt;/td&gt;
&lt;td&gt;Server发出的时间&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;T4&lt;/td&gt;
&lt;td&gt;09:00:03&lt;/td&gt;
&lt;td&gt;Client收到的时间&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
&lt;ol&gt;
&lt;li&gt;
&lt;p&gt;计算所有的Message在传输中delay的时间 &lt;!-- raw HTML omitted --&gt;&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;div class=&#34;chroma&#34;&gt;
&lt;table class=&#34;lntable&#34;&gt;&lt;tr&gt;&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code&gt;&lt;span class=&#34;lnt&#34;&gt;1
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;
&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-fallback&#34; data-lang=&#34;fallback&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;delay = D1 - D2 = (T4-T1) - (T3-T2) = 通信花费的总时长 - 在server上的处理时间 = 3 - 1 = 2 seconds
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;计算 NTP client 与NTP server 之间的时间差 &lt;!-- raw HTML omitted --&gt;&lt;/p&gt;
&lt;p&gt;O1 = T2 - T1 = 1h 1s &lt;!-- raw HTML omitted --&gt;&lt;/p&gt;
&lt;p&gt;O2 = T3 - T4 = 59min &lt;!-- raw HTML omitted --&gt;&lt;/p&gt;
&lt;p&gt;T2 = T1 + offset + delay/2 &lt;!-- raw HTML omitted --&gt;
T4 = T3 - offset + delay/2 &lt;!-- raw HTML omitted --&gt;&lt;/p&gt;
&lt;p&gt;因此Offset = (O1 + O2)/2 = [(T2 - T1 - delay/2) + (T3 - T4 + delay/2)] / 2 = 1 hour &lt;!-- raw HTML omitted --&gt;
总之就是 &lt;code&gt;(=服务端的两个时间&lt;/code&gt; - &lt;code&gt;客户端的两个时间 =)/2&lt;/code&gt;  = offset &lt;!-- raw HTML omitted --&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;!-- raw HTML omitted --&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;NTP amplification attack&lt;/p&gt;
&lt;p&gt;NTP amplification attack 依赖于利用公共可以访问的 &lt;code&gt;NTP server&lt;/code&gt; 来发出NTP RESPONSE实现对victim host的DDoS攻击 &lt;!-- raw HTML omitted --&gt;&lt;/p&gt;
&lt;p&gt;补充知识
: NTP 服务支持管理员向NTP server查询其所管理同步的clients信息，NTP servers通过向client发送monlist命令来获得所有最近连接过的hosts的列表 &lt;!-- raw HTML omitted --&gt;&lt;/p&gt;
&lt;p&gt;ntpd
: NTP daemon是一个操作系统的后台驻留程序，用来设置和维护系统时间并与NTP server交互实现时钟同步 &lt;!-- raw HTML omitted --&gt;
在Ntpd在4.2.7之前的版本都是存在漏洞的。 &lt;!-- raw HTML omitted --&gt;
在老的机器中，monlist command是默认开启的,它将会返回最近600个通信过的client的IP地址（也就是说一条monlist command，可以返回比原本大的多的数据） &lt;!-- raw HTML omitted --&gt;&lt;/p&gt;
&lt;!-- raw HTML omitted --&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;How NTP amplification attack works?&lt;/p&gt;
&lt;p&gt;&lt;figure&gt;&lt;img src=&#34;https://ginkgo.org.cn/ox-hugo/2022-04-27_09-36-42_screenshot.png&#34; width=&#34;700px&#34;/&gt;
        &lt;/figure&gt;
 &lt;!-- raw HTML omitted --&gt;&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;Attacker使用bot来伪造NTP request packets，使用victim的IP地址 &lt;!-- raw HTML omitted --&gt;&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;&lt;figure&gt;&lt;img src=&#34;https://ginkgo.org.cn/ox-hugo/2022-04-27_09-36-57_screenshot.png&#34; width=&#34;700px&#34;/&gt;
        &lt;/figure&gt;
 &lt;!-- raw HTML omitted --&gt;&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;Botnet 发送这些伪造的NTP请求，来诱使NTP servers调用他们的monlist命令，返回大量的response &lt;!-- raw HTML omitted --&gt;&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;&lt;figure&gt;&lt;img src=&#34;https://ginkgo.org.cn/ox-hugo/2022-04-27_09-38-14_screenshot.png&#34; width=&#34;700px&#34;/&gt;
        &lt;/figure&gt;
 &lt;!-- raw HTML omitted --&gt;&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;Client收到了每一个NTP server所返回的600个IP地址的信息，相当于收到了一次DoS攻击。我们根据上面Wireshark的截图可以观察到，一条的spoofed NTP request只需要234bytes，但是却要受到100个482 bytes的数据包，可见其攻击力度。 &lt;!-- raw HTML omitted --&gt;&lt;/li&gt;
&lt;/ol&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;h4 id=&#34;botnet&#34;&gt;Botnet&lt;/h4&gt;
&lt;p&gt;我们之前在NTP amplification attack已经提到过了bot的使用，在这一章节中，我们来稍微展开讲一讲Botnet的内容 &lt;!-- raw HTML omitted --&gt;&lt;/p&gt;
&lt;p&gt;Botnet，僵尸网络，简单来说就是黑客通过控制一系列的设备（主机，手机，IoT设备等），实现对于本机信息的获取以及控制权，可以利用所感染的bot或者僵尸来实现各种攻击，并通过C&amp;amp;C(command and control) server来实现通信与指令下发 &lt;!-- raw HTML omitted --&gt;&lt;/p&gt;
&lt;!-- raw HTML omitted --&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;如何搭建一个Botnet?&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;黑客首先需要得到一群受感染的用户设备，他们可以自己想办法去感染，也可以从地下市场购买别人感染的 &lt;!-- raw HTML omitted --&gt;&lt;/li&gt;
&lt;li&gt;然后，让这些被感染的bots去连接上 C&amp;amp;C server,实现通信与管理 &lt;!-- raw HTML omitted --&gt;&lt;/li&gt;
&lt;li&gt;接着，黑客就可以通过C&amp;amp;C server来下达指令，要求Bot去偷取本机的信息，亦或者是配合实现攻击 &lt;!-- raw HTML omitted --&gt;&lt;/li&gt;
&lt;/ol&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;h4 id=&#34;tcp-syn-flooding&#34;&gt;TCP SYN Flooding&lt;/h4&gt;
&lt;!-- raw HTML omitted --&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;TCP&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;TCP 是一个传输层的协议，用于很多我们耳熟能详的协议例如HTTP, SMTP 还有 ftp &lt;!-- raw HTML omitted --&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;TCP 提供了可靠的点对点的基于连接的通信，如果说网络层的IP地址是提供了快递从揽货到送达的路径，那么传输层的TCP和UDP相当于是提供了传输路上的保险 &lt;!-- raw HTML omitted --&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;其可靠性主要是通过 &lt;code&gt;segment sequencing&lt;/code&gt;, &lt;code&gt;re-trasmission&lt;/code&gt; and &lt;code&gt;loss detection&lt;/code&gt; 来实现的 &lt;!-- raw HTML omitted --&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;同时TCP提供了流量控制和拥塞管理的功能，只要是通过滑动窗口算法以及丢包检测实现的 &lt;!-- raw HTML omitted --&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;!-- raw HTML omitted --&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;TCP connection&lt;/p&gt;
&lt;p&gt;每一个 &lt;code&gt;TCP connection&lt;/code&gt; 的标识符就是： &lt;!-- raw HTML omitted --&gt;&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;Source IP address + port number &lt;!-- raw HTML omitted --&gt;&lt;/li&gt;
&lt;li&gt;Destination IP address + port number &lt;!-- raw HTML omitted --&gt;&lt;/li&gt;
&lt;li&gt;其中Port number指代的就是所跑的服务所对应的number &lt;!-- raw HTML omitted --&gt;&lt;/li&gt;
&lt;/ol&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;!-- raw HTML omitted --&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;Three-way handshake 三次握手协议&lt;/p&gt;
&lt;p&gt;之前我们提到过TCP协议是基于连接的协议，那么三次握手协议，就是其内置的，用于建立连接的协议 &lt;!-- raw HTML omitted --&gt;&lt;/p&gt;
&lt;p&gt;首先我们先来认识一下一个用于三次握手协议的TCP header应该包含什么信息 &lt;!-- raw HTML omitted --&gt;&lt;/p&gt;
&lt;p&gt;其应该包括： &lt;!-- raw HTML omitted --&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Port numbers (16 bits each) &lt;!-- raw HTML omitted --&gt;&lt;/li&gt;
&lt;li&gt;SYN flag (1 bit) &lt;!-- raw HTML omitted --&gt;&lt;/li&gt;
&lt;li&gt;ACK flag (1 bit) &lt;!-- raw HTML omitted --&gt;&lt;/li&gt;
&lt;li&gt;Sequence number (32 bits) &lt;!-- raw HTML omitted --&gt;&lt;/li&gt;
&lt;li&gt;Acknowledgement number (32 bits) &lt;!-- raw HTML omitted --&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;figure&gt;&lt;img src=&#34;https://ginkgo.org.cn/ox-hugo/2022-04-27_10-36-39_screenshot.png&#34; width=&#34;700px&#34;/&gt;
        &lt;/figure&gt;
 &lt;!-- raw HTML omitted --&gt;&lt;/p&gt;
&lt;p&gt;然后看一个具体的例子 &lt;!-- raw HTML omitted --&gt;&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;Source首先发起第一次握手请求，名为 &lt;code&gt;SYN&lt;/code&gt; 发出其所定义的一个sequence number为 &lt;code&gt;x&lt;/code&gt; &lt;!-- raw HTML omitted --&gt;&lt;/li&gt;
&lt;li&gt;接着Destination返回第二次握手请求，名为 &lt;code&gt;SYN+ACK&lt;/code&gt; ，将sequence number改为其所定义的值 &lt;code&gt;y&lt;/code&gt; ，并将acknowledge number设为 &lt;code&gt;x+1&lt;/code&gt; &lt;!-- raw HTML omitted --&gt;&lt;/li&gt;
&lt;li&gt;最后Source发起第三次握手请求，名为 &lt;code&gt;ACK&lt;/code&gt; , 返回acknowledgement number为 &lt;code&gt;y+1&lt;/code&gt; , 同时递增自己的 sequence number为 &lt;code&gt;x+1&lt;/code&gt; &lt;!-- raw HTML omitted --&gt;&lt;/li&gt;
&lt;li&gt;至此三次握手连接成功，接下来就可以正常的进行通信，并且Source 和 Destination 将逐渐递增其自己的 &lt;code&gt;sequence number&lt;/code&gt; 以及 &lt;code&gt;acknowledge number&lt;/code&gt; &lt;!-- raw HTML omitted --&gt;&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;&lt;figure&gt;&lt;img src=&#34;https://ginkgo.org.cn/ox-hugo/2022-04-27_10-35-28_screenshot.png&#34; width=&#34;700px&#34;/&gt;
        &lt;/figure&gt;
 &lt;!-- raw HTML omitted --&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;!-- raw HTML omitted --&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;TCP SYN flooding&lt;/p&gt;
&lt;p&gt;TCP SYN flooding attack本质上是一个DoS attack, 其目的是为了通过向目标服务器发送大量的无效 &lt;code&gt;SYN&lt;/code&gt;, 来诱使服务器发送对等数量的 &lt;code&gt;SYN+ACK&lt;/code&gt; 请求, 继而等待 &lt;code&gt;ACK&lt;/code&gt; 请求回复，同时利用本地缓存这个连接，最终导致本地的缓存空间被占满。 &lt;!-- raw HTML omitted --&gt;&lt;/p&gt;
&lt;p&gt;我们最后通过一个具体的例子来复现一下这个过程 &lt;!-- raw HTML omitted --&gt;&lt;/p&gt;
&lt;p&gt;&lt;figure&gt;&lt;img src=&#34;https://ginkgo.org.cn/ox-hugo/2022-04-27_10-48-13_screenshot.png&#34;/&gt;
    &lt;/figure&gt;
 &lt;!-- raw HTML omitted --&gt;&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;首先黑客向服务器发送大量的 &lt;code&gt;SYN&lt;/code&gt; 请求,用的是伪造过的IP地址 &lt;!-- raw HTML omitted --&gt;&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;&lt;figure&gt;&lt;img src=&#34;https://ginkgo.org.cn/ox-hugo/2022-04-27_10-52-20_screenshot.png&#34; width=&#34;700px&#34;/&gt;
    &lt;/figure&gt;
 &lt;!-- raw HTML omitted --&gt;&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;接着服务器在收到了 &lt;code&gt;SYN&lt;/code&gt; 请求之后，便会发出对应的 &lt;code&gt;SYN+ACK&lt;/code&gt; 回复请求到之前伪造的IP地址 &lt;!-- raw HTML omitted --&gt;&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;&lt;figure&gt;&lt;img src=&#34;https://ginkgo.org.cn/ox-hugo/2022-04-27_10-52-30_screenshot.png&#34; width=&#34;700px&#34;/&gt;
    &lt;/figure&gt;
 &lt;!-- raw HTML omitted --&gt;&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;被伪造的IP地址的主机收到由服务器发来的大量 &lt;code&gt;SYN+ACK&lt;/code&gt; 请求，可发现没有记录显示自己之前有发送过 &lt;code&gt;SYN&lt;/code&gt; 请求到该服务器，因此不会回复 &lt;code&gt;ACK&lt;/code&gt; 请求。同时，每维护一个等待 &lt;code&gt;ACK&lt;/code&gt; 的连接，服务器都要开设一个新的端口，同时用缓存保存这些信息，一旦超出上限，那么就会使服务器瘫痪 &lt;!-- raw HTML omitted --&gt;&lt;/li&gt;
&lt;/ol&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id=&#34;mitigation&#34;&gt;Mitigation&lt;/h3&gt;
&lt;h4 id=&#34;mac-flooding-mitigation&#34;&gt;MAC flooding mitigation&lt;/h4&gt;
&lt;ul&gt;
&lt;li&gt;使用port security，限制从端口可以获取的MAC地址数量 &lt;!-- raw HTML omitted --&gt;&lt;/li&gt;
&lt;li&gt;对安全的MAC地址进行长时间的使用（不可替代），只要这些地址还存在于第三层的设备的ARP table当中（例如路由器，表示信任路由器的安全措施） &lt;!-- raw HTML omitted --&gt;&lt;/li&gt;
&lt;li&gt;使用AAA(Authentication, authorisation and accounting)服务器来验证所有MAC地址 &lt;!-- raw HTML omitted --&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;h4 id=&#34;dhcp-starvation-mitigation&#34;&gt;DHCP starvation mitigation&lt;/h4&gt;
&lt;ul&gt;
&lt;li&gt;使用Port security, 只有可以信任的端口所连接的DHCP请求才被允许通过 &lt;!-- raw HTML omitted --&gt;&lt;/li&gt;
&lt;li&gt;DHCP snooping, 只接受信任的DHCP服务器所发送的配置 &lt;!-- raw HTML omitted --&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;h4 id=&#34;dhcp-spoofing-mitigation&#34;&gt;DHCP spoofing mitigation&lt;/h4&gt;
&lt;ul&gt;
&lt;li&gt;使用入侵检测系统，并审核数字签名来避免伪造的DHCP服务器 &lt;!-- raw HTML omitted --&gt;&lt;/li&gt;
&lt;li&gt;DHCP snooping, 只接受信任的DHCP服务器所发送的配置 &lt;!-- raw HTML omitted --&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;h4 id=&#34;icmp-smurfing-mitigation&#34;&gt;ICMP smurfing mitigation&lt;/h4&gt;
&lt;ul&gt;
&lt;li&gt;单独配置每一个主机和路由器，拒接相应ICMP请求和广播信息 &lt;!-- raw HTML omitted --&gt;&lt;/li&gt;
&lt;li&gt;配置路由器不要转发ICMP到广播域当中 &lt;!-- raw HTML omitted --&gt;&lt;/li&gt;
&lt;li&gt;入站流量检查，拒绝伪造源地址的数据 &lt;!-- raw HTML omitted --&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;h4 id=&#34;ntp-amplification-ddos-mitigation&#34;&gt;NTP amplification DDoS mitigation&lt;/h4&gt;
&lt;ul&gt;
&lt;li&gt;禁止 &lt;code&gt;monlist&lt;/code&gt; 的使用，一次来避免NTP返回非常大的信息 &lt;!-- raw HTML omitted --&gt;&lt;/li&gt;
&lt;li&gt;入站流量检查，拒绝伪造源地址的数据 &lt;!-- raw HTML omitted --&gt;&lt;/li&gt;
&lt;li&gt;Firewall &lt;!-- raw HTML omitted --&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;h4 id=&#34;tcp-syn-flooding-attack-mitigation&#34;&gt;TCP SYN flooding attack mitigation&lt;/h4&gt;
&lt;ul&gt;
&lt;li&gt;使用防火墙来进行filtering，对那些很明显的spoofed的IP address进行丢弃 &lt;!-- raw HTML omitted --&gt;&lt;/li&gt;
&lt;li&gt;减少SYN接受的时间，将那些黑客建立的半连接尽早关闭来防止崩溃 &lt;!-- raw HTML omitted --&gt;&lt;/li&gt;
&lt;li&gt;使用防火墙对于TCP connection来进行审查 &lt;!-- raw HTML omitted --&gt;&lt;/li&gt;
&lt;/ul&gt;
</description>
        </item>
        <item>
        <title>SCT Topic 8: Password Cracking</title>
        <link>https://ginkgo.org.cn/posts/password_cracking/</link>
        <pubDate>Fri, 18 Mar 2022 00:00:00 +0000</pubDate>
        
        <guid>https://ginkgo.org.cn/posts/password_cracking/</guid>
        <description>&lt;h2 id=&#34;sct-topic-8-password-cracking&#34;&gt;SCT Topic 8: Password Cracking&lt;/h2&gt;
&lt;h3 id=&#34;case-study-adobe-password-leak&#34;&gt;Case Study: Adobe Password Leak&lt;/h3&gt;
&lt;p&gt;If you are familiar with how online service store users&amp;rsquo;s password, let me ask you:&lt;/p&gt;
&lt;p&gt;How Should You Do?&lt;/p&gt;
&lt;figure&gt;&lt;img src=&#34;https://ginkgo.org.cn/ox-hugo/2022-03-19_09-43-18_screenshot.png&#34; width=&#34;700px&#34;/&gt;
&lt;/figure&gt;

&lt;p&gt;Yes, we will use &lt;code&gt;hash algorithm&lt;/code&gt;, &lt;code&gt;salt&lt;/code&gt; and store the hashed password and salt, which actively avoid the exposion of plaintext password and &lt;!-- raw HTML omitted --&gt;brute force&lt;!-- raw HTML omitted --&gt;.&lt;/p&gt;
&lt;p&gt;But how Adobe Did It?&lt;/p&gt;
&lt;figure&gt;&lt;img src=&#34;https://ginkgo.org.cn/ox-hugo/2022-03-19_09-46-25_screenshot.png&#34; width=&#34;700px&#34;/&gt;
&lt;/figure&gt;

&lt;p&gt;What were the consequences?&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;If you get the &lt;code&gt;master key&lt;/code&gt;, literally you own all &amp;ldquo;encrypted passwords&amp;rdquo;&lt;/li&gt;
&lt;li&gt;If two users choose same password, their encrypted ciphertext are same, consequently, &lt;code&gt;frequently analysis&lt;/code&gt; would help hacker to find out the details of encryption process.&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;For more details, please refer to this article: &lt;a class=&#34;link&#34; href=&#34;https://nakedsecurity.sophos.com/2013/11/04/anatomy-of-a-password-disaster-adobes-giant-sized-cryptographic-blunder/&#34;  target=&#34;_blank&#34; rel=&#34;noopener&#34;
    &gt;Anatomy of a password disaster – Adobe’s giant-sized cryptographic blunder&lt;/a&gt;&lt;/p&gt;
&lt;h3 id=&#34;cryptanalysis-basics&#34;&gt;Cryptanalysis basics&lt;/h3&gt;
&lt;dl&gt;
&lt;dt&gt;Cryptanalysis&lt;/dt&gt;
&lt;dd&gt;The study of techniques to reveal what cryptography is attempting to hide or protect.&lt;/dd&gt;
&lt;/dl&gt;
&lt;p&gt;In other words, break the cryptographyic algorithms without knowing the key.&lt;/p&gt;
&lt;p&gt;Cryptanalysis are based on:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;The nature of the cryptographic algorithm&lt;/li&gt;
&lt;li&gt;the key&lt;/li&gt;
&lt;li&gt;some knowledge on the text, such as language(common words), format or encoding (script, image alway begin with some same pattern),&lt;/li&gt;
&lt;li&gt;a section with both plaintext and encrypted text&lt;/li&gt;
&lt;/ul&gt;
&lt;h4 id=&#34;brute-force-attacks&#34;&gt;Brute-force attacks&lt;/h4&gt;
&lt;dl&gt;
&lt;dt&gt;Brute-force attack&lt;/dt&gt;
&lt;dd&gt;Aim to decrypt an encrypted text by exhaustively &lt;code&gt;trying all possible&lt;/code&gt; secret keys until you obtain a meaningful plaintext&lt;/dd&gt;
&lt;/dl&gt;
&lt;p&gt;On average, you need to try at least &lt;code&gt;half of all the possible&lt;/code&gt; keys to be successful&lt;/p&gt;
&lt;p&gt;For example, to brute force a 4-digit password, the number of possibilities is 10^4 = 10000, therefore, on average, a brute-force attack in this scenario will succeed after 5000 attempts. If 1 attempt cost 1s, it needs at least 1h24min to finish this work.&lt;/p&gt;
&lt;h4 id=&#34;dictionary-attacks&#34;&gt;Dictionary attacks&lt;/h4&gt;
&lt;p&gt;4-digit password needs one hour and half? Forget about it, let&amp;rsquo;s to try something not so naive.&lt;/p&gt;
&lt;p&gt;Let&amp;rsquo;s first define the term &amp;ldquo;password&amp;rdquo; as a user-defined encrypted secret key.&lt;/p&gt;
&lt;dl&gt;
&lt;dt&gt;Passowrd dictionary attacks&lt;/dt&gt;
&lt;dd&gt;Use a &amp;ldquo;dictionary&amp;rdquo; of possbile words (based on an attacker-defined alphabet) to make exploitation attempts, including English words, user&amp;rsquo;s private information and common passwords.&lt;/dd&gt;
&lt;/dl&gt;
&lt;p&gt;Common dictionaries for attacks include:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Words and meaningful fragments of words combination for a certain language&lt;/li&gt;
&lt;li&gt;Personal information (e.g., obtained from OSINT or social engineering)&lt;/li&gt;
&lt;li&gt;Lists of names, locations, dates, companies, etc.&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;Therefore, if the attackers use dictionary attack, the &lt;code&gt;password length&lt;/code&gt; does not provide too much help on password robustness.&lt;/p&gt;
&lt;h4 id=&#34;password-robustness&#34;&gt;Password robustness&lt;/h4&gt;
&lt;p&gt;There are four main elements to determine the security of a password&lt;/p&gt;
&lt;dl&gt;
&lt;dt&gt;Number of symbols in the password&lt;/dt&gt;
&lt;dd&gt;As we mentioned before, 4-digit locker would require on average 10^4/2 seconds, or almost 1.5 hours to brute force, the longer password, the longer time to brute force.&lt;/dd&gt;
&lt;dt&gt;Number of possibilities for each position&lt;/dt&gt;
&lt;dd&gt;We continue use previous example, if we expand the types of symbols to alphabet and number, the possibilities expand to 36*36*36 for brute force, which requires much more time than 1.5 hours.&lt;/dd&gt;
&lt;dt&gt;Time required for each attempt&lt;/dt&gt;
&lt;dd&gt;Based on my experience, some online service will delay the login attempt to expand the time of brute force, which may also help to defend the attack like DDoS.&lt;/dd&gt;
&lt;dt&gt;Are there easier alternatives&lt;/dt&gt;
&lt;dd&gt;Remember we metioned in &lt;em&gt;Social Engineering&lt;/em&gt;: &amp;ldquo;The easiest way to get the information you want is always by asking the victims themselves&amp;rdquo;?
&lt;p&gt;There are always more than one way to get the answer of a question, so does cryptanalysis, you can even physically break the lock :)&lt;/p&gt;
&lt;p&gt;Some common alternatives:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;finding write-down notes in officers&lt;/li&gt;
&lt;li&gt;shoulder-surfing, i.e., looking over someone&amp;rsquo;s shoulder when they&amp;rsquo;re typing their passwords&lt;/li&gt;
&lt;li&gt;physical break-in&lt;/li&gt;
&lt;li&gt;physically stealing passwords lists or logbooks&lt;/li&gt;
&lt;/ul&gt;
&lt;/dd&gt;
&lt;/dl&gt;
&lt;h3 id=&#34;cryptographic-hash-functions&#34;&gt;Cryptographic hash functions&lt;/h3&gt;
&lt;dl&gt;
&lt;dt&gt;Hash function&lt;/dt&gt;
&lt;dd&gt;A function that maps input data of &lt;code&gt;arbitrary size&lt;/code&gt; to &lt;code&gt;fixed-size&lt;/code&gt; output values called &lt;code&gt;hashes&lt;/code&gt;.&lt;/dd&gt;
&lt;dt&gt;Crytographic hash functions (CHF)&lt;/dt&gt;
&lt;dd&gt;are hash functions more suitable for information security applications which contains ideal following properties:
&lt;ol&gt;
&lt;li&gt;deterministic: given message M, its hash H(M) is &lt;!-- raw HTML omitted --&gt;always&lt;!-- raw HTML omitted --&gt; the same&lt;/li&gt;
&lt;li&gt;quick to compute&lt;/li&gt;
&lt;li&gt;unfeasible to generate message M that has a specific hash value H (hard to find alternative message M&#39;)&lt;/li&gt;
&lt;li&gt;unfeasible to find messages M1 and M2 such that H(M1) = H(M2) (hard to find a collision)&lt;/li&gt;
&lt;li&gt;avalanche effect: a small change in message M leads to siginificant change to the hash value.&lt;/li&gt;
&lt;/ol&gt;
&lt;/dd&gt;
&lt;/dl&gt;
&lt;p&gt;Usage of CHF includes MACs (Message Authentication Codes), digital signatures and authentications.&lt;/p&gt;
&lt;p&gt;Let&amp;rsquo;s use an example for better understanding of CHF&lt;/p&gt;
&lt;p&gt;Left hand column is the input, after cryptographic hash function, we get the output, we called &lt;code&gt;Digest&lt;/code&gt; here.&lt;/p&gt;
&lt;p&gt;We can observe that, a single character change of input text, the digest would be very different from previous one.&lt;/p&gt;
&lt;figure&gt;&lt;img src=&#34;https://ginkgo.org.cn/ox-hugo/2022-03-19_14-44-36_screenshot.png&#34; width=&#34;700px&#34;/&gt;
&lt;/figure&gt;

&lt;p&gt;As you can easily guess, there are many problems and attacks which threat the CHF:&lt;/p&gt;
&lt;h4 id=&#34;the-birthday-problem--or-the-birthday-paradox&#34;&gt;The birthday problem (or the birthday paradox)&lt;/h4&gt;
&lt;p&gt;Let me ask you a classic question, how many people you need in a single room, which makes the probability that at least two person share a birthday to be 50%?&lt;/p&gt;
&lt;p&gt;You only need 23 people to raise probability to 50 per cent.&lt;/p&gt;
&lt;p&gt;Prove:
The goal is to compute P(A), the probability that at least two people in the room have same birthday.&lt;/p&gt;
&lt;p&gt;However, it is simpler to calculate the reverse one, P(A&amp;rsquo;), the probability that &lt;code&gt;NO&lt;/code&gt; two people in the room have the same birthday.&lt;/p&gt;
&lt;p&gt;To calculate P(A&amp;rsquo;), the event is that &lt;code&gt;person 2&lt;/code&gt; does not have the same birthday as &lt;code&gt;person 1&lt;/code&gt;, and that persona 3 does not have the same birthday as either person 1 or person 2, and so on, and finally that person 23 does not have the same birthday as any of persons 1 through 22.&lt;/p&gt;
&lt;p&gt;Let&amp;rsquo;s number this event as Event 1 to Event 23&lt;/p&gt;
&lt;p&gt;Let&amp;rsquo;s calculate the product of the probability of these events:&lt;/p&gt;
&lt;figure&gt;&lt;img src=&#34;https://ginkgo.org.cn/ox-hugo/2022-03-19_15-31-52_screenshot.png&#34; width=&#34;400px&#34;/&gt;
&lt;/figure&gt;

&lt;p&gt;Evaluating equation with (23) gives P(A&amp;rsquo;) ≈ 0.492703&lt;/p&gt;
&lt;p&gt;Therefore, P(A) ≈ 1 − 0.492703 = 0.507297 (50.7297%).&lt;/p&gt;
&lt;p&gt;Also, according to the &lt;a class=&#34;link&#34; href=&#34;https://en.wikipedia.org/wiki/Pigeonhole_principle&#34;  target=&#34;_blank&#34; rel=&#34;noopener&#34;
    &gt;pigenhole principle&lt;/a&gt;, the probability reaches 100 per cent when at least 367 people are present since there are only 366 possible birthdays.&lt;/p&gt;
&lt;p&gt;Based on above knowledge, we can understand that birthday attack is based on higher likelihood of collisions found between &lt;strong&gt;random attack&lt;/strong&gt; and &lt;strong&gt;fixed degree of permutations&lt;/strong&gt;.&lt;/p&gt;
&lt;h4 id=&#34;collision-attack&#34;&gt;Collision attack&lt;/h4&gt;
&lt;p&gt;The collision attack aims to identify two inputs that generate the same hash.&lt;/p&gt;
&lt;p&gt;More formally, we assume user has password &lt;strong&gt;P&lt;/strong&gt; with hash &lt;strong&gt;H(P)&lt;/strong&gt;, an attacker may find another string Q, such that H(P) = H(Q)&lt;/p&gt;
&lt;p&gt;This is why we need CHF to have the property to make it feasible to find the collision.&lt;/p&gt;
&lt;h4 id=&#34;preimage-attack&#34;&gt;Preimage attack&lt;/h4&gt;
&lt;p&gt;The preimage attack aims to find a message that has a specific hash value&lt;/p&gt;
&lt;p&gt;More formally, an adversary &amp;ldquo;tweaks&amp;rdquo; an input message M&amp;rsquo; until H(M&amp;rsquo;)=H(M)&lt;/p&gt;
&lt;p&gt;This attack will put huge harm to the security property: Integrity, because if this kind of tweak success, we can not trust anything, even if it has been hashed.&lt;/p&gt;
&lt;p&gt;Let&amp;rsquo;s see an example:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Message M: Give Mr John Smith a salary increase of £1,000.&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;This message will be digitally signed as a contract by CHF H.&lt;/p&gt;
&lt;p&gt;But the attacker finds some alternatives of messages which change their meaning of the input message, but get the same output digest as H(M)&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Message M’: Award Mr Smith a raise of £2,000&lt;/li&gt;
&lt;li&gt;Message M&amp;rsquo;&amp;rsquo;: Present John Smith a bonus of £3,000&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;Same signed hash value, different meaning, how powerful it is&amp;hellip;&lt;/p&gt;
&lt;h3 id=&#34;md5-collision-exercise&#34;&gt;MD5 collision exercise&lt;/h3&gt;
&lt;p&gt;When we download some files/software, many of them will provide md5 authentication, to authenticate that the integrity of the software, however, here is a &lt;a class=&#34;link&#34; href=&#34;https://www.mscs.dal.ca/~selinger/md5collision/&#34;  target=&#34;_blank&#34; rel=&#34;noopener&#34;
    &gt;exercise&lt;/a&gt; that shows MD5 can not be trusted anymore.&lt;/p&gt;
&lt;p&gt;Please review the details, I will just post something interesting here:&lt;/p&gt;
&lt;p&gt;Let&amp;rsquo;s see two programs like this:&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;div class=&#34;chroma&#34;&gt;
&lt;table class=&#34;lntable&#34;&gt;&lt;tr&gt;&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code&gt;&lt;span class=&#34;lnt&#34;&gt;1
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;2
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;
&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-fallback&#34; data-lang=&#34;fallback&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;Program 1: if (data1 == data1) then { good_program } else { evil_program }
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;Program 2: if (data2 == data1) then { good_program } else { evil_program }
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;&lt;p&gt;The only difference between these two statements is the variable to compare, however, it has been proved by Chinese researchers that we can only change some data in the input source files, but get the same MD5 hash value, which announce the &lt;code&gt;death of MD5&lt;/code&gt;.&lt;/p&gt;
&lt;h3 id=&#34;rainbow-table-attacks&#34;&gt;Rainbow table attacks&lt;/h3&gt;
&lt;p&gt;In this section, we will see a smarter variant of dictionary attack to do the brute force, it called &lt;code&gt;pre-computed dictionary attack&lt;/code&gt;.&lt;/p&gt;
&lt;p&gt;In this attack, we will pre-compute a list of hashes of dictionary words, and store in a table, which you can always easily to map the hashed text and plaintext password. If &amp;ldquo;hash-chain&amp;rdquo; functions are used to store the pre-computed hashes(to reduce the storage space), then the table is called a &lt;code&gt;rainbow table&lt;/code&gt;.&lt;/p&gt;
&lt;p&gt;Let&amp;rsquo;s use an example to introduce the terms and processes in a Rainbow Table usage.&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;The letter &lt;code&gt;H&lt;/code&gt; denotes a hash function.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;The letters &lt;code&gt;R_i&lt;/code&gt; denote different reduction functions, which aim to store more plaintext-hashed-text chains in the table (The number and sequences of reduction functions are same in each row).&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;We only store two columns of data in a system: 1. The &lt;code&gt;first column&lt;/code&gt; (in green) and the &lt;code&gt;last&lt;/code&gt; (in yellow).&lt;/p&gt;
&lt;figure&gt;&lt;img src=&#34;https://ginkgo.org.cn/ox-hugo/2022-03-19_16-33-39_screenshot.png&#34; width=&#34;700px&#34;/&gt;
&lt;/figure&gt;

&lt;h4 id=&#34;how-we-utilise-the-rainbow-table-the-plaintext-of-a-given-hashed-text&#34;&gt;How we utilise the rainbow table the plaintext of a given hashed text?&lt;/h4&gt;
&lt;ul&gt;
&lt;li&gt;Step 0
We find the hashed text &lt;code&gt;&amp;quot;re3xes&amp;quot;&lt;/code&gt; in /etc/shadow directory of the victim, we want the plaintext of this password, and have a rainbow table which contains two columns (green and yellow).&lt;/li&gt;
&lt;/ul&gt;
&lt;figure&gt;&lt;img src=&#34;https://ginkgo.org.cn/ox-hugo/2022-03-19_16-36-34_screenshot.png&#34; width=&#34;700px&#34;/&gt;
&lt;/figure&gt;

&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;Step 1
We use the reduction function &lt;code&gt;R3&lt;/code&gt; on &lt;code&gt;&amp;quot;re3xes&amp;quot;&lt;/code&gt; (start from last reduction function) and see if the result &amp;ldquo;rambo&amp;rdquo; is in the last column of the rainbow table. In this example it is not.&lt;/p&gt;
&lt;figure&gt;&lt;img src=&#34;https://ginkgo.org.cn/ox-hugo/2022-03-19_16-39-37_screenshot.png&#34; width=&#34;700px&#34;/&gt;
    &lt;/figure&gt;

&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Step 2
Next, try two rounds of reduction function, use reductions R2 and R3 and obtain &amp;ldquo;linux23&amp;rdquo; as the result.&lt;/p&gt;
&lt;figure&gt;&lt;img src=&#34;https://ginkgo.org.cn/ox-hugo/2022-03-19_16-50-07_screenshot.png&#34; width=&#34;700px&#34;/&gt;
    &lt;/figure&gt;

&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Step 3
Find the match&lt;/p&gt;
&lt;figure&gt;&lt;img src=&#34;https://ginkgo.org.cn/ox-hugo/2022-03-19_16-50-29_screenshot.png&#34; width=&#34;700px&#34;/&gt;
    &lt;/figure&gt;

&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Step 4
Start with matched plaintext column &amp;ldquo;passwd&amp;rdquo; and do the reductions to reach plaintext which will hashed to given hashed text &amp;ldquo;re3xes&amp;rdquo;.&lt;/p&gt;
&lt;figure&gt;&lt;img src=&#34;https://ginkgo.org.cn/ox-hugo/2022-03-19_16-51-59_screenshot.png&#34; width=&#34;700px&#34;/&gt;
    &lt;/figure&gt;

&lt;/li&gt;
&lt;/ul&gt;
&lt;!-- raw HTML omitted --&gt;
&lt;dl&gt;
&lt;dt&gt;Summary&lt;/dt&gt;
&lt;dd&gt;We assume that the given hashed text are contained in the chains of a row in the rainbow table, and use a sequence of reduction functions and hash function to see if it could reach the last column.
&lt;p&gt;If there is match, then we could locate the row of first (green) column and begin to reproduce the chains and get the plaintext.&lt;/p&gt;
&lt;figure&gt;&lt;img src=&#34;https://ginkgo.org.cn/ox-hugo/2022-03-19_16-43-11_screenshot.png&#34; width=&#34;700px&#34;/&gt;
    &lt;/figure&gt;

&lt;/dd&gt;
&lt;/dl&gt;
&lt;h4 id=&#34;salt&#34;&gt;Salt&lt;/h4&gt;
&lt;p&gt;Remember that I mentioned a term in first section: Salt?&lt;/p&gt;
&lt;p&gt;Rainbow table attacks and pre-computed dictionary attacks can be thwarted via the use of salt.&lt;/p&gt;
&lt;p&gt;The reason is very simple, even if you can use pre-computed table based on some common use dictionaries, but you can predict what&amp;rsquo;s the salt are used in hashing.&lt;/p&gt;
&lt;p&gt;Here are the most common mistakes in applying salt:&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;
&lt;p&gt;Using short salts:
if the salt is too short, the attacker may predict or brute-force pre-computed dictionaries with known salts.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Reusing salts:
if you reuse the salt for multiple accounts, the attacker can easily find out that the plaintext passwords were the same, and use side-channel information (e.g., password hints) to corrupt multiple accounts at once.&lt;/p&gt;
&lt;p&gt;Moreover, if the attacker randomly predicted the correct salt while computing a precomputed dicionary, then all the passwords would be compromised at once.&lt;/p&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;Finally it is important to note that using a ‘salt’ is not robust enough to thwart dictionary attacks, but only the pre-computation.&lt;/p&gt;
&lt;h3 id=&#34;countermeasures-and-best-practices&#34;&gt;Countermeasures and best practices&lt;/h3&gt;
&lt;h4 id=&#34;weak-passwords&#34;&gt;Weak passwords&lt;/h4&gt;
&lt;dl&gt;
&lt;dt&gt;Default passwords&lt;/dt&gt;
&lt;dd&gt;Default provided by system vendor which should be changed at installation time
&lt;ul&gt;
&lt;li&gt;password&lt;/li&gt;
&lt;li&gt;default&lt;/li&gt;
&lt;li&gt;admin&lt;/li&gt;
&lt;li&gt;guest&lt;/li&gt;
&lt;/ul&gt;
&lt;/dd&gt;
&lt;dt&gt;Dictionary words&lt;/dt&gt;
&lt;dd&gt;Including non-English dictionaries:
&lt;ul&gt;
&lt;li&gt;chameleon&lt;/li&gt;
&lt;li&gt;RedSox&lt;/li&gt;
&lt;li&gt;sandbags&lt;/li&gt;
&lt;li&gt;bunnyhop&lt;/li&gt;
&lt;li&gt;IntenseCrabtree&lt;/li&gt;
&lt;/ul&gt;
&lt;/dd&gt;
&lt;dt&gt;Words with numbers appended&lt;/dt&gt;
&lt;dd&gt;These can be easily tested automatically by attackers with little time cost.
&lt;ul&gt;
&lt;li&gt;password1&lt;/li&gt;
&lt;li&gt;deer2000&lt;/li&gt;
&lt;li&gt;john1234&lt;/li&gt;
&lt;/ul&gt;
&lt;/dd&gt;
&lt;dt&gt;Words with simple obfuscations&lt;/dt&gt;
&lt;dd&gt;Still, it can be tested automatically with little additional effort
&lt;ul&gt;
&lt;li&gt;p@ssw0rd&lt;/li&gt;
&lt;li&gt;l33th4x0r&lt;/li&gt;
&lt;li&gt;g0ldf1sh&lt;/li&gt;
&lt;/ul&gt;
&lt;/dd&gt;
&lt;dt&gt;Doubled words&lt;/dt&gt;
&lt;dd&gt;&lt;ul&gt;
&lt;li&gt;crabcrab&lt;/li&gt;
&lt;li&gt;stopstop&lt;/li&gt;
&lt;li&gt;treetree&lt;/li&gt;
&lt;li&gt;passpass.&lt;/li&gt;
&lt;/ul&gt;
&lt;/dd&gt;
&lt;dt&gt;Common sequences from a keyboard row&lt;/dt&gt;
&lt;dd&gt;&lt;ul&gt;
&lt;li&gt;qwerty (keyboard)&lt;/li&gt;
&lt;li&gt;123456&lt;/li&gt;
&lt;li&gt;asdfgh (keyboard)&lt;/li&gt;
&lt;li&gt;fred.&lt;/li&gt;
&lt;/ul&gt;
&lt;/dd&gt;
&lt;dt&gt;Numeric sequences based on well known numbers such as&lt;/dt&gt;
&lt;dd&gt;&lt;ul&gt;
&lt;li&gt;911 (9-1-1, 9/11)&lt;/li&gt;
&lt;li&gt;314159&amp;hellip; (pi)&lt;/li&gt;
&lt;li&gt;27182&amp;hellip; (e)&lt;/li&gt;
&lt;li&gt;112 (1-1-2).&lt;/li&gt;
&lt;/ul&gt;
&lt;/dd&gt;
&lt;dt&gt;Identifiers&lt;/dt&gt;
&lt;dd&gt;&lt;ul&gt;
&lt;li&gt;jsmith123&lt;/li&gt;
&lt;li&gt;1/1/1970&lt;/li&gt;
&lt;li&gt;555–1234&lt;/li&gt;
&lt;li&gt;one&amp;rsquo;s username.&lt;/li&gt;
&lt;/ul&gt;
&lt;/dd&gt;
&lt;dt&gt;Weak passwords in non-English languages&lt;/dt&gt;
&lt;dd&gt;&lt;ul&gt;
&lt;li&gt;contraseña (Spanish)&lt;/li&gt;
&lt;li&gt;ji32k7au4a83 (encoding from Chinese).&lt;/li&gt;
&lt;/ul&gt;
&lt;/dd&gt;
&lt;dt&gt;Anything personally related to an individual&lt;/dt&gt;
&lt;dd&gt;All these can be easily tested automatically after a simple investigation of a person&amp;rsquo;s details, eg through social engineering.
&lt;ul&gt;
&lt;li&gt;license plate number&lt;/li&gt;
&lt;li&gt;social security number&lt;/li&gt;
&lt;li&gt;current or past telephone numbers&lt;/li&gt;
&lt;li&gt;student ID number&lt;/li&gt;
&lt;li&gt;current address&lt;/li&gt;
&lt;li&gt;previous addresses&lt;/li&gt;
&lt;li&gt;birthday&lt;/li&gt;
&lt;li&gt;sports team&lt;/li&gt;
&lt;li&gt;relative&amp;rsquo;s or pet&amp;rsquo;s names, nicknames, birthdays, initials, etc.&lt;/li&gt;
&lt;/ul&gt;
&lt;/dd&gt;
&lt;dt&gt;Dates&lt;/dt&gt;
&lt;dd&gt;Dates follow a pattern and make passwords weak.&lt;/dd&gt;
&lt;dt&gt;Common passwords from previous leaks&lt;/dt&gt;
&lt;dd&gt;For example, the top 10 most common passwords in a &lt;a class=&#34;link&#34; href=&#34;https://edition.cnn.com/2019/04/22/uk/most-common-passwords-scli-gbr-intl/index.html&#34;  target=&#34;_blank&#34; rel=&#34;noopener&#34;
    &gt;CNN article&lt;/a&gt;:
&lt;ul&gt;
&lt;li&gt;123456&lt;/li&gt;
&lt;li&gt;123456789&lt;/li&gt;
&lt;li&gt;qwerty&lt;/li&gt;
&lt;li&gt;password&lt;/li&gt;
&lt;li&gt;111111&lt;/li&gt;
&lt;li&gt;12345678&lt;/li&gt;
&lt;li&gt;abc123&lt;/li&gt;
&lt;li&gt;1234567&lt;/li&gt;
&lt;li&gt;password1&lt;/li&gt;
&lt;li&gt;
&lt;ol start=&#34;12345&#34;&gt;
&lt;li&gt;&lt;/li&gt;
&lt;/ol&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;/dd&gt;
&lt;/dl&gt;
&lt;h4 id=&#34;side-channel-attacks&#34;&gt;Side-channel attacks&lt;/h4&gt;
&lt;p&gt;As its name suggest, rather than exploiting the weakness of the algorithm itself (eg. cryptanalysis and software bugs), a side-channel attack relies on information gained from the implementation of a computer system.&lt;/p&gt;
&lt;p&gt;For example:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;timing information (eg, implement the encryption, hashing)&lt;/li&gt;
&lt;li&gt;power consumption&lt;/li&gt;
&lt;li&gt;electromagnetic leaks&lt;/li&gt;
&lt;li&gt;sound&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;If you are familar with SQL injection, the time-based blind injection is also a side-channel attacks.&lt;/p&gt;
&lt;p&gt;Let&amp;rsquo;s look at the details of a &lt;code&gt;timeing attack&lt;/code&gt;:
By analyse time taken by the cryptographic algorithm implementation operation, the attacker is able to reverse engineer the input.&lt;/p&gt;
&lt;p&gt;In 2003, &lt;a class=&#34;link&#34; href=&#34;https://id.elsevier.com/as/authorization.oauth2?platSite=SD%2Fscience&amp;amp;scope=openid%20email%20profile%20els_auth_info%20els_idp_info%20els_idp_analytics_attrs%20els_sa_discover%20urn%3Acom%3Aelsevier%3Aidp%3Apolicy%3Aproduct%3Ainst_assoc&amp;amp;response_type=code&amp;amp;redirect_uri=https%3A%2F%2Fwww.sciencedirect.com%2Fuser%2Fidentity%2Flanding&amp;amp;authType=SINGLE_SIGN_IN&amp;amp;prompt=login&amp;amp;client_id=SDFE-v3&amp;amp;state=retryCounter%3D0%26csrfToken%3D8db72d04-1503-4c61-852a-86ec787771b8%26idpPolicy%3Durn%253Acom%253Aelsevier%253Aidp%253Apolicy%253Aproduct%253Ainst_assoc%26returnUrl%3D%252Fscience%252Farticle%252Fpii%252FS1389128605000125%253Fvia%25253Dihub%26prompt%3Dlogin%26cid%3Darp-7f672742-0676-47c6-9ce3-f01d2dc6f238&#34;  target=&#34;_blank&#34; rel=&#34;noopener&#34;
    &gt;Boneh and Brumley&lt;/a&gt; published a practical network-based timing attack on SSL-enabled web server, the server key was recovered in a matter of hours using this method.&lt;/p&gt;
&lt;h4 id=&#34;good-practice-around-passwords&#34;&gt;Good practice around passwords&lt;/h4&gt;
&lt;ul&gt;
&lt;li&gt;Do not reuse passwords
&lt;ul&gt;
&lt;li&gt;Browser&lt;/li&gt;
&lt;li&gt;KeePassX&lt;/li&gt;
&lt;li&gt;Local&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;Use password managers&lt;/li&gt;
&lt;li&gt;Use Two-Factor Authentication (2FA)&lt;/li&gt;
&lt;/ul&gt;
</description>
        </item>
        <item>
        <title>SCT Topic 7: Social Engineering</title>
        <link>https://ginkgo.org.cn/posts/social_engineering/</link>
        <pubDate>Mon, 07 Mar 2022 00:00:00 +0000</pubDate>
        
        <guid>https://ginkgo.org.cn/posts/social_engineering/</guid>
        <description>&lt;h2 id=&#34;sct-topic-7-social-engineering&#34;&gt;SCT Topic 7: Social Engineering&lt;/h2&gt;
&lt;h3 id=&#34;strategies-and-principles&#34;&gt;Strategies and Principles&lt;/h3&gt;
&lt;p&gt;&lt;em&gt;&amp;ldquo;The easiest way to get the information you want is always by asking the victims themselves:)&amp;rdquo;&lt;/em&gt;&lt;/p&gt;
&lt;dl&gt;
&lt;dt&gt;Definition: Social engineering&lt;/dt&gt;
&lt;dd&gt;&lt;code&gt;Social engineering&lt;/code&gt; is the practice of &lt;!-- raw HTML omitted --&gt;manipulating people&lt;!-- raw HTML omitted --&gt; into revealing confidential or sensitive information about the organisation, or to perform certain actions, such as:
&lt;ul&gt;
&lt;li&gt;open an &lt;!-- raw HTML omitted --&gt;infected attachment&lt;!-- raw HTML omitted --&gt; via email&lt;/li&gt;
&lt;li&gt;click on a URL of a &lt;!-- raw HTML omitted --&gt;compromised website&lt;!-- raw HTML omitted --&gt;&lt;/li&gt;
&lt;li&gt;divulge information over the phone&lt;/li&gt;
&lt;/ul&gt;
&lt;/dd&gt;
&lt;/dl&gt;
&lt;p&gt;Instead of utilising the vulnerabilities we have seen previously, social engineering relies on &lt;!-- raw HTML omitted --&gt;non-technical&lt;!-- raw HTML omitted --&gt; strategies to exploit the weaknesses of human psychology.&lt;/p&gt;
&lt;p&gt;It is very similar to some &amp;lsquo;marketing&amp;rsquo; purposes, which often involved &amp;lsquo;acting skills&amp;rsquo;, it requires social engineers to be confident with themsevles, and this sense of confidence will then naturally psychologically transfer also to the victim.&lt;/p&gt;
&lt;p&gt;&lt;em&gt;&amp;ldquo;Pretending not be afraid is as good as actually not being afraid. &amp;mdash;-David Letterman&amp;rdquo;&lt;/em&gt;&lt;/p&gt;
&lt;h4 id=&#34;key-principles&#34;&gt;Key principles&lt;/h4&gt;
&lt;p&gt;There are six key principles of influence that correspond to human behaviours heavily exploited by social engineering, identified by Professor Robert Cialdini, Regents&amp;rsquo; Professor Emeritus of Psychology and Marketing at Arizona State University, which originally from marketing&amp;rsquo;s purposes.&lt;/p&gt;
&lt;dl&gt;
&lt;dt&gt;Principle 1: Reciprocity&lt;/dt&gt;
&lt;dd&gt;People tend to &lt;!-- raw HTML omitted --&gt;return a favour&lt;!-- raw HTML omitted --&gt;.
&lt;p&gt;People usually do not trust free lunch, they would be more delight to take the benefit by &lt;!-- raw HTML omitted --&gt;doing a favour&lt;!-- raw HTML omitted --&gt; also to the attacker.&lt;/p&gt;
&lt;/dd&gt;
&lt;dt&gt;Principle 2: Commitment and consistency&lt;/dt&gt;
&lt;dd&gt;People are willing to be honour to the ideas and goals they committed which fits their self-image, e.g., particular charity activities,recyling, vegetarianism.
&lt;p&gt;&lt;a class=&#34;link&#34; href=&#34;https://tactics.convertize.com/definitions/commitment-and-consistency&#34;  target=&#34;_blank&#34; rel=&#34;noopener&#34;
    &gt;This a mental shortut we use to simplify our decision-making:&lt;/a&gt; we tend to &lt;!-- raw HTML omitted --&gt;simplify our decision making&lt;!-- raw HTML omitted --&gt; by using a post decision as reference for subsequent related choices. Consequently, we act in ways that are consistent with our intial action our thought, so that when we commit to something or someone, we stick to it.&lt;/p&gt;
&lt;/dd&gt;
&lt;dt&gt;Principle 3: Social proof/consensus&lt;/dt&gt;
&lt;dd&gt;People are tend to follow the crowd.
&lt;p&gt;For example, if attackers can convince the victim that their colleagues, friends or family already done that, the victims will be more willing to click the malicious link.&lt;/p&gt;
&lt;/dd&gt;
&lt;dt&gt;Principle 4: Autority/intimidation&lt;/dt&gt;
&lt;dd&gt;People tend to obey authority figures, even if they are asked to perform objectionable acts.
&lt;p&gt;The attacker can try to impersonate some senior members in their organisation or from government organisation, which the victim may not know personally.&lt;/p&gt;
&lt;/dd&gt;
&lt;dt&gt;Principle 5: Liking/familarity&lt;/dt&gt;
&lt;dd&gt;People are more easily persuaded by people who seems to be familiar with themselves.
&lt;p&gt;The attackers could establish a link between them and victims by calling their first name, nickname, or throw some topics they may interesting (e.g., hobbies, sports).&lt;/p&gt;
&lt;/dd&gt;
&lt;dt&gt;Pirnciple 6: Scarcity/urgency&lt;/dt&gt;
&lt;dd&gt;Perceived scarcity will generate demand, and it may induce urgency in the victim.
&lt;p&gt;In this kind of scenario, victim could more easily to lose their judgement. Like a time-limited demand of work from the boss.&lt;/p&gt;
&lt;/dd&gt;
&lt;/dl&gt;
&lt;h3 id=&#34;attack-phases&#34;&gt;Attack Phases&lt;/h3&gt;
&lt;h4 id=&#34;reconnaissance-phase&#34;&gt;Reconnaissance Phase&lt;/h4&gt;
&lt;dl&gt;
&lt;dt&gt;Aims to&lt;/dt&gt;
&lt;dd&gt;Appear credible and lure the victims into &lt;code&gt;revealing sensitive information&lt;/code&gt; or &lt;code&gt;perform dangerous actions&lt;/code&gt;&lt;/dd&gt;
&lt;dt&gt;Goals&lt;/dt&gt;
&lt;dd&gt;Learn about roles or key figures in the organisation, and find &lt;!-- raw HTML omitted --&gt;organisation contact details&lt;!-- raw HTML omitted --&gt; and finally &lt;code&gt;choosing victims&lt;/code&gt;.&lt;/dd&gt;
&lt;/dl&gt;
&lt;p&gt;Passive and Active reconnaissances can explore the tactics to identify hosts, networks, and users of interst, see more details in previoius post about reconnaissance.&lt;/p&gt;
&lt;h4 id=&#34;victim-approach-phase&#34;&gt;Victim Approach Phase&lt;/h4&gt;
&lt;!-- raw HTML omitted --&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;Goals?&lt;/p&gt;
&lt;p&gt;Establish a confidential relationship/feeling between attackers and the victim, by&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Exact victim&amp;rsquo;s positions in the company&lt;/li&gt;
&lt;li&gt;Use of nicknames known only in the company&lt;/li&gt;
&lt;li&gt;Praising the role of the victim (e.g., knowing what they do)&lt;/li&gt;
&lt;li&gt;Belonging to some mailing list&lt;/li&gt;
&lt;li&gt;Personal interests of the victim&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;!-- raw HTML omitted --&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;Who?&lt;/p&gt;
&lt;p&gt;Usually, Not senior members,
but who closely tied to them (e.g., secretaries, collaborators)&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;!-- raw HTML omitted --&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;Where?&lt;/p&gt;
&lt;p&gt;Phone, e-mail, social network (rarely done in person or face to face)&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;!-- raw HTML omitted --&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;How?&lt;/p&gt;
&lt;p&gt;Spear phishing
: Spear here is used to differentiating with traditional phishing, which is crafted for &lt;!-- raw HTML omitted --&gt;a specific victim&lt;!-- raw HTML omitted --&gt;.
Send a targeted email to the vicitm, to lure them into clicking a link, opening an attachment, or revealing some sensitive information.&lt;/p&gt;
&lt;p&gt;Vishing
: Make a &lt;!-- raw HTML omitted --&gt;voice phone call&lt;!-- raw HTML omitted --&gt; to lure the victim into believing there is a demand for revealing sensitive information or performing attacker-desired actions.
The attacker could impersonate a manager/senior member of the organisation, or pretending to be a colleague in need, which use the principle of &amp;ldquo;Principle 4: Authority/intimidation&amp;rdquo;.&lt;/p&gt;
&lt;p&gt;Smishing
: The attacker choose the most trusted communication method, and sending a text message to victims.&lt;/p&gt;
&lt;p&gt;Tailgating
: Instead of getting information from the victim in previous stragies, tailgating is aim to enter a restricted areas, it can be realised by following people with access, or pretending to be someone with access, for instance, a courier.&lt;/p&gt;
&lt;p&gt;Quid Pro Quo
: The attacker offers something in exchange for following his orders.&lt;/p&gt;
&lt;pre&gt;&lt;code&gt; For example, the attacker may call the victims and pretend to be a technician, then convince the vicitm to follow commands to grant him access or which lead to malware installation.

 Occssionally, the attacker may already have pre-install malware which slows down the PC, then try to contact the victim to provide some help.
&lt;/code&gt;&lt;/pre&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;h4 id=&#34;watering-hole-attacks&#34;&gt;Watering hole attacks&lt;/h4&gt;
&lt;p&gt;&lt;a class=&#34;link&#34; href=&#34;https://www.ncsc.gov.uk/collection/supply-chain-security/watering-hole-attacks&#34;  target=&#34;_blank&#34; rel=&#34;noopener&#34;
    &gt;https://www.ncsc.gov.uk/collection/supply-chain-security/watering-hole-attacks&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;Watering hole attack is a social engineering attack, aims to exploit websites which frequently visit by target organisation for distribution of malware.&lt;/p&gt;
&lt;p&gt;Predator animals are used to wait those preys who will come to watering hole for water.&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;find a target organisation or group&lt;/li&gt;
&lt;li&gt;find their frequently visited/viewed websites&lt;/li&gt;
&lt;li&gt;find the weakness of these websites&lt;/li&gt;
&lt;li&gt;Inject scripts which could trigger driven-by download attack&lt;/li&gt;
&lt;li&gt;Victims visit the website and trigger the download attack&lt;/li&gt;
&lt;li&gt;Malware could be a Remote Access Trojan which can gain remote access to target&amp;rsquo;s system&lt;/li&gt;
&lt;/ol&gt;
&lt;h4 id=&#34;countermeasures&#34;&gt;Countermeasures&lt;/h4&gt;
&lt;p&gt;The core of social engineering is people, companies need to make &lt;code&gt;regular security training&lt;/code&gt; for employees in all roles, to make them be aware of the potential strategies of attackers.&lt;/p&gt;
&lt;p&gt;Some strategies to check if you are being a victim of social engineering include:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;asking for the correct spelling of their name&lt;/li&gt;
&lt;li&gt;asking for a number where you can return the call&lt;/li&gt;
&lt;li&gt;asking them why they need this information&lt;/li&gt;
&lt;li&gt;asking them who has authorised the request and let them know that you will verify the authorisation.&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;In general, if you suspect a social engineering attempt, report incidents immediately to the company’s security teams. Be skeptical and aware of risks.&lt;/p&gt;
&lt;p&gt;Look for emails with urgent requests of sensitive information or delicate actions, and typosquatting e-mail addresses.&lt;/p&gt;
</description>
        </item>
        <item>
        <title>SCT Topic 6: Network Reconnaissance and OSINT</title>
        <link>https://ginkgo.org.cn/posts/network_security_assessment/</link>
        <pubDate>Mon, 28 Feb 2022 00:00:00 +0000</pubDate>
        
        <guid>https://ginkgo.org.cn/posts/network_security_assessment/</guid>
        <description>&lt;h2 id=&#34;sct-topic-6-network-reconnaissance-and-osint&#34;&gt;SCT Topic 6: Network Reconnaissance and OSINT&lt;/h2&gt;
&lt;p&gt;The initial phase of network security assessment is reconnaissance, in my understanding, this phase is used to gather the information of the target, including hosts, networks, users, services, etc.&lt;/p&gt;
&lt;p&gt;It is an essential preparation mission before you can really do something to the target.&lt;/p&gt;
&lt;p&gt;And the reconnaissance could be separated to &lt;code&gt;passive&lt;/code&gt; or &lt;code&gt;active&lt;/code&gt;.&lt;/p&gt;
&lt;h3 id=&#34;passive-reconnaissance&#34;&gt;Passive reconnaissance&lt;/h3&gt;
&lt;p&gt;In this case, &lt;code&gt;&amp;quot;passive&amp;quot;&lt;/code&gt; means you do not directly interact or engage with target system. More specifically, you do not send any type of request to the target, thus the targets have no way of acknowledgement what you are doing.&lt;/p&gt;
&lt;p&gt;You should use all the tools to gather more information as possible (free, open source, commercial tools)&lt;/p&gt;
&lt;dl&gt;
&lt;dt&gt;Querying Search Engines and Websites&lt;/dt&gt;
&lt;dd&gt;There are some typical data you can gather by querying search engines and websites
&lt;ul&gt;
&lt;li&gt;Physical address of office locations&lt;/li&gt;
&lt;li&gt;Contact details, including email addresses and telephone numbers&lt;/li&gt;
&lt;li&gt;Details of internal email systems and routing&lt;/li&gt;
&lt;li&gt;DNS layout and naming conventions&lt;/li&gt;
&lt;li&gt;Files residing on publicly accessible servers&lt;/li&gt;
&lt;/ul&gt;
&lt;/dd&gt;
&lt;/dl&gt;
&lt;p&gt;Here are some powerful tools we can use:&lt;/p&gt;
&lt;h4 id=&#34;google-advanced-search&#34;&gt;Google Advanced Search&lt;/h4&gt;
&lt;p&gt;It is very common for us to complain that Google returns some irrelevant results, but actually Google provides some powerful tools to enhance the search, it is the &amp;ldquo;Goolge Advanced search&amp;rdquo;, we can use its syntax to refine our search rules.&lt;/p&gt;
&lt;p&gt;For example, &amp;ldquo;inurl:program&amp;rdquo; results in all the websites or resources whose url or cotent contains the keyword &amp;ldquo;program&amp;rdquo;, you can even use &amp;ldquo;allinurl:program&amp;rdquo; to query all the url which contains &amp;ldquo;program&amp;rdquo;.&lt;/p&gt;
&lt;p&gt;Another common example is, when you search &amp;ldquo;program moon&amp;rdquo;, the result will probabaly give you a lot of results with &amp;ldquo;program&amp;rdquo; while excluding the keyword &amp;ldquo;moon&amp;rdquo; because obviously there is less result contains moon.&lt;/p&gt;
&lt;p&gt;However, if you want to search the whole word which contains both &amp;ldquo;program moon&amp;rdquo;, you can surround the keywords with double quotes &amp;ldquo;&amp;ldquo;program moon&amp;rdquo;&amp;rdquo;, so powerful, isn&amp;rsquo;t it?&lt;/p&gt;
&lt;h4 id=&#34;querying-netcraft&#34;&gt;Querying Netcraft&lt;/h4&gt;
&lt;p&gt;The &lt;a class=&#34;link&#34; href=&#34;https://searchdns.netcraft.com/?restriction=site&amp;#43;contains&amp;amp;host=nist.gov&amp;amp;position=limited&#34;  target=&#34;_blank&#34; rel=&#34;noopener&#34;
    &gt;Netcraft Web Application&lt;/a&gt; contains &lt;code&gt;historical server fingerprints&lt;/code&gt;, which you can use to check the OS versions or map network blocks of a company&lt;/p&gt;
&lt;p&gt;The link above shows the result of all recorded &lt;code&gt;NIST government sites&lt;/code&gt; with their site, netblock, OS.&lt;/p&gt;
&lt;figure&gt;&lt;img src=&#34;https://ginkgo.org.cn/ox-hugo/2022-03-01_10-47-07_screenshot.png&#34; width=&#34;900px&#34;/&gt;
&lt;/figure&gt;

&lt;h4 id=&#34;shodan&#34;&gt;Shodan&lt;/h4&gt;
&lt;p&gt;&lt;a class=&#34;link&#34; href=&#34;https://help.shodan.io/the-basics/what-is-shodan&#34;  target=&#34;_blank&#34; rel=&#34;noopener&#34;
    &gt;Shodan&lt;/a&gt; is a powerful search engine for gathering information on &lt;code&gt;all devices connected to Internet&lt;/code&gt;.
Use search query syntax(city, country, http.title net, org, port, etc.) to search for the devices information within the whole Internet. Some entries even may list corresponding known vulnerabilities.&lt;/p&gt;
&lt;figure&gt;&lt;img src=&#34;https://ginkgo.org.cn/ox-hugo/2022-03-01_14-50-38_screenshot.png&#34; width=&#34;700px&#34;/&gt;
&lt;/figure&gt;

&lt;!-- raw HTML omitted --&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;Differences with Google?&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;Google queries the resources on &lt;code&gt;World Wide Web&lt;/code&gt;, but it is only a tiny fraction of Internet, Shodan&amp;rsquo;s goal is to provide a complete picture of the Internet.&lt;/li&gt;
&lt;li&gt;Shodan explicitly requires search query syntax.&lt;/li&gt;
&lt;/ol&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;h4 id=&#34;linkedin&#34;&gt;LinkedIn&lt;/h4&gt;
&lt;p&gt;LinkedIn has a lot of personal profiles, it is always a good beginning for attacks like social engineering to dig deeper into an employee and an organisation. The LinkedIn Premium would help to look for people and roles without notifying them.&lt;/p&gt;
&lt;h4 id=&#34;domain-whois&#34;&gt;Domain WHOIS&lt;/h4&gt;
&lt;p&gt;&lt;a class=&#34;link&#34; href=&#34;https://who.is/&#34;  target=&#34;_blank&#34; rel=&#34;noopener&#34;
    &gt;WHOIS&lt;/a&gt; allows you to uncover the details information behind a &lt;code&gt;domain&lt;/code&gt;. Typically, it contains:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Administrative contact details&lt;/li&gt;
&lt;li&gt;Mailing addresses for office locations&lt;/li&gt;
&lt;li&gt;Details of authoritative name servers for each domain&lt;/li&gt;
&lt;/ul&gt;
&lt;h4 id=&#34;automated-email-enumeration&#34;&gt;Automated Email Enumeration&lt;/h4&gt;
&lt;p&gt;The &lt;code&gt;TheHarvester&lt;/code&gt; tool is used for gathering information of &lt;!-- raw HTML omitted --&gt;emails, sub-domains, hosts, employee names, open ports, and banners&lt;!-- raw HTML omitted --&gt; from different public sources like &lt;!-- raw HTML omitted --&gt;search engines, PGP key servers, and SHODAN computer database&lt;!-- raw HTML omitted --&gt;.&lt;/p&gt;
&lt;p&gt;example 1
Search email addresses from domain kali.org with results of 200 and using Bing as data source.&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;div class=&#34;chroma&#34;&gt;
&lt;table class=&#34;lntable&#34;&gt;&lt;tr&gt;&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code&gt;&lt;span class=&#34;lnt&#34;&gt;1
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;
&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-shell&#34; data-lang=&#34;shell&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;theharvester -d kali.org -l &lt;span class=&#34;m&#34;&gt;200&lt;/span&gt; -b bing
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;&lt;p&gt;example 2&lt;/p&gt;
&lt;p&gt;Search email addresses from domain nist.gov with results of 50 and using google as data source, finally  saved the resources in myresults.html&lt;/p&gt;
&lt;h4 id=&#34;dns-querying&#34;&gt;DNS Querying&lt;/h4&gt;
&lt;p&gt;&lt;a class=&#34;link&#34; href=&#34;http://etutorials.org/Networking/network&amp;#43;security&amp;#43;assessment/Chapter&amp;#43;3.&amp;#43;Internet&amp;#43;Host&amp;#43;and&amp;#43;Network&amp;#43;Enumeration/3.3&amp;#43;DNS&amp;#43;Querying/&#34;  target=&#34;_blank&#34; rel=&#34;noopener&#34;
    &gt;http://etutorials.org/Networking/network+security+assessment/Chapter+3.+Internet+Host+and+Network+Enumeration/3.3+DNS+Querying/&lt;/a&gt;&lt;/p&gt;
&lt;dl&gt;
&lt;dt&gt;What information we could retrieve from DNS Querying?&lt;/dt&gt;
&lt;dd&gt;Including:
&lt;ul&gt;
&lt;li&gt;&lt;code&gt;Authoritative DNS server information&lt;/code&gt; from &lt;code&gt;name server (NS) records&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;Domain and subdomain information&lt;/li&gt;
&lt;li&gt;&lt;!-- raw HTML omitted --&gt;Hostname information&lt;!-- raw HTML omitted --&gt; from A, PTR, and CNAME records&lt;/li&gt;
&lt;li&gt;Public points of presence that list &lt;!-- raw HTML omitted --&gt;mail exchanger (MX) records&lt;!-- raw HTML omitted --&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;In some cases, poorly configured DNS servers also allow you to enumerate:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;code&gt;Operating-system and platform information&lt;/code&gt; of hosts from the host information (HINFO) record&lt;/li&gt;
&lt;li&gt;Names and IP addresses of internal or nonpublic hosts and networks&lt;/li&gt;
&lt;/ul&gt;
&lt;/dd&gt;
&lt;/dl&gt;
&lt;!-- raw HTML omitted --&gt;
&lt;dl&gt;
&lt;dt&gt;Why it is a passive recon?&lt;/dt&gt;
&lt;dd&gt;There is no active scanning or probing of the target networks, you just probe and query the information with authoritative DNS servers (for those domains or network blocks that are often run by ISPs).
&lt;p&gt;Meanwhile, most name servers are not aware of these potential sweeps, because they looks like normal DNS traffic.&lt;/p&gt;
&lt;/dd&gt;
&lt;/dl&gt;
&lt;!-- raw HTML omitted --&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;Forward DNS Querying&lt;/p&gt;
&lt;p&gt;Legitimate forward query:&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;An end user accesses web site&lt;/li&gt;
&lt;li&gt;During the receipt of email when SMTP mail exchanger information is requested about the relevant domains&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;Attacker:
Issue forward DNS queries to identify mail servers and other obvious Internet-based systems&lt;/p&gt;
&lt;p&gt;Tools:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;The Sam Spade Windows client (available from &lt;a class=&#34;link&#34; href=&#34;http://www.samspade.org&#34;  target=&#34;_blank&#34; rel=&#34;noopener&#34;
    &gt;http://www.samspade.org&lt;/a&gt;)&lt;/li&gt;
&lt;li&gt;The nslookup client found within most operating systems&lt;/li&gt;
&lt;li&gt;The host client found within Unix environments&lt;/li&gt;
&lt;li&gt;The dig client found within Unix environments&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;!-- raw HTML omitted --&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;DNS Zone transfer Techniques&lt;/p&gt;
&lt;p&gt;DNS zone
: A &lt;!-- raw HTML omitted --&gt;DNS zone file&lt;!-- raw HTML omitted --&gt; contains all the naming information that the name server stores regarding a specific DNS domain, often including details of nonpublic internal networks and other userful information you can use to build an accurate map of the target infrastructure.&lt;/p&gt;
&lt;p&gt;Why we need DNS Zone transfer?
: In most organisations, they use &lt;!-- raw HTML omitted --&gt;multiple name server&lt;!-- raw HTML omitted --&gt; to implement &lt;!-- raw HTML omitted --&gt;load balancing&lt;!-- raw HTML omitted --&gt; and &lt;!-- raw HTML omitted --&gt;fault tolerance&lt;!-- raw HTML omitted --&gt;.&lt;/p&gt;
&lt;pre&gt;&lt;code&gt; The main name server is known as the `primary name server` and all subsequent name servers are `secondary name servers`.

 Either a `primary` or `secondary` name server can be &amp;lt;span class=&amp;quot;underline&amp;quot;&amp;gt;queried for name resolution&amp;lt;/span&amp;gt;, thus, it is important that each name server have current (primary) DNS zone information.

 To ensure this, a `secondary name server` will &amp;lt;span class=&amp;quot;underline&amp;quot;&amp;gt;regularly&amp;lt;/span&amp;gt; requests a complete listing of the computers it is responsible for from the primary.
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;Tools used to request DNS zone transfer information include:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;The Sam Spade Windows client (available from &lt;a class=&#34;link&#34; href=&#34;http://www.samspade.org&#34;  target=&#34;_blank&#34; rel=&#34;noopener&#34;
    &gt;http://www.samspade.org&lt;/a&gt;)&lt;/li&gt;
&lt;li&gt;The nslookup client found within most operating systems&lt;/li&gt;
&lt;li&gt;The host client found within Unix-based environments&lt;/li&gt;
&lt;li&gt;The dig client found within Unix-based environments&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;!-- raw HTML omitted --&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;Reverse DNS Sweeping&lt;/p&gt;
&lt;p&gt;You may notice in previous techniques, they require domain name as parameter, but in this case, we do the &lt;!-- raw HTML omitted --&gt;opposite&lt;!-- raw HTML omitted --&gt; thing against name resolution, we called &lt;code&gt;reverse DNS&lt;/code&gt;.&lt;/p&gt;
&lt;p&gt;It can gather details of hosts that may be protected or filtered but still have DNS hostnames assigned to them. It is also able to identify hosts and potential weaknesses within Internet-based points of presence because it reveals hosts and networks that may not be revealed during DNS zone transfer queries.&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;h4 id=&#34;countermeasures&#34;&gt;Countermeasures&lt;/h4&gt;
&lt;ul&gt;
&lt;li&gt;Disable directory indexing on Web servers&lt;/li&gt;
&lt;li&gt;Use “robots.txt” to prevent indexing of certain content by search engines
but do NOT rely on it to protect sensitive data&lt;/li&gt;
&lt;li&gt;Use generic details in WHOIS data (or privacy-protect it)&lt;/li&gt;
&lt;li&gt;Disable DNS zone transfers to untrusted hosts&lt;/li&gt;
&lt;li&gt;Prune DNS zone files from unnecessary information&lt;/li&gt;
&lt;li&gt;Preventing TypoSquatting: you may check if a similar domain is available, if you are Nintendo you may check for alternative domains with small variants (that people may mistype by accident while trying to visit your website).&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id=&#34;active-reconnaissance&#34;&gt;Active reconnaissance&lt;/h3&gt;
&lt;p&gt;Compare to the passive reconnaissance, &lt;code&gt;ACTIVE&lt;/code&gt; means &lt;!-- raw HTML omitted --&gt;actively&lt;!-- raw HTML omitted --&gt; interact with target services, network and hosts.&lt;/p&gt;
&lt;h4 id=&#34;active-reconnaissance-tools&#34;&gt;Active Reconnaissance Tools&lt;/h4&gt;
&lt;p&gt;&lt;a class=&#34;link&#34; href=&#34;https://nmap.org/&#34;  target=&#34;_blank&#34; rel=&#34;noopener&#34;
    &gt;Nmap&lt;/a&gt; (&amp;ldquo;Network mapper&amp;rdquo;) is the most used tools to &lt;!-- raw HTML omitted --&gt;perform Internet network scans&lt;!-- raw HTML omitted --&gt;, is a free and open source utility for network discovery and security auditing.&lt;/p&gt;
&lt;p&gt;Other commonly used tools include:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Nessus&lt;/li&gt;
&lt;li&gt;Rapid7 Nexpose&lt;/li&gt;
&lt;li&gt;QualysGuard&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;You always need to use both free and commercial tools to assess the network because the attackers will do the same!&lt;/p&gt;
&lt;p&gt;Some types of nmap scans&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;TCP scanning with connection (-sT, the default), Connection scans&lt;/li&gt;
&lt;li&gt;TCP scanning with SYN packets (-sS)&lt;/li&gt;
&lt;li&gt;TCP scanning through FIN (finished, is used to initial to close the connection) packets (-sF), no log file on server&lt;/li&gt;
&lt;li&gt;TCP scanning empty (-sN)&lt;/li&gt;
&lt;li&gt;TCP scanning Xmas Tree (FIN + PUSH + URG, -sX)&lt;/li&gt;
&lt;li&gt;TCP scanning through ACK packets (-sA)&lt;/li&gt;
&lt;li&gt;TCP canning with Window Size (-sW)&lt;/li&gt;
&lt;li&gt;TCP scanning through R&lt;/li&gt;
&lt;/ul&gt;
&lt;!-- raw HTML omitted --&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;div class=&#34;chroma&#34;&gt;
&lt;table class=&#34;lntable&#34;&gt;&lt;tr&gt;&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code&gt;&lt;span class=&#34;lnt&#34;&gt;1
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;
&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;nmap 10.130.1.43
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;&lt;dl&gt;
&lt;dt&gt;nmap -Sp&lt;/dt&gt;
&lt;dd&gt;The -sP option sends an ICMP echo request, TCP SYN to port 443, TCP ACK to port 80, and an ICMP timestamp request by default.&lt;/dd&gt;
&lt;/dl&gt;
&lt;h4 id=&#34;host-scanning&#34;&gt;Host Scanning&lt;/h4&gt;
&lt;dl&gt;
&lt;dt&gt;Aim&lt;/dt&gt;
&lt;dd&gt;To confirm if a target IP is reachable/active through Internet&lt;/dd&gt;
&lt;/dl&gt;
&lt;p&gt;Automated execution of a series of ping commands to determine which systems are active&lt;/p&gt;
&lt;p&gt;Known Techniques&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;Ping sweep&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;ICMP sweep&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Normally, the &lt;code&gt;&amp;quot;ping&amp;quot;&lt;/code&gt; command is used to send &lt;code&gt;ICMP ECHO_REQUEST&lt;/code&gt; packet to expect &lt;code&gt;ICMP ECHO_REPLY&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;However, it takes &lt;!-- raw HTML omitted --&gt;too much time&lt;!-- raw HTML omitted --&gt; in a large-scale networks because of waiting for the replay sequencly&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;Thus, we could use &lt;code&gt;fping&lt;/code&gt; to sends &lt;!-- raw HTML omitted --&gt;&amp;ldquo;blocks of ping&amp;rdquo;&lt;!-- raw HTML omitted --&gt; at the same time to fix this problem&lt;/p&gt;
&lt;dl&gt;
&lt;dt&gt;Defense against ping and fping scans&lt;/dt&gt;
&lt;dd&gt;Block all ICMP traffic&lt;/dd&gt;
&lt;dt&gt;Counter-defense&lt;/dt&gt;
&lt;dd&gt;&lt;ul&gt;
&lt;li&gt;scan ports at the &lt;!-- raw HTML omitted --&gt;transfer layer (TCP/UDP)&lt;!-- raw HTML omitted --&gt;, e.g., through &lt;code&gt;nmap&lt;/code&gt; or &lt;code&gt;hping3&lt;/code&gt; to send TCP ACK, you can see an example in Idle scanning later.&lt;/li&gt;
&lt;/ul&gt;
&lt;/dd&gt;
&lt;/dl&gt;
&lt;h4 id=&#34;port-scanning&#34;&gt;Port Scanning&lt;/h4&gt;
&lt;dl&gt;
&lt;dt&gt;Aim&lt;/dt&gt;
&lt;dd&gt;Try to connect to &lt;!-- raw HTML omitted --&gt;TCP and UDP ports&lt;!-- raw HTML omitted --&gt; of the target system to determine which network services are &lt;!-- raw HTML omitted --&gt;active&lt;!-- raw HTML omitted --&gt; (or LISTENING).
&lt;div class=&#34;highlight&#34;&gt;&lt;div class=&#34;chroma&#34;&gt;
&lt;table class=&#34;lntable&#34;&gt;&lt;tr&gt;&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code&gt;&lt;span class=&#34;lnt&#34;&gt;1
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;2
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;
&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-fallback&#34; data-lang=&#34;fallback&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;nmap -p(range) &amp;lt;target IP&amp;gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;namp -p3389,20-100 10.130.1.43
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;&lt;/dd&gt;
&lt;/dl&gt;
&lt;p&gt;It is important to know the active ports which can by exploited to attack.&lt;/p&gt;
&lt;dl&gt;
&lt;dt&gt;UDP Portscan&lt;/dt&gt;
&lt;dd&gt;Send a &lt;!-- raw HTML omitted --&gt;zero-length UDP packet&lt;!-- raw HTML omitted --&gt; to each port to determine which UDP services are available, if an &lt;code&gt;ICMP error message&lt;/code&gt; &amp;ldquo;port unreachable&amp;rdquo; is received, it assumed that this service is &lt;!-- raw HTML omitted --&gt;unavailable&lt;!-- raw HTML omitted --&gt;.
&lt;div class=&#34;highlight&#34;&gt;&lt;div class=&#34;chroma&#34;&gt;
&lt;table class=&#34;lntable&#34;&gt;&lt;tr&gt;&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code&gt;&lt;span class=&#34;lnt&#34;&gt;1
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;
&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;nmap -sU 192.168.1.1
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;&lt;/dd&gt;
&lt;dt&gt;TCP Portscan&lt;/dt&gt;
&lt;dd&gt;Try to &lt;!-- raw HTML omitted --&gt;establish&lt;!-- raw HTML omitted --&gt; a TCP handshake to all the 65535 ports of the victim host to determine TCP services are available or not:
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;Advantage: no need to be root&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Disadvantage: very noisy&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;div class=&#34;chroma&#34;&gt;
&lt;table class=&#34;lntable&#34;&gt;&lt;tr&gt;&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code&gt;&lt;span class=&#34;lnt&#34;&gt;1
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;
&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;nmap -sT 192.168.1.1
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/dd&gt;
&lt;/dl&gt;
&lt;!-- raw HTML omitted --&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;TCP FIN Scan&lt;/p&gt;
&lt;p&gt;The attacker sends a FIN-marked (to close TCP connection) packet to victim host&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;If the port is closed, a &lt;code&gt;RST packet&lt;/code&gt; is sent back&lt;/li&gt;
&lt;li&gt;If the port is open, the &lt;code&gt;FIN packet&lt;/code&gt; is ignored (timeout)&lt;/li&gt;
&lt;/ul&gt;
&lt;!-- raw HTML omitted --&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;div class=&#34;chroma&#34;&gt;
&lt;table class=&#34;lntable&#34;&gt;&lt;tr&gt;&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code&gt;&lt;span class=&#34;lnt&#34;&gt;1
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;
&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-fallback&#34; data-lang=&#34;fallback&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;nmap -sF 110.130.1.43
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;!-- raw HTML omitted --&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;Idle Scanning&lt;/p&gt;
&lt;p&gt;&lt;a class=&#34;link&#34; href=&#34;https://www.icterra.com/what-is-idle-scan/&#34;  target=&#34;_blank&#34; rel=&#34;noopener&#34;
    &gt;https://www.icterra.com/what-is-idle-scan/&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;How to understand the word &amp;ldquo;idle&amp;rdquo;?
: &lt;code&gt;&amp;quot;Idle&amp;quot;&lt;/code&gt; is the requirement of the &lt;!-- raw HTML omitted --&gt;zombie computer&lt;!-- raw HTML omitted --&gt;, it requires the zombie computer have &lt;!-- raw HTML omitted --&gt;low network traffic&lt;!-- raw HTML omitted --&gt; (or better it has almost &lt;!-- raw HTML omitted --&gt;no traffic&lt;!-- raw HTML omitted --&gt;). Thus it usually happens &lt;!-- raw HTML omitted --&gt;overnight&lt;!-- raw HTML omitted --&gt;.&lt;/p&gt;
&lt;p&gt;So why we need the zombie computers do not have any other traffic?&lt;/p&gt;
&lt;p&gt;The reason is directly pointing to the mechanism of &lt;code&gt;idle scanning&lt;/code&gt;: basically, idle scanning aims to use zombie computers to &amp;ldquo;relay&amp;rdquo; the scan without exposing attackers to victims, and get the status of service ports.&lt;/p&gt;
&lt;p&gt;Before we elaborate the mechanisms of idle scanning, let&amp;rsquo;s briefly recap the knowledge about the response of SYN segments&lt;/p&gt;
&lt;p&gt;TCP SYN Scanning:
AKA &amp;ldquo;half-open&amp;rdquo; scanning&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;If a &lt;code&gt;SYN/ACK&lt;/code&gt; segment is sent to a host, it will respond with &lt;code&gt;RST(reset)&lt;/code&gt; segment (because there is no corresponding session which started with a &lt;code&gt;SYN&lt;/code&gt; earlier to &lt;code&gt;SYN/ACK&lt;/code&gt;)&lt;/li&gt;
&lt;li&gt;If a &lt;code&gt;SYN&lt;/code&gt; segment is sent to a host, it will respond with a &lt;code&gt;RST(reset)&lt;/code&gt; if the port closed&lt;/li&gt;
&lt;/ul&gt;
&lt;figure&gt;&lt;img src=&#34;https://ginkgo.org.cn/ox-hugo/2022-03-05_16-13-15_screenshot.png&#34; width=&#34;400px&#34;/&gt;
    &lt;/figure&gt;

&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;If a &lt;code&gt;SYN&lt;/code&gt; segment is sent to a host, it will respond with a RST if the port closed,&lt;/p&gt;
&lt;figure&gt;&lt;img src=&#34;https://ginkgo.org.cn/ox-hugo/2022-03-05_16-13-25_screenshot.png&#34; width=&#34;400px&#34;/&gt;
        &lt;/figure&gt;

&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;If a &lt;code&gt;SYN&lt;/code&gt; segment is sent to a host, it doesn&amp;rsquo;t give a response if the port &lt;!-- raw HTML omitted --&gt;filtered&lt;!-- raw HTML omitted --&gt;.&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;figure&gt;&lt;img src=&#34;https://ginkgo.org.cn/ox-hugo/2022-03-05_16-13-30_screenshot.png&#34; width=&#34;400px&#34;/&gt;
    &lt;/figure&gt;

&lt;p&gt;Now let&amp;rsquo;s talk about the mechanism details with three scanning examples:&lt;/p&gt;
&lt;!-- raw HTML omitted --&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;Idle Scan (Victim Port Open)&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;
&lt;p&gt;The attacker sends a &lt;code&gt;SYN/ACK&lt;/code&gt; segment to the Zombie computer&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Zombie computer responses with &lt;code&gt;RST&lt;/code&gt; segment with its &lt;code&gt;IP ID&lt;/code&gt; is incremented by &amp;ldquo;one&amp;rdquo;&lt;/p&gt;
&lt;!-- raw HTML omitted --&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Since attackers get the initial IP ID value of Zombie computer, they will then sends a spoofed &lt;code&gt;SYN&lt;/code&gt; segment with Zombie computer&amp;rsquo;s IP address to the Victim&amp;rsquo;s computer&lt;/p&gt;
&lt;p&gt;The Attacker pretend to be zombie computer, and communicate with the victim.&lt;/p&gt;
&lt;figure&gt;&lt;img src=&#34;https://ginkgo.org.cn/ox-hugo/2022-03-05_16-16-48_screenshot.png&#34; width=&#34;400px&#34;/&gt;
            &lt;/figure&gt;

&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Since the target port is open, the victim computer will response a &lt;code&gt;SYN/ACK&lt;/code&gt; segment to Zombie computer.&lt;/p&gt;
&lt;figure&gt;&lt;img src=&#34;https://ginkgo.org.cn/ox-hugo/2022-03-05_16-19-04_screenshot.png&#34; width=&#34;400px&#34;/&gt;
            &lt;/figure&gt;

&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;However, the zombie computer did not establish a session with Victim computer, so when it receive the &lt;code&gt;SYN/ACK&lt;/code&gt; segment, it will respond with a &lt;code&gt;RST&lt;/code&gt; segment to it, and meanwhile, increases its &lt;code&gt;IP ID&lt;/code&gt; by &amp;ldquo;one&amp;rdquo; to &lt;!-- raw HTML omitted --&gt;6,163&lt;!-- raw HTML omitted --&gt;&lt;/p&gt;
&lt;figure&gt;&lt;img src=&#34;https://ginkgo.org.cn/ox-hugo/2022-03-05_16-21-12_screenshot.png&#34; width=&#34;400px&#34;/&gt;
            &lt;/figure&gt;

&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;The attackers want to check the current &lt;code&gt;IP ID&lt;/code&gt;, thus they send another &lt;code&gt;SYN/ACK&lt;/code&gt; segment to The Zombie computer&lt;/p&gt;
&lt;figure&gt;&lt;img src=&#34;https://ginkgo.org.cn/ox-hugo/2022-03-05_16-22-07_screenshot.png&#34; width=&#34;400px&#34;/&gt;
            &lt;/figure&gt;

&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;The Zombie computer responds with a &lt;code&gt;RST&lt;/code&gt; segment and increases its &lt;code&gt;IP ID&lt;/code&gt; by &amp;ldquo;one&amp;rdquo; to &lt;!-- raw HTML omitted --&gt;6,164&lt;!-- raw HTML omitted --&gt; then sends to the attacker&lt;/p&gt;
&lt;p&gt;The attackers check the IP ID is increased by &amp;ldquo;two&amp;rdquo; which could confirm that the victim computer is OPEN.&lt;/p&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;Based on this, we can also get the reason why we require the victim computer to be &amp;ldquo;idle&amp;rdquo;, otherwise, the increment could be uncertain.&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;!-- raw HTML omitted --&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;Idle Scan (Victim Port Closed)&lt;/p&gt;
&lt;p&gt;So, what if the port is closed?
This time, the spoofed &lt;code&gt;SYN&lt;/code&gt; segment will not get the response of &lt;code&gt;RST&lt;/code&gt;, which avoid the Zombie computer to interact with Victim computer, and the &lt;code&gt;IP ID&lt;/code&gt; did not increase, thus finally we will get the &lt;code&gt;IP ID&lt;/code&gt; only increase by &amp;ldquo;one&amp;rdquo;, which indicate the port is closed.&lt;/p&gt;
&lt;figure&gt;&lt;img src=&#34;https://ginkgo.org.cn/ox-hugo/2022-03-05_16-28-35_screenshot.png&#34; width=&#34;400px&#34;/&gt;
        &lt;/figure&gt;

&lt;figure&gt;&lt;img src=&#34;https://ginkgo.org.cn/ox-hugo/2022-03-05_16-28-39_screenshot.png&#34; width=&#34;400px&#34;/&gt;
        &lt;/figure&gt;

&lt;figure&gt;&lt;img src=&#34;https://ginkgo.org.cn/ox-hugo/2022-03-05_16-28-43_screenshot.png&#34; width=&#34;400px&#34;/&gt;
        &lt;/figure&gt;

&lt;figure&gt;&lt;img src=&#34;https://ginkgo.org.cn/ox-hugo/2022-03-05_16-28-47_screenshot.png&#34; width=&#34;400px&#34;/&gt;
        &lt;/figure&gt;

&lt;/li&gt;
&lt;/ul&gt;
&lt;!-- raw HTML omitted --&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;Idle Scan (Victim Port Fillterd)&lt;/p&gt;
&lt;p&gt;If there is a firewall filter the spoofed &lt;code&gt;SYN&lt;/code&gt; segment, the Victim computer will not send anything to Zombie computer, which result in the same &lt;code&gt;IP ID&lt;/code&gt; as Port closed case.&lt;/p&gt;
&lt;figure&gt;&lt;img src=&#34;https://ginkgo.org.cn/ox-hugo/2022-03-05_16-31-04_screenshot.png&#34; width=&#34;400px&#34;/&gt;
        &lt;/figure&gt;

&lt;figure&gt;&lt;img src=&#34;https://ginkgo.org.cn/ox-hugo/2022-03-05_16-30-15_screenshot.png&#34; width=&#34;400px&#34;/&gt;
        &lt;/figure&gt;

&lt;figure&gt;&lt;img src=&#34;https://ginkgo.org.cn/ox-hugo/2022-03-05_16-30-40_screenshot.png&#34; width=&#34;400px&#34;/&gt;
        &lt;/figure&gt;

&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;h4 id=&#34;os-fingerprinting&#34;&gt;OS Fingerprinting&lt;/h4&gt;
&lt;dl&gt;
&lt;dt&gt;Aim&lt;/dt&gt;
&lt;dd&gt;To determine the operating system of a host: Which OS? Which Version?&lt;/dd&gt;
&lt;/dl&gt;
&lt;!-- raw HTML omitted --&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;div class=&#34;chroma&#34;&gt;
&lt;table class=&#34;lntable&#34;&gt;&lt;tr&gt;&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code&gt;&lt;span class=&#34;lnt&#34;&gt;1
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;
&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-shell&#34; data-lang=&#34;shell&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;sudo nmap -O localhost
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;&lt;p&gt;#+begin_src bash
nmap -O -PN 192.168.1.1/24
k#+end_src&lt;/p&gt;
&lt;h4 id=&#34;service-enumeration-banner-grabbing&#34;&gt;Service Enumeration/Banner Grabbing&lt;/h4&gt;
&lt;p&gt;By grabbing the headers of exposed services, nmap (option -sV) can try to infer the exact service version&lt;/p&gt;
&lt;h4 id=&#34;nmap-scripting-engine&#34;&gt;Nmap Scripting Engine&lt;/h4&gt;
&lt;p&gt;Nmap provide a series of scripts for checking the vulnerabilities based on open services of victim host&lt;/p&gt;
&lt;p&gt;Scripts can be found in &lt;em&gt;usr/share/nmap/scripts&lt;/em&gt;&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;div class=&#34;chroma&#34;&gt;
&lt;table class=&#34;lntable&#34;&gt;&lt;tr&gt;&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code&gt;&lt;span class=&#34;lnt&#34;&gt;1
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;
&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;nmap --secript &lt;span class=&#34;o&#34;&gt;[&lt;/span&gt;script name&lt;span class=&#34;o&#34;&gt;]&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;[&lt;/span&gt;target&lt;span class=&#34;o&#34;&gt;]&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;&lt;figure&gt;&lt;img src=&#34;https://ginkgo.org.cn/ox-hugo/2022-03-06_11-32-26_screenshot.png&#34; width=&#34;700px&#34;/&gt;
&lt;/figure&gt;

&lt;h4 id=&#34;mitnick-shimomura-attack&#34;&gt;Mitnick-Shimomura attack&lt;/h4&gt;
&lt;p&gt;IP spoofing attack&lt;/p&gt;
&lt;p&gt;We assume A and B trust each other, they will establish connection without further authentication with each other.&lt;/p&gt;
&lt;p&gt;And C is the attacker who want to impersonate B with respect to A in opening a TCP connection&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;C first kill B with flooding, crashing or redirecting, then B can&amp;rsquo;t send RST segments back to A&lt;/li&gt;
&lt;li&gt;C sends a spoofed TCP SYN segment with B&amp;rsquo;s IP address to A, and s_c as the sequence number&lt;/li&gt;
&lt;li&gt;A replies with a TCP SYN/ACK segment to B with s_s as the sequence number. But B can&amp;rsquo;t reply.&lt;/li&gt;
&lt;li&gt;C does not receive segment from A, but C wants to continue the connection, so C send an &lt;code&gt;ACK&lt;/code&gt; segment with s_s + 1 as the acknowledgement number
&lt;ul&gt;
&lt;li&gt;C need to guess the sequence number&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;h4 id=&#34;countermeasure&#34;&gt;Countermeasure:&lt;/h4&gt;
&lt;ul&gt;
&lt;li&gt;Block scanning (e.g., ICMP)&lt;/li&gt;
&lt;li&gt;Check open ports and configuration, to make sure that only appropriate services are exposed.&lt;/li&gt;
&lt;li&gt;Monitor network activity (e.g., Intrusion Detection System, SIEM)&lt;/li&gt;
&lt;/ul&gt;
</description>
        </item>
        
    </channel>
</rss>
